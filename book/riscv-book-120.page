<div id="pf78" class="pf w0 h0" data-page-no="78"><div class="pc pc78 w0 h0"><img class="bi x126 y13f4 w21 hb5" alt="" src="bg78.png"/><div class="t m0 x15 hc y13f5 ff7 fs8 fc0 sc0 ls0 ws0">Chapter<span class="_ _19"> </span>9</div><div class="t m0 x15 h9 y13f6 ff7 fs5 fc0 sc0 ls0 ws0">Accessing<span class="_ _f"> </span>p<span class="_ _1d"></span>eripherals</div><div class="t m0 x15 h7 y13f7 ff3 fs4 fc0 sc0 ls0 ws0">As discussed<span class="_ _5"> </span>in<span class="_ _5"> </span>the<span class="_ _5"> </span>previous chapters, the<span class="_ _5"> </span>CPU<span class="_ _5"> </span>executes<span class="_ _5"> </span>programs<span class="_ _5"> </span>that are<span class="_ _5"> </span>stored<span class="_ _5"> </span>on</div><div class="t m0 x15 h7 y13f8 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>main<span class="_ _2"> </span>memory.<span class="_ _9"> </span>In<span class="_ _2"> </span>this<span class="_ _b"> </span>process,<span class="_ _2"> </span>the<span class="_ _b"> </span>CPU<span class="_ _5"> </span>fetches<span class="_ _2"> </span>the<span class="_ _2"> </span>program’s<span class="_ _b"> </span>instructions<span class="_ _5"> </span>from</div><div class="t m0 x15 h7 y13f9 ff3 fs4 fc0 sc0 ls0 ws0">the main memory and executes them,<span class="_ _5"> </span>which ma<span class="_ _8"></span>y cause the CPU to<span class="_ _5"> </span>load or store data</div><div class="t m0 x15 h7 y13fa ff3 fs4 fc0 sc0 ls0 ws0">on<span class="_ _3"> </span>the<span class="_ _b"> </span>main<span class="_ _3"> </span>memory.<span class="_ _26"> </span>The<span class="_ _3"> </span>previous<span class="_ _3"> </span>chapters<span class="_ _b"> </span>also<span class="_ _3"> </span>explain<span class="_ _b"> </span>that<span class="_ _3"> </span>user-level<span class="_ _b"> </span>programs</div><div class="t m0 x15 h7 y13fb ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _4"></span>erform<span class="_ _5"> </span>input<span class="_ _2"> </span>and<span class="_ _2"> </span>output<span class="_ _2"> </span>op<span class="_ _4"></span>erations<span class="_ _5"> </span>by<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span>op<span class="_ _4"></span>erating<span class="_ _2"> </span>system.</div><div class="t m0 xd h7 y13fc ff3 fs4 fc0 sc0 ls0 ws0">This chapter discusses<span class="_ _5"> </span>how programs may directly<span class="_ _5"> </span>interact with input<span class="_ _5"> </span>and<span class="_ _5"> </span>output</div><div class="t m0 x15 h7 y13fd ff3 fs4 fc0 sc0 ls0 ws0">hardw<span class="_ _1"></span>are<span class="_ _b"> </span>devices<span class="_ _2"> </span>to<span class="_ _b"> </span>p<span class="_ _4"></span>erform<span class="_ _2"> </span>input<span class="_ _b"> </span>and<span class="_ _b"> </span>output<span class="_ _2"> </span>op<span class="_ _4"></span>erations.<span class="_ _31"> </span>This<span class="_ _b"> </span>task<span class="_ _b"> </span>is<span class="_ _2"> </span>useful<span class="_ _b"> </span>when</div><div class="t m0 x15 h7 y13fe ff3 fs4 fc0 sc0 ls0 ws0">dev<span class="_ _1"></span>eloping<span class="_ _2"> </span>soft<span class="_ _1"></span>w<span class="_ _1"></span>are<span class="_ _2"> </span>for<span class="_ _2"> </span>a<span class="_ _2"> </span>system<span class="_ _2"> </span>that<span class="_ _2"> </span>do<span class="_ _4"></span>es<span class="_ _2"> </span>not<span class="_ _2"> </span>con<span class="_ _8"></span>tain<span class="_ _b"> </span>an<span class="_ _5"> </span>op<span class="_ _4"></span>erating<span class="_ _5"> </span>system<span class="_ _2"> </span>or<span class="_ _2"> </span>when</div><div class="t m0 x15 h7 y13ff ff3 fs4 fc0 sc0 ls0 ws0">implemen<span class="_ _1"></span>ting<span class="_ _2"> </span>op<span class="_ _4"></span>erating<span class="_ _5"> </span>systems’<span class="_ _2"> </span>comp<span class="_ _4"></span>onen<span class="_ _8"></span>ts,<span class="_ _2"> </span>such<span class="_ _5"> </span>as<span class="_ _2"> </span>device<span class="_ _2"> </span>drivers.</div><div class="t m0 xd h7 y1400 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _b"> </span>remainder<span class="_ _b"> </span>of<span class="_ _2"> </span>the<span class="_ _b"> </span>chapter<span class="_ _2"> </span>is<span class="_ _b"> </span>organized<span class="_ _b"> </span>as<span class="_ _b"> </span>follo<span class="_ _8"></span>ws:<span class="_ _31"> </span>Section<span class="_ _b"> </span>9.1<span class="_ _b"> </span>in<span class="_ _8"></span>tro<span class="_ _4"></span>duces<span class="_ _b"> </span>the</div><div class="t m0 x15 h7 y1401 ff3 fs4 fc0 sc0 ls0 ws0">concept<span class="_ _5"> </span>of<span class="_ _5"> </span>p<span class="_ _4"></span>eripherals<span class="_ _5"> </span>and<span class="_ _5"> </span>discusses<span class="_ _2"> </span>ho<span class="_ _1"></span>w<span class="_ _5"> </span>they<span class="_ _5"> </span>are<span class="_ _2"> </span>connected<span class="_ _5"> </span>to<span class="_ _5"> </span>the<span class="_ _2"> </span>CPU.<span class="_ _5"> </span>Section<span class="_ _5"> </span>9.2</div><div class="t m0 x15 h7 y1402 ff3 fs4 fc0 sc0 ls0 ws0">presen<span class="_ _1"></span>ts<span class="_ _9"> </span>the<span class="_ _9"> </span>tw<span class="_ _8"></span>o<span class="_ _31"> </span>main<span class="_ _9"> </span>metho<span class="_ _4"></span>ds<span class="_ _25"> </span>for<span class="_ _31"> </span>programs<span class="_ _9"> </span>to<span class="_ _9"> </span>interact<span class="_ _25"> </span>with<span class="_ _31"> </span>p<span class="_ _4"></span>eripherals:<span class="_ _19"> </span>p<span class="_ _4"></span>ort-</div><div class="t m0 x15 h7 y1403 ff3 fs4 fc0 sc0 ls0 ws0">mapp<span class="_ _4"></span>ed<span class="_ _a"> </span>I/O<span class="_ _25"> </span>and<span class="_ _25"> </span>memory-mapp<span class="_ _4"></span>ed<span class="_ _25"> </span>I/O.<span class="_ _25"> </span>Section<span class="_ _25"> </span>9.3<span class="_ _25"> </span>discusses<span class="_ _25"> </span>how<span class="_ _a"> </span>I/O<span class="_ _25"> </span>op<span class="_ _4"></span>erations</div><div class="t m0 x15 h7 y1404 ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _3"> </span>p<span class="_ _4"></span>erformed<span class="_ _b"> </span>on<span class="_ _3"> </span>RISC-V-based<span class="_ _3"> </span>computing<span class="_ _3"> </span>systems.<span class="_ _15"> </span>Finally<span class="_ _7"></span>,<span class="_ _3"> </span>Section<span class="_ _3"> </span>9.3<span class="_ _3"> </span>discusses</div><div class="t m0 x15 h7 y1405 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>busy<span class="_ _2"> </span>w<span class="_ _1"></span>aiting<span class="_ _2"> </span>concept.</div><div class="t m0 x15 hd y1406 ff7 fs3 fc0 sc0 ls0 ws0">9.1<span class="_ _32"> </span>P<span class="_ _8"></span>eripherals</div><div class="t m0 x15 h7 y1407 ff6 fs4 fc0 sc0 ls0 ws0">P<span class="_ _8"></span>eripherals<span class="_ _25"> </span>are<span class="_ _25"> </span>input/output,<span class="_ _25"> </span>or<span class="_ _a"> </span>I/O,<span class="_ _25"> </span>devices<span class="_ _a"> </span>that<span class="_ _25"> </span>are<span class="_ _25"> </span>connected<span class="_ _a"> </span>to<span class="_ _25"> </span>the</div><div class="t m0 x15 h7 y1408 ff6 fs4 fc0 sc0 ls0 ws0">computer<span class="ff3">.<span class="_ _3"> </span>There are sev<span class="_ _8"></span>eral kinds of<span class="_ _2f"> </span>peripherals.<span class="_ _3"> </span>Mouse,<span class="_ _5"> </span>k<span class="_ _1"></span>eyb<span class="_ _4"></span>oard, image<span class="_ _2f"> </span>scanners,</span></div><div class="t m0 x15 h7 y1409 ff3 fs4 fc0 sc0 ls0 ws0">barco<span class="_ _4"></span>de<span class="_ _b"> </span>readers,<span class="_ _3"> </span>game<span class="_ _3"> </span>controllers,<span class="_ _b"> </span>microphones,<span class="_ _a"> </span>webcams,<span class="_ _3"> </span>and<span class="_ _3"> </span>read-only<span class="_ _3"> </span>memories</div><div class="t m0 x15 h7 y140a ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _2"> </span>examples<span class="_ _2"> </span>of<span class="_ _b"> </span>input<span class="_ _2"> </span>devices.<span class="_ _25"> </span>Monitors,<span class="_ _2"> </span>pro<span class="_ _1d"></span>jectors,<span class="_ _2"> </span>printers,<span class="_ _2"> </span>headphones,<span class="_ _2"> </span>and<span class="_ _b"> </span>com-</div><div class="t m0 x15 h7 y140b ff3 fs4 fc0 sc0 ls0 ws0">puter<span class="_ _b"> </span>speakers<span class="_ _2"> </span>are<span class="_ _b"> </span>examples<span class="_ _b"> </span>of<span class="_ _b"> </span>output<span class="_ _2"> </span>devices.<span class="_ _16"> </span>There<span class="_ _b"> </span>are<span class="_ _b"> </span>also<span class="_ _b"> </span>devices<span class="_ _2"> </span>that<span class="_ _b"> </span>p<span class="_ _4"></span>erform</div><div class="t m0 x15 h7 y140c ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>oth<span class="_ _30"> </span>input and<span class="_ _30"> </span>output<span class="_ _2f"> </span>operations, such<span class="_ _30"> </span>as data<span class="_ _30"> </span>storage<span class="_ _2f"> </span>devices<span class="_ _2f"> </span>(including<span class="_ _30"> </span>a disk<span class="_ _30"> </span>drive,</div><div class="t m0 x15 h7 y140d ff3 fs4 fc0 sc0 ls0 ws0">USB<span class="_ _2"> </span>ﬂash<span class="_ _2"> </span>driv<span class="_ _1"></span>e,<span class="_ _2"> </span>memory<span class="_ _2"> </span>card,<span class="_ _2"> </span>and<span class="_ _2"> </span>tap<span class="_ _4"></span>e<span class="_ _5"> </span>drive),<span class="_ _5"> </span>netw<span class="_ _8"></span>ork<span class="_ _2"> </span>cards,<span class="_ _2"> </span><span class="ff8">etc.</span></div><div class="t m0 xd h7 y140e ff3 fs4 fc0 sc0 ls0 ws0">Input<span class="_ _2"> </span>and<span class="_ _2"> </span>output<span class="_ _2"> </span>devices<span class="_ _2"> </span>in<span class="_ _1"></span>terface<span class="_ _2"> </span>with<span class="_ _2"> </span>the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>through<span class="_ _2"> </span>a<span class="_ _2"> </span>bus,<span class="_ _2"> </span>which<span class="_ _5"> </span>is<span class="_ _2"> </span>a<span class="_ _2"> </span>com-</div><div class="t m0 x15 h7 y140f ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>unication<span class="_ _25"> </span>system<span class="_ _9"> </span>that<span class="_ _9"> </span>transfers<span class="_ _9"> </span>information<span class="_ _9"> </span>b<span class="_ _4"></span>et<span class="_ _8"></span>ween<span class="_ _25"> </span>the<span class="_ _9"> </span>computer<span class="_ _9"> </span>comp<span class="_ _4"></span>onen<span class="_ _8"></span>ts.</div><div class="t m0 x15 h7 y1410 ff3 fs4 fc0 sc0 ls0 ws0">This<span class="_ _3"> </span>system<span class="_ _3"> </span>is<span class="_ _b"> </span>usually<span class="_ _3"> </span>comp<span class="_ _4"></span>osed<span class="_ _3"> </span>of<span class="_ _b"> </span>wires<span class="_ _3"> </span>that<span class="_ _3"> </span>are<span class="_ _3"> </span>resp<span class="_ _4"></span>onsible<span class="_ _b"> </span>for<span class="_ _3"> </span>transmitting<span class="_ _3"> </span>the</div><div class="t m0 x15 h7 y1411 ff3 fs4 fc0 sc0 ls0 ws0">information<span class="_ _2"> </span>and<span class="_ _b"> </span>associated<span class="_ _2"> </span>circuitries,<span class="_ _b"> </span>whic<span class="_ _8"></span>h<span class="_ _b"> </span>orc<span class="_ _8"></span>hestrate<span class="_ _b"> </span>comm<span class="_ _8"></span>unication.<span class="_ _25"> </span>Figure<span class="_ _b"> </span>9.1</div><div class="t m0 x15 h7 y1412 ff3 fs4 fc0 sc0 ls0 ws0">illustrates<span class="_ _3"> </span>a<span class="_ _a"> </span>computer<span class="_ _3"> </span>system<span class="_ _a"> </span>in<span class="_ _3"> </span>which<span class="_ _3"> </span>a<span class="_ _3"> </span>system<span class="_ _a"> </span>bus<span class="_ _3"> </span>connects<span class="_ _a"> </span>the<span class="_ _3"> </span>CPU,<span class="_ _a"> </span>the<span class="_ _3"> </span>main</div><div class="t m0 x15 h7 y1413 ff3 fs4 fc0 sc0 ls0 ws0">memory,<span class="_ _2"> </span>a<span class="_ _2"> </span>p<span class="_ _4"></span>ersisten<span class="_ _8"></span>t<span class="_ _2"> </span>storage<span class="_ _2"> </span>device<span class="_ _2"> </span>(HDD),<span class="_ _2"> </span>an<span class="_ _2"> </span>input<span class="_ _2"> </span>device,<span class="_ _2"> </span>and<span class="_ _2"> </span>an<span class="_ _2"> </span>output<span class="_ _2"> </span>device.</div><div class="c x21 y1414 w3 hf"><div class="t m0 x22 h10 y14c ffb fs9 fc0 sc0 ls0 ws0">bus</div><div class="t m0 x23 h10 y14d ffb fs9 fc0 sc0 ls0 ws0">CPU</div><div class="t m0 x11e h10 y14e ffb fs9 fc0 sc0 ls0 ws0">Main </div><div class="t m0 x24 h10 y14f ffb fs9 fc0 sc0 ls0 ws0">Memory</div><div class="t m0 x25 h10 y14e ffb fs9 fc0 sc0 ls0 ws0">Output </div><div class="t m0 x25 h10 y14f ffb fs9 fc0 sc0 ls0 ws0">device</div><div class="t m0 x26 h10 y150 ffb fs9 fc0 sc0 ls0 ws0">Input </div><div class="t m0 x25 h10 y151 ffb fs9 fc0 sc0 ls0 ws0">device</div><div class="t m0 x27 h10 y152 ffb fs9 fc0 sc0 ls0 ws0">HDD</div></div><div class="t m0 x28 h7 y1415 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>9.1:<span class="_ _3"> </span>Computer<span class="_ _2"> </span>system<span class="_ _2"> </span>comp<span class="_ _4"></span>onents<span class="_ _5"> </span>connected<span class="_ _2"> </span>through<span class="_ _2"> </span>a<span class="_ _2"> </span>system<span class="_ _2"> </span>bus.</div><div class="t m0 xd h7 y48 ff3 fs4 fc0 sc0 ls0 ws0">P<span class="_ _1"></span>eripherals<span class="_ _b"> </span>usually<span class="_ _2"> </span>contain<span class="_ _2"> </span>registers<span class="_ _b"> </span>or<span class="_ _b"> </span>an<span class="_ _2"> </span>internal<span class="_ _2"> </span>memory<span class="_ _b"> </span>that<span class="_ _2"> </span>are<span class="_ _b"> </span>accessed<span class="_ _b"> </span>b<span class="_ _8"></span>y</div><div class="t m0 xa2 h7 yc ff3 fs4 fc0 sc0 ls0 ws0">107</div><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:273.394000px;bottom:581.612000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:106.988000px;bottom:569.657000px;width:62.192000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:261.776000px;bottom:569.657000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:106.350000px;bottom:557.702000px;width:61.553000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:346.274000px;bottom:557.702000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:122.239000px;bottom:545.747000px;width:62.839000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf78" data-dest-detail='[120,"XYZ",90.709,399.852,null]'><div class="d m1" style="border-style:none;position:absolute;left:379.314000px;bottom:473.898000px;width:14.722000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",136.063,159.451,null]'><div class="d m1" style="border-style:none;position:absolute;left:445.486000px;bottom:461.943000px;width:14.723000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7c" data-dest-detail='[124,"XYZ",90.709,771.024,null]'><div class="d m1" style="border-style:none;position:absolute;left:309.038000px;bottom:437.479000px;width:14.723000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7c" data-dest-detail='[124,"XYZ",90.709,771.024,null]'><div class="d m1" style="border-style:none;position:absolute;left:402.901000px;bottom:426.077000px;width:14.722000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,301.7,null]'><div class="d m1" style="border-style:none;position:absolute;left:89.712000px;bottom:358.380000px;width:58.629000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",136.063,563.789,null]'><div class="d m1" style="border-style:none;position:absolute;left:369.248000px;bottom:275.189000px;width:16.992000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf78" data-dest-detail='[120,"XYZ",90.709,209.76,null]'><div class="d m1" style="border-style:none;position:absolute;left:445.486000px;bottom:239.323000px;width:14.723000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",136.063,563.789,null]'><div class="d m1" style="border-style:none;position:absolute;left:310.966000px;bottom:227.368000px;width:16.992000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:389.924000px;bottom:227.368000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:436.631000px;bottom:227.368000px;width:23.578000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:89.712000px;bottom:214.859000px;width:37.167000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,256.917,null]'><div class="d m1" style="border-style:none;position:absolute;left:139.277000px;bottom:214.859000px;width:78.594000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

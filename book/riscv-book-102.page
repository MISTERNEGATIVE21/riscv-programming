<div id="pf66" class="pf w0 h0" data-page-no="66"><div class="pc pc66 w0 h0"><img class="bi x15 y3f1 w2 h39" alt="" src="bg66.png"/><div class="t m0 x15 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">8.2.<span class="_ _19"> </span>THE<span class="_ _2"> </span>PROGRAM<span class="_ _5"> </span>ST<span class="_ _7"></span>ACK</div><div class="t m0 x111 h8 yc69 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>0(sp)<span class="_ _3b"> </span>#<span class="_ _31"> </span>retrieve<span class="_ _9"> </span>data<span class="_ _31"> </span>from<span class="_ _31"> </span>stack</span></div><div class="t m0 x111 h8 yc6a ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _9"> </span>4<span class="_ _3b"> </span>#<span class="_ _31"> </span>deallocate<span class="_ _31"> </span>space</span></div><div class="t m0 xd h7 y112c ff3 fs4 fc0 sc0 ls0 ws0">Figure 8.2 (a)<span class="_ _5"> </span>illustrates a<span class="_ _5"> </span>program stack that starts at<span class="_ _5"> </span>address <span class="ff5">0x0500<span class="_ _5"> </span></span>and grows</div><div class="t m0 x15 h7 y112d ff3 fs4 fc0 sc0 ls0 ws0">do<span class="_ _1"></span>wn<span class="_ _b"> </span>to<span class="_ _2"> </span>address<span class="_ _b"> </span><span class="ff5">0x04E4</span>.<span class="_ _31"> </span>Since<span class="_ _b"> </span>the<span class="_ _2"> </span>stack<span class="_ _2"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ter<span class="_ _b"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ts<span class="_ _b"> </span>to<span class="_ _2"> </span>the<span class="_ _b"> </span>top<span class="_ _b"> </span>of<span class="_ _2"> </span>the<span class="_ _b"> </span>stac<span class="_ _8"></span>k,<span class="_ _b"> </span>the</div><div class="t m0 x15 h7 y112e ff3 fs4 fc0 sc0 ls0 ws0">con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">sp<span class="_ _2"> </span></span>is<span class="_ _2"> </span>equal<span class="_ _2"> </span>to<span class="_ _2"> </span><span class="ff5">0x04E4</span>.</div><div class="c x2e y112f w1e ha3"><div class="t m0 xcc ha4 y1130 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 xf7 ha4 y1131 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x10f ha5 y1132 ff9b fs3b fc0 sc0 lsb ws0"><span class="ff9c ls0"></span></div><div class="t m0 x48 ha5 y1133 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1134 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1135 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1136 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1137 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1138 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1139 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113a ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113b ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113c ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113d ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113e ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xdc ha6 y113f ff9d fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xa3 ha4 y1130 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x11 ha4 y1131 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x5 ha5 y1140 ff9b fs3b fc0 sc0 lsb ws0"><span class="ff9c ls0"></span></div><div class="t m0 x44 ha5 y1133 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y1134 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y1135 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y1136 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y1137 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y1138 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y1139 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y113a ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xeb ha6 y1141 ff9d fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y113b ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y113c ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y113d ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x44 ha5 y113e ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x12d ha6 y113f ff9d fs3b fc0 sc0 ls0 ws0"></div></div><div class="t m0 x7f h1d y1142 fff fsd fc0 sc0 ls0 ws0">(a)</div><div class="c xb y112f w1f ha3"><div class="t m0 x132 ha4 y1130 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x133 ha4 y1131 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x134 ha5 y1132 ff9f fs3b fc0 sc0 lsb ws0"><span class="ffa0 ls0"></span></div><div class="t m0 x135 ha5 y1133 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1134 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1135 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1136 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1137 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1138 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1139 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y113a ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y113b ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y113c ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y113d ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y113e ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x136 ha6 y113f ffa1 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xcc ha4 y1130 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 xf7 ha4 y1131 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x10f ha5 y1140 ff9f fs3b fc0 sc0 lsb ws0"><span class="ffa0 ls0"></span></div><div class="t m0 x48 ha5 y1133 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1134 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1135 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1136 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1137 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1138 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y1139 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113a ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x121 ha6 y1141 ffa1 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113b ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113c ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113d ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x48 ha5 y113e ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xdc ha6 y113f ffa1 fs3b fc0 sc0 ls0 ws0"></div></div><div class="t m0 x5d h1d y1142 fff fsd fc0 sc0 ls0 ws0">(b)</div><div class="t m0 x15 h7 y1143 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _a"> </span>8.2:<span class="_ _0"> </span>Example<span class="_ _a"> </span>of<span class="_ _25"> </span>a<span class="_ _25"> </span>program<span class="_ _25"> </span>stac<span class="_ _1"></span>k<span class="_ _a"> </span>starting<span class="_ _25"> </span>at<span class="_ _25"> </span>address<span class="_ _25"> </span><span class="ff5">0x0500<span class="_ _25"> </span></span>and<span class="_ _a"> </span>growing</div><div class="t m0 x15 h7 y1144 ff3 fs4 fc0 sc0 ls0 ws0">do<span class="_ _1"></span>wn<span class="_ _1"></span>w<span class="_ _1"></span>ard<span class="_ _5"> </span>to<span class="_ _5"> </span>address<span class="_ _2"> </span><span class="ff5">0x04E4<span class="_ _5"> </span></span>(a)<span class="_ _2"> </span>b<span class="_ _4"></span>efore and<span class="_ _2"> </span>(b)<span class="_ _5"> </span>after<span class="_ _5"> </span>pushing<span class="_ _2"> </span>v<span class="_ _8"></span>alue<span class="_ _5"> </span><span class="ff5">0xFA0312B0<span class="_ _2"> </span></span>in<span class="_ _1"></span>to</div><div class="t m0 x15 h7 y1145 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>stac<span class="_ _1"></span>k.</div><div class="t m0 xd h7 y1146 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _b"> </span>8.2<span class="_ _b"> </span>(b)<span class="_ _b"> </span>shows<span class="_ _b"> </span>how<span class="_ _b"> </span>the<span class="_ _b"> </span>program<span class="_ _b"> </span>stac<span class="_ _1"></span>k<span class="_ _b"> </span>is<span class="_ _b"> </span>mo<span class="_ _4"></span>diﬁed<span class="_ _b"> </span>after<span class="_ _b"> </span>executing<span class="_ _b"> </span>the<span class="_ _b"> </span>fol-</div><div class="t m0 x15 h7 y1147 ff3 fs4 fc0 sc0 ls0 ws0">lo<span class="_ _1"></span>wing<span class="_ _5"> </span>co<span class="_ _4"></span>de,<span class="_ _5"> </span><span class="ff8">i.e.</span>,<span class="_ _5"> </span>after<span class="_ _2"> </span>pushing<span class="_ _5"> </span>the<span class="_ _5"> </span>conten<span class="_ _8"></span>ts<span class="_ _2"> </span>of<span class="_ _5"> </span>register<span class="_ _5"> </span><span class="ff5">a0<span class="_ _2"> </span></span>into the<span class="_ _5"> </span>stack.<span class="_ _3"> </span>Notice<span class="_ _5"> </span>that</div><div class="t m0 x15 h7 y1148 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>v<span class="_ _8"></span>alue<span class="_ _b"> </span>of<span class="_ _b"> </span>the<span class="_ _b"> </span>stack<span class="_ _b"> </span>pointer<span class="_ _b"> </span>(<span class="ff5">sp</span>)<span class="_ _b"> </span>w<span class="_ _8"></span>as<span class="_ _b"> </span>decremented<span class="_ _b"> </span>b<span class="_ _8"></span>y<span class="_ _b"> </span>4<span class="_ _b"> </span>units<span class="_ _b"> </span>and<span class="_ _b"> </span>the<span class="_ _b"> </span>conten<span class="_ _8"></span>ts<span class="_ _3"> </span>of</div><div class="t m0 x15 h7 y1149 ff3 fs4 fc0 sc0 ls0 ws0">register<span class="_ _2"> </span><span class="ff5">a0<span class="_ _2"> </span></span>(<span class="ff5">0xFA0312B0</span>)<span class="_ _2"> </span>w<span class="_ _1"></span>as<span class="_ _2"> </span>stored<span class="_ _2"> </span>at<span class="_ _2"> </span>the<span class="_ _2"> </span>memory<span class="_ _2"> </span>starting<span class="_ _2"> </span>at<span class="_ _2"> </span>address<span class="_ _2"> </span><span class="ff5">0x04E0</span>.</div><div class="t m0 x111 h8 y114a ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>0xFA0312B0</span></div><div class="t m0 x111 h8 y114b ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _9"> </span>-4<span class="_ _86"> </span>#<span class="_ _31"> </span>allocate<span class="_ _31"> </span>stack<span class="_ _31"> </span>space</span></div><div class="t m0 x111 h8 y114c ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _16"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>0(sp)<span class="_ _56"> </span>#<span class="_ _9"> </span>store<span class="_ _31"> </span>data<span class="_ _31"> </span>into<span class="_ _9"> </span>the<span class="_ _31"> </span>stack</span></div><div class="t m0 xd h7 y114d ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _25"> </span>previous<span class="_ _9"> </span>examples<span class="_ _9"> </span>discussed<span class="_ _9"> </span>how<span class="_ _25"> </span>to<span class="_ _9"> </span>push<span class="_ _9"> </span>and<span class="_ _9"> </span>p<span class="_ _4"></span>op<span class="_ _25"> </span>a<span class="_ _9"> </span>single<span class="_ _9"> </span>w<span class="_ _1"></span>ord<span class="_ _25"> </span>(4-byte</div><div class="t m0 x15 h7 y114e ff3 fs4 fc0 sc0 ls0 ws0">v<span class="_ _8"></span>alue)<span class="_ _b"> </span>to<span class="_ _3"> </span>and<span class="_ _b"> </span>from<span class="_ _3"> </span>the<span class="_ _b"> </span>stack.<span class="_ _12"> </span>In<span class="_ _3"> </span>man<span class="_ _8"></span>y<span class="_ _3"> </span>situations,<span class="_ _3"> </span>a<span class="_ _b"> </span>program<span class="_ _3"> </span>ma<span class="_ _8"></span>y<span class="_ _3"> </span>need<span class="_ _b"> </span>to<span class="_ _3"> </span>push<span class="_ _b"> </span>or</div><div class="t m0 x15 h7 y114f ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _4"></span>op m<span class="_ _8"></span>ultiple<span class="_ _5"> </span>v<span class="_ _8"></span>alues to<span class="_ _5"> </span>or from<span class="_ _5"> </span>the stack.<span class="_ _3"> </span>F<span class="_ _7"></span>or example,<span class="_ _5"> </span>the program<span class="_ _5"> </span>may need to sav<span class="_ _8"></span>e</div><div class="t m0 x15 h7 y1150 ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _b"> </span>set<span class="_ _b"> </span>of<span class="_ _b"> </span>register<span class="_ _3"> </span>v<span class="_ _7"></span>alues<span class="_ _b"> </span>on<span class="_ _3"> </span>the<span class="_ _b"> </span>stac<span class="_ _1"></span>k.<span class="_ _12"> </span>In<span class="_ _b"> </span>these<span class="_ _b"> </span>cases,<span class="_ _3"> </span>the<span class="_ _b"> </span>co<span class="_ _4"></span>de<span class="_ _b"> </span>ma<span class="_ _8"></span>y<span class="_ _3"> </span>be<span class="_ _b"> </span>optimized<span class="_ _3"> </span>b<span class="_ _8"></span>y</div><div class="t m0 x15 h7 y1151 ff3 fs4 fc0 sc0 ls0 ws0">adjusting<span class="_ _2"> </span>(increasing<span class="_ _b"> </span>or<span class="_ _2"> </span>decreasing)<span class="_ _b"> </span>the<span class="_ _2"> </span>stac<span class="_ _1"></span>k<span class="_ _2"> </span>p<span class="_ _4"></span>oin<span class="_ _1"></span>ter<span class="_ _2"> </span>only<span class="_ _b"> </span>once.<span class="_ _25"> </span>The<span class="_ _b"> </span>follo<span class="_ _8"></span>wing<span class="_ _b"> </span>code</div><div class="t m0 x15 h7 y1152 ff3 fs4 fc0 sc0 ls0 ws0">sho<span class="_ _1"></span>ws<span class="_ _3"> </span>ho<span class="_ _8"></span>w<span class="_ _3"> </span>to<span class="_ _3"> </span>push<span class="_ _3"> </span>four<span class="_ _3"> </span>v<span class="_ _8"></span>alues<span class="_ _3"> </span>from<span class="_ _3"> </span>registers<span class="_ _3"> </span><span class="ff5">a0</span>,<span class="_ _3"> </span><span class="ff5">a1</span>,<span class="_ _3"> </span><span class="ff5">a2</span>,<span class="_ _a"> </span>and<span class="_ _3"> </span><span class="ff5">a3<span class="_ _3"> </span></span>in<span class="_ _8"></span>to<span class="_ _3"> </span>the<span class="_ _3"> </span>program</div><div class="t m0 x15 h7 y1153 ff3 fs4 fc0 sc0 ls0 ws0">stac<span class="_ _1"></span>k.<span class="_ _25"> </span>Notice<span class="_ _2"> </span>that<span class="_ _b"> </span>the<span class="_ _5"> </span>stack<span class="_ _2"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ter<span class="_ _b"> </span>w<span class="_ _8"></span>as<span class="_ _2"> </span>adjusted<span class="_ _b"> </span>only<span class="_ _5"> </span>once<span class="_ _b"> </span>and<span class="_ _2"> </span>the<span class="_ _2"> </span>immediate<span class="_ _2"> </span>ﬁeld</div><div class="t m0 x15 h7 y1154 ff3 fs4 fc0 sc0 ls0 ws0">of the<span class="_ _5"> </span>store<span class="_ _5"> </span>word instruction<span class="_ _5"> </span>(<span class="ff5">sw</span>)<span class="_ _5"> </span>w<span class="_ _1"></span>as used<span class="_ _5"> </span>to<span class="_ _5"> </span>select<span class="_ _5"> </span>the<span class="_ _5"> </span>prop<span class="_ _4"></span>er p<span class="_ _4"></span>osition to<span class="_ _5"> </span>store<span class="_ _5"> </span>each</div><div class="t m0 x15 h7 y1155 ff3 fs4 fc0 sc0 ls0 ws0">one<span class="_ _5"> </span>of<span class="_ _5"> </span>the<span class="_ _2"> </span>v<span class="_ _8"></span>alues.<span class="_ _a"> </span>In<span class="_ _5"> </span>this<span class="_ _5"> </span>example,<span class="_ _2"> </span>the<span class="_ _5"> </span>last<span class="_ _2"> </span>v<span class="_ _8"></span>alue<span class="_ _5"> </span>pushed<span class="_ _2"> </span>in<span class="_ _8"></span>to<span class="_ _2"> </span>the<span class="_ _5"> </span>stack<span class="_ _5"> </span>was the<span class="_ _2"> </span>v<span class="_ _7"></span>alue</div><div class="t m0 x15 h7 y1156 ff3 fs4 fc0 sc0 ls0 ws0">stored<span class="_ _2"> </span>in<span class="_ _2"> </span>the<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a3</span>.</div><div class="t m0 x111 h8 y1157 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _9"> </span>-16<span class="_ _82"> </span>#<span class="_ _31"> </span>allocate<span class="_ _31"> </span>stack<span class="_ _31"> </span>space<span class="_ _9"> </span>(4<span class="_ _31"> </span>words)</span></div><div class="t m0 x111 h8 y1158 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>12(sp)<span class="_ _3b"> </span>#<span class="_ _31"> </span>store<span class="_ _9"> </span>the<span class="_ _31"> </span>first<span class="_ _31"> </span>value<span class="_ _31"> </span>(SP+12)</span></div><div class="t m0 x111 h8 y1159 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _16"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a1,<span class="_ _82"> </span>8(sp)<span class="_ _3b"> </span>#<span class="_ _31"> </span>store<span class="_ _9"> </span>the<span class="_ _31"> </span>second<span class="_ _31"> </span>value<span class="_ _31"> </span>(SP+8)</span></div><div class="t m0 x111 h8 y115a ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _16"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a2,<span class="_ _82"> </span>4(sp)<span class="_ _3b"> </span>#<span class="_ _31"> </span>store<span class="_ _9"> </span>the<span class="_ _31"> </span>third<span class="_ _31"> </span>value<span class="_ _31"> </span>(SP+4)</span></div><div class="t m0 x111 h8 y115b ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _16"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a3,<span class="_ _82"> </span>0(sp)<span class="_ _3b"> </span>#<span class="_ _31"> </span>store<span class="_ _9"> </span>the<span class="_ _31"> </span>fourth<span class="_ _31"> </span>value<span class="_ _31"> </span>(SP+0)</span></div><div class="t m0 xd h7 y66e ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>following<span class="_ _3"> </span>co<span class="_ _4"></span>de<span class="_ _3"> </span>sho<span class="_ _1"></span>ws<span class="_ _3"> </span>how<span class="_ _3"> </span>to<span class="_ _3"> </span>p<span class="_ _4"></span>op<span class="_ _3"> </span>four<span class="_ _a"> </span>v<span class="_ _8"></span>alues<span class="_ _3"> </span>from<span class="_ _a"> </span>the<span class="_ _a"> </span>program<span class="_ _3"> </span>stack<span class="_ _3"> </span>in<span class="_ _1"></span>to</div><div class="t m0 x15 h7 yd1 ff3 fs4 fc0 sc0 ls0 ws0">registers <span class="ff5">a3</span>, <span class="ff5">a2</span>,<span class="_ _37"> </span><span class="ff5">a1</span>,<span class="_ _5"> </span>and <span class="ff5">a0</span>.<span class="_ _3"> </span>Notice that the stack pointer w<span class="_ _8"></span>as adjusted<span class="_ _5"> </span>only once and</div><div class="t m0 x15 h7 yd2 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>immediate<span class="_ _b"> </span>ﬁeld<span class="_ _b"> </span>of<span class="_ _b"> </span>the<span class="_ _b"> </span>load<span class="_ _b"> </span>word<span class="_ _b"> </span>instruction<span class="_ _b"> </span>(<span class="ff5">lw</span>)<span class="_ _b"> </span>w<span class="_ _1"></span>as<span class="_ _b"> </span>used<span class="_ _b"> </span>to<span class="_ _b"> </span>select<span class="_ _b"> </span>the<span class="_ _b"> </span>prop<span class="_ _4"></span>er</div><div class="t m0 x15 h7 yd3 ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _4"></span>osition<span class="_ _5"> </span>to<span class="_ _2"> </span>load<span class="_ _b"> </span>eac<span class="_ _8"></span>h<span class="_ _2"> </span>one<span class="_ _2"> </span>of<span class="_ _b"> </span>the<span class="_ _5"> </span>v<span class="_ _8"></span>alues.<span class="_ _25"> </span>In<span class="_ _2"> </span>this<span class="_ _b"> </span>example,<span class="_ _5"> </span>the<span class="_ _2"> </span>ﬁrst<span class="_ _b"> </span>v<span class="_ _7"></span>alue<span class="_ _2"> </span>p<span class="_ _4"></span>opped<span class="_ _b"> </span>from</div><div class="t m0 x15 h7 y48 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>stac<span class="_ _1"></span>k<span class="_ _2"> </span>w<span class="_ _1"></span>as<span class="_ _2"> </span>stored<span class="_ _2"> </span>in<span class="_ _1"></span>to<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a3</span>.</div><div class="t m0 x1f h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>March<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _85"> </span>89</span></div><a class="l" href="#pf66" data-dest-detail='[102,"XYZ",90.709,680.762,null]'><div class="d m1" style="border-style:none;position:absolute;left:135.655000px;bottom:708.974000px;width:14.723000px;height:11.956000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf66" data-dest-detail='[102,"XYZ",90.709,680.762,null]'><div class="d m1" style="border-style:none;position:absolute;left:136.666000px;bottom:445.506000px;width:14.723000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:141.766000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

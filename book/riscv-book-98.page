<div id="pf62" class="pf w0 h0" data-page-no="62"><div class="pc pc62 w0 h0"><img class="bi x15 y10a4 w2 h9c" alt="" src="bg62.png"/><div class="t m0 x15 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">7.4.<span class="_ _19"> </span>EXAMPLES</div><div class="t m0 x15 hd y1e ff7 fs3 fc0 sc0 ls0 ws0">7.4<span class="_ _32"> </span>Examples</div><div class="t m0 x15 ha y10a5 ff7 fs6 fc0 sc0 ls0 ws0">7.4.1<span class="_ _e"> </span>Searc<span class="_ _8"></span>hing<span class="_ _a"> </span>for<span class="_ _a"> </span>the<span class="_ _a"> </span>maximum<span class="_ _3"> </span>v<span class="_ _7"></span>alue<span class="_ _a"> </span>on<span class="_ _a"> </span>an<span class="_ _a"> </span>array</div><div class="t m0 x15 h7 y10a6 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _5"> </span>following “C”<span class="_ _2"> </span>co<span class="_ _4"></span>de shows a<span class="_ _2"> </span>global<span class="_ _5"> </span>array v<span class="_ _8"></span>ariable<span class="_ _2"> </span>named<span class="_ _5"> </span><span class="ff5">numbers<span class="_ _5"> </span></span>and<span class="_ _2"> </span>a<span class="_ _5"> </span>function</div><div class="t m0 x15 h7 y10a7 ff3 fs4 fc0 sc0 ls0 ws0">that<span class="_ _2"> </span>returns<span class="_ _2"> </span>the<span class="_ _2"> </span>largest<span class="_ _2"> </span>v<span class="_ _8"></span>alue<span class="_ _2"> </span>from<span class="_ _2"> </span>the<span class="_ _2"> </span>arra<span class="_ _1"></span>y<span class="_ _7"></span>.</div><div class="t m0 x111 h8 y10a8 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">/*<span class="_ _31"> </span>Global<span class="_ _31"> </span>array<span class="_ _9"> </span>*/</span></div><div class="t m0 x111 h8 y10a9 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">int<span class="_ _31"> </span>numbers[10];</span></div><div class="t m0 x111 h38 y10aa ff24 fs12 fc0 sc0 ls0 ws0">3</div><div class="t m0 x111 h8 y10ab ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _16"> </span><span class="ff5 fs4">/*<span class="_ _31"> </span>Returns<span class="_ _31"> </span>the<span class="_ _9"> </span>largest<span class="_ _31"> </span>value<span class="_ _31"> </span>from<span class="_ _31"> </span>array<span class="_ _31"> </span>numbers.<span class="_ _9"> </span>*/</span></div><div class="t m0 x111 h8 y10ac ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _16"> </span><span class="ff5 fs4">int<span class="_ _31"> </span>get_largest_number()</span></div><div class="t m0 x111 h8 y10ad ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _16"> </span><span class="ff5 fs4">{</span></div><div class="t m0 x111 h8 y10ae ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _7a"> </span><span class="ff5 fs4">int<span class="_ _31"> </span>largest<span class="_ _31"> </span>=<span class="_ _31"> </span>numbers[0];</span></div><div class="t m0 x111 h8 y10af ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _7a"> </span><span class="ff5 fs4">for<span class="_ _31"> </span>(int<span class="_ _31"> </span>i=1;<span class="_ _31"> </span>i&lt;10;<span class="_ _9"> </span>i++)<span class="_ _31"> </span>{</span></div><div class="t m0 x111 h8 y10b0 ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _33"> </span><span class="ff5 fs4">if<span class="_ _31"> </span>(numbers[i]<span class="_ _31"> </span>&gt;<span class="_ _31"> </span>largest)</span></div><div class="t m0 x11d h8 y10b1 ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _97"> </span><span class="ff5 fs4">largest<span class="_ _9"> </span>=<span class="_ _31"> </span>numbers[i];</span></div><div class="t m0 x11d h8 y10b2 ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _7a"> </span><span class="ff5 fs4">}</span></div><div class="t m0 x11d h8 y10b3 ff24 fs12 fc0 sc0 ls0 ws0">12<span class="_ _7a"> </span><span class="ff5 fs4">return<span class="_ _31"> </span>largest;</span></div><div class="t m0 x11d h8 y10b4 ff24 fs12 fc0 sc0 ls0 ws0">13<span class="_ _16"> </span><span class="ff5 fs4">}</span></div><div class="t m0 x111 h8 y10b5 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">.data</span></div><div class="t m0 x111 h8 y10b6 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">#<span class="_ _31"> </span>Allocate<span class="_ _31"> </span>the<span class="_ _9"> </span>numbers<span class="_ _31"> </span>array<span class="_ _31"> </span>(10<span class="_ _31"> </span>integers<span class="_ _31"> </span>=<span class="_ _9"> </span>40<span class="_ _31"> </span>bytes)</span></div><div class="t m0 x111 h8 y10b7 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _16"> </span><span class="ff5 fs4">numbers:<span class="_ _31"> </span>.skip<span class="_ _31"> </span>40</span></div><div class="t m0 x111 h38 y10b8 ff24 fs12 fc0 sc0 ls0 ws0">4</div><div class="t m0 x111 h8 y10b9 ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _16"> </span><span class="ff5 fs4">.text</span></div><div class="t m0 x111 h8 y10ba ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _16"> </span><span class="ff5 fs4">get_largest_number:</span></div><div class="t m0 x111 h8 y10bb ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _32"> </span><span class="ff5 fs4">la<span class="_ _9"> </span>a5,<span class="_ _31"> </span>numbers<span class="_ _86"> </span>#<span class="_ _31"> </span>a5<span class="_ _31"> </span>=<span class="_ _31"> </span>&amp;numbers</span></div><div class="t m0 x111 h8 y10bc ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _9"> </span>a0,<span class="_ _31"> </span>(a5)<span class="_ _85"> </span>#<span class="_ _31"> </span>a0<span class="_ _31"> </span>(largest)<span class="_ _31"> </span>=<span class="_ _31"> </span>numbers[0]</span></div><div class="t m0 x111 h8 y10bd ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _32"> </span><span class="ff5 fs4">li<span class="_ _9"> </span>a1,<span class="_ _31"> </span>1<span class="_ _c1"> </span>#<span class="_ _31"> </span>a1<span class="_ _31"> </span>(i)<span class="_ _31"> </span>=<span class="_ _31"> </span>1</span></div><div class="t m0 x11d h8 y10be ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _32"> </span><span class="ff5 fs4">li<span class="_ _9"> </span>t4,<span class="_ _31"> </span>10</span></div><div class="t m0 x11d h8 y10bf ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _32"> </span><span class="ff5 fs4">for:</span></div><div class="t m0 x11d h8 y10c0 ff24 fs12 fc0 sc0 ls0 ws0">12<span class="_ _96"> </span><span class="ff5 fs4">bge<span class="_ _82"> </span>a1,<span class="_ _31"> </span>t4,<span class="_ _9"> </span>end:<span class="_ _31"> </span>#<span class="_ _31"> </span>if<span class="_ _31"> </span>i<span class="_ _31"> </span>&gt;=<span class="_ _9"> </span>10,<span class="_ _31"> </span>then<span class="_ _31"> </span>end<span class="_ _31"> </span>loop</span></div><div class="t m0 x11d h8 y10c1 ff24 fs12 fc0 sc0 ls0 ws0">13<span class="_ _96"> </span><span class="ff5 fs4">slli<span class="_ _31"> </span>t1,<span class="_ _31"> </span>a1,<span class="_ _9"> </span>2<span class="_ _81"> </span>#<span class="_ _31"> </span>t1<span class="_ _31"> </span>=<span class="_ _31"> </span>i<span class="_ _9"> </span>*<span class="_ _31"> </span>4</span></div><div class="t m0 x11d h8 y10c2 ff24 fs12 fc0 sc0 ls0 ws0">14<span class="_ _96"> </span><span class="ff5 fs4">add<span class="_ _82"> </span>t2,<span class="_ _31"> </span>a5,<span class="_ _9"> </span>t1<span class="_ _3b"> </span>#<span class="_ _31"> </span>t2<span class="_ _31"> </span>=<span class="_ _31"> </span>&amp;numbers<span class="_ _31"> </span>+<span class="_ _31"> </span>i*4</span></div><div class="t m0 x11d h8 y10c3 ff24 fs12 fc0 sc0 ls0 ws0">15<span class="_ _96"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>t3,<span class="_ _31"> </span>(t2)<span class="_ _86"> </span>#<span class="_ _31"> </span>t3<span class="_ _9"> </span>=<span class="_ _31"> </span>numbers[i]</span></div><div class="t m0 x11d h8 y10c4 ff24 fs12 fc0 sc0 ls0 ws0">16<span class="_ _96"> </span><span class="ff5 fs4">blt<span class="_ _82"> </span>t3,<span class="_ _31"> </span>a0<span class="_ _60"> </span>#<span class="_ _31"> </span>if<span class="_ _31"> </span>numbers[i]<span class="_ _31"> </span>&lt;<span class="_ _31"> </span>largest,<span class="_ _9"> </span>then<span class="_ _31"> </span>skip</span></div><div class="t m0 x11d h8 y10c5 ff24 fs12 fc0 sc0 ls0 ws0">17<span class="_ _96"> </span><span class="ff5 fs4">mv<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>t3<span class="_ _c4"> </span>#<span class="_ _31"> </span>Update<span class="_ _9"> </span>largest</span></div><div class="t m0 x11d h8 y10c6 ff24 fs12 fc0 sc0 ls0 ws0">18<span class="_ _96"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x11d h8 y10c7 ff24 fs12 fc0 sc0 ls0 ws0">19<span class="_ _96"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>a1,<span class="_ _31"> </span>a1,<span class="_ _9"> </span>1<span class="_ _82"> </span>#<span class="_ _31"> </span>i<span class="_ _31"> </span>=<span class="_ _31"> </span>i+1</span></div><div class="t m0 x11d h8 y10c8 ff24 fs12 fc0 sc0 ls0 ws0">20<span class="_ _96"> </span><span class="ff5 fs4">j<span class="_ _81"> </span>for</span></div><div class="t m0 x11d h8 y10c9 ff24 fs12 fc0 sc0 ls0 ws0">21<span class="_ _32"> </span><span class="ff5 fs4">end:</span></div><div class="t m0 x11d h8 y10ca ff24 fs12 fc0 sc0 ls0 ws0">22<span class="_ _32"> </span><span class="ff5 fs4">ret<span class="_ _c6"> </span>#<span class="_ _9"> </span>Return</span></div><div class="t m0 xd h7 y10cb ff3 fs4 fc0 sc0 ls0 ws0">Alternativ<span class="_ _1"></span>e<span class="_ _2"> </span>solutions:</div><div class="t m0 x111 h8 yf11 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">get_largest_number:</span></div><div class="t m0 x111 h8 y8a9 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _33"> </span><span class="ff5 fs4">lui<span class="_ _82"> </span>a5,%hi(numbers)</span></div><div class="t m0 x111 h8 y41 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _33"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a0,%lo(numbers)(a5)</span></div><div class="t m0 x111 h8 y66b ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _33"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>a5,a5,%lo(numbers)</span></div><div class="t m0 x111 h8 y66c ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _33"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>a3,a5,36</span></div><div class="t m0 x111 h8 y66d ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _16"> </span><span class="ff5 fs4">.L3:</span></div><div class="t m0 x111 h8 y66e ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _33"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a4,4(a5)</span></div><div class="t m0 x111 h8 yd1 ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _33"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>a5,a5,4</span></div><div class="t m0 x111 h8 yd2 ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _33"> </span><span class="ff5 fs4">bge<span class="_ _82"> </span>a0,a4,.L2</span></div><div class="t m0 x11d h8 yd3 ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _33"> </span><span class="ff5 fs4">mv<span class="_ _3b"> </span>a0,a4</span></div><div class="t m0 x11d h8 y48 ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _16"> </span><span class="ff5 fs4">.L2:</span></div><div class="t m0 x1f h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _a"> </span>Marc<span class="_ _8"></span>h<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _4e"> </span>85</span></div><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:141.766000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

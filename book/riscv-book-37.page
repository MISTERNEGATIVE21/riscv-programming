<div id="pf25" class="pf w0 h0" data-page-no="25"><div class="pc pc25 w0 h0"><img class="bi x18 y6c8 w2 h56" alt="" src="bg25.png"/><div class="t m0 x18 h7 y15a ff3 fs4 fc0 sc0 ls0 ws0">2.5.<span class="_ _22"> </span>ENCODING<span class="_ _2"> </span>INSTRUCTIONS</div><div class="c x116 y6c9 w14 h57"><div class="t m0 x0 h58 y6ca ff30 fs24 fc0 sc0 ls0 ws0">10001001 1<span class="_ _8"></span>1<span class="_ _1"></span>100101</div><div class="t m0 x117 h59 y6cb ff30 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x115 h5a y6cc ff30 fs26 fc0 sc0 ls0 ws0">Opcode </div><div class="t m0 x115 h5b y6cd ff31 fs26 fc0 sc0 ls0 ws0">(mov)</div><div class="t m0 x3a h5c y6ce ff31 fs24 fc0 sc0 ls0 ws0">mov %esp, %ebp</div><div class="t m0 xfc h5a y6cf ff30 fs26 fc0 sc0 ls0 ws0">op1</div><div class="t m0 x118 h5b y6d0 ff31 fs26 fc0 sc0 ls0 ws0">(%esp)</div><div class="t m0 x23 h5b y6d1 ff31 fs26 fc0 sc0 ls0 ws0">(%ebp)</div><div class="t m0 x119 h5a y6d2 ff30 fs26 fc0 sc0 ls0 ws0">op2</div><div class="t m0 xf8 h5a y6d1 ff30 fs26 fc0 sc0 ls0 ws0">Mod</div><div class="t m0 x22 h58 y6ca ff30 fs24 fc0 sc0 ls0 ws0">000000000000000010000001<span class="_ _8"></span>101<span class="_ _1"></span>1001<span class="_ _8"></span>1</div><div class="t m0 x9e h59 y6cb ff30 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 xe h5a y6d3 ff30 fs26 fc0 sc0 ls0 ws0">funct7 </div><div class="t m0 xf h5b y6d4 ff31 fs26 fc0 sc0 ls0 ws0">(add)</div><div class="t m0 x55 h5c y6d5 ff31 fs24 fc0 sc0 ls0 ws0">add x3, x1, x0</div><div class="t m0 xe1 h5b y6d6 ff31 fs26 fc0 sc0 ls0 ws0">(x0)</div><div class="t m0 x34 h5a y6d7 ff30 fs26 fc0 sc0 ls0 ws0">rs2</div><div class="t m0 x11a h5a y6d8 ff30 fs26 fc0 sc0 ls0 ws0">rd</div><div class="t m0 x6c h5b y6d9 ff31 fs26 fc0 sc0 ls0 ws0">(x3)</div><div class="t m0 x21 h5a y6d8 ff30 fs26 fc0 sc0 ls0 ws0">rs1</div><div class="t m0 xe4 h5b y6d9 ff31 fs26 fc0 sc0 ls0 ws0">(x1)</div><div class="t m0 x104 h5b y6da ff31 fs26 fc0 sc0 ls0 ws0">(add)</div><div class="t m0 x9a h5a y6db ff30 fs26 fc0 sc0 ls0 ws0">funct3 </div><div class="t m0 x36 h5b y6da ff31 fs26 fc0 sc0 ls0 ws0">(add)</div><div class="t m0 x36 h5a y6db ff30 fs26 fc0 sc0 ls0 ws0">opcode </div><div class="t m0 x11b h5d y6dc ff30 fs27 fc0 sc0 ls0 ws0">(a)</div><div class="t m0 x67 h5d y6dd ff30 fs27 fc0 sc0 ls0 ws0">(b)</div></div><div class="t m0 x18 h7 y6de ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _12"> </span>2.12:<span class="_ _3"> </span>Enco<span class="_ _4"></span>ding<span class="_ _12"> </span>of<span class="_ _12"> </span>tw<span class="_ _8"></span>o diﬀeren<span class="_ _8"></span>t instructions:<span class="_ _d"> </span>(a) instruction<span class="_ _12"> </span><span class="ff5">mov</span>, whic<span class="_ _8"></span>h<span class="_ _13"> </span>b<span class="_ _4"></span>elongs</div><div class="t m0 x18 h7 y6df ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _5"> </span>the<span class="_ _2"> </span>x86<span class="_ _5"> </span>instruction<span class="_ _2"> </span>set<span class="_ _5"> </span>architecture,<span class="_ _5"> </span>and<span class="_ _2"> </span>(b)<span class="_ _5"> </span>instruction<span class="_ _2"> </span><span class="ff5">add</span>,<span class="_ _5"> </span>which<span class="_ _5"> </span>b<span class="_ _4"></span>elongs<span class="_ _5"> </span>to<span class="_ _5"> </span>the</div><div class="t m0 x18 h7 y6e0 ff3 fs4 fc0 sc0 ls0 ws0">RISC-V<span class="_ _2"> </span>instruction<span class="_ _2"> </span>set<span class="_ _2"> </span>arc<span class="_ _1"></span>hitecture.</div><div class="t m0 x18 h7 y6e1 ff3 fs4 fc0 sc0 ls0 ws0">parameters.<span class="_ _3c"> </span>These<span class="_ _c"> </span>parameters<span class="_ _f"> </span>sp<span class="_ _4"></span>ecify<span class="_ _3"> </span>that<span class="_ _c"> </span>the<span class="_ _f"> </span><span class="ff5">add<span class="_ _c"> </span></span>op<span class="_ _4"></span>eration<span class="_ _3"> </span>must<span class="_ _c"> </span>b<span class="_ _4"></span>e<span class="_ _3"> </span>p<span class="_ _4"></span>erformed</div><div class="t m0 x18 h7 y6e2 ff3 fs4 fc0 sc0 ls0 ws0">using<span class="_ _3"> </span>the<span class="_ _3"> </span>v<span class="_ _8"></span>alues<span class="_ _3"> </span>stored<span class="_ _3"> </span>in<span class="_ _3"> </span>registers<span class="_ _3"> </span><span class="ff5">x1<span class="_ _3"> </span></span>and<span class="_ _3"> </span><span class="ff5">x0<span class="_ _3"> </span></span>and<span class="_ _3"> </span>the<span class="_ _3"> </span>result<span class="_ _3"> </span>stored<span class="_ _3"> </span>in<span class="_ _3"> </span>register<span class="_ _3"> </span><span class="ff5">x3</span>,</div><div class="t m0 x18 h7 y6e3 ff3 fs4 fc0 sc0 ls0 ws0">whic<span class="_ _1"></span>h<span class="_ _c"> </span>are<span class="_ _f"> </span>identiﬁed<span class="_ _3"> </span>by<span class="_ _c"> </span>v<span class="_ _8"></span>alues<span class="_ _c"> </span>0001</div><div class="t m0 x105 h11 y6e4 ffc fs7 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8b h7 y6e3 ff3 fs4 fc0 sc0 ls0 ws0">,<span class="_ _f"> </span>0000</div><div class="t m0 xf5 h11 y6e4 ffc fs7 fc0 sc0 ls0 ws0">2</div><div class="t m0 x114 h7 y6e3 ff3 fs4 fc0 sc0 ls0 ws0">,<span class="_ _f"> </span>and<span class="_ _f"> </span>0011</div><div class="t m0 x5c h11 y6e4 ffc fs7 fc0 sc0 ls0 ws0">2</div><div class="t m0 x78 h7 y6e3 ff3 fs4 fc0 sc0 ls0 ws0">on<span class="_ _c"> </span>ﬁelds<span class="_ _f"> </span>rs1,<span class="_ _f"> </span>rs2,<span class="_ _11"> </span>and<span class="_ _f"> </span>rd,</div><div class="t m0 x18 h7 y6e5 ff3 fs4 fc0 sc0 ls0 ws0">resp<span class="_ _4"></span>ectiv<span class="_ _8"></span>ely<span class="_ _7"></span>.</div><div class="t m0 xd h7 y6e6 ff3 fs4 fc0 sc0 ls0 ws0">Most<span class="_ _12"> </span>mo<span class="_ _4"></span>dern<span class="_ _13"> </span>computers<span class="_ _12"> </span>store the<span class="_ _12"> </span>co<span class="_ _4"></span>de,<span class="_ _13"> </span><span class="ff8">i.e.</span>, the<span class="_ _12"> </span>program<span class="_ _12"> </span>instructions, on<span class="_ _13"> </span>the<span class="_ _12"> </span>same</div><div class="t m0 x18 h7 y6e7 ff3 fs4 fc0 sc0 ls0 ws0">memory they<span class="_ _5"> </span>store the<span class="_ _5"> </span>data -<span class="_ _5"> </span>the main<span class="_ _5"> </span>memory.<span class="_ _3"> </span>Also,<span class="_ _5"> </span>mo<span class="_ _4"></span>dern computer instructions</div><div class="t m0 x18 h7 y6e8 ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _13"> </span>encoded using<span class="_ _12"> </span>multiples<span class="_ _12"> </span>of 8<span class="_ _12"> </span>bits so<span class="_ _12"> </span>that<span class="_ _13"> </span>they<span class="_ _13"> </span>ﬁt<span class="_ _12"> </span>the size<span class="_ _12"> </span>of m<span class="_ _8"></span>ultiple memory<span class="_ _12"> </span>words</div><div class="t m0 x18 h7 y6e9 ff3 fs4 fc0 sc0 ls0 ws0">on<span class="_ _c"> </span>a<span class="_ _c"> </span>b<span class="_ _1"></span>yte<span class="_ _c"> </span>addressable<span class="_ _c"> </span>memory.<span class="_ _3c"> </span>Figure<span class="_ _c"> </span>2.13<span class="_ _c"> </span>shows<span class="_ _3"> </span>an<span class="_ _c"> </span>example<span class="_ _c"> </span>of<span class="_ _c"> </span>how<span class="_ _3"> </span>a<span class="_ _c"> </span>program</div><div class="t m0 x18 h7 y6ea ff3 fs4 fc0 sc0 ls0 ws0">written<span class="_ _3"> </span>in<span class="_ _3"> </span>x86<span class="_ _a"> </span>assembly<span class="_ _a"> </span>language<span class="_ _3"> </span>is<span class="_ _3"> </span>mapp<span class="_ _4"></span>ed<span class="_ _3"> </span>to<span class="_ _a"> </span>machine<span class="_ _a"> </span>language<span class="_ _3"> </span>and<span class="_ _3"> </span>stored<span class="_ _3"> </span>on<span class="_ _3"> </span>a</div><div class="t m0 x18 h7 y6eb ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>yte<span class="_ _d"> </span>addressable<span class="_ _a"> </span>memory.<span class="_ _1b"> </span>Notice<span class="_ _2"> </span>that,<span class="_ _3"> </span>the<span class="_ _d"> </span>ﬁrst<span class="_ _a"> </span>instruction,<span class="_ _a"> </span><span class="ff5">push<span class="_ _11"> </span>$ebp</span>,<span class="_ _a"> </span>is<span class="_ _a"> </span>enco<span class="_ _4"></span>ded</div><div class="t m0 x18 h7 y6ec ff3 fs4 fc0 sc0 ls0 ws0">using<span class="_ _d"> </span>one<span class="_ _a"> </span>byte<span class="_ _2"> </span>while<span class="_ _a"> </span>the<span class="_ _a"> </span>third<span class="_ _d"> </span>one,<span class="_ _a"> </span><span class="ff5">imul<span class="_ _e"> </span>$113,<span class="_ _e"> </span>12(%ebp),<span class="_ _e"> </span>%eax</span>,<span class="_ _a"> </span>is<span class="_ _d"> </span>enco<span class="_ _4"></span>ded<span class="_ _d"> </span>using</div><div class="t m0 x18 h7 y6ed ff3 fs4 fc0 sc0 ls0 ws0">four<span class="_ _d"> </span>bytes.<span class="_ _e"> </span>Also,<span class="_ _d"> </span>notice<span class="_ _a"> </span>that<span class="_ _d"> </span>instructions<span class="_ _d"> </span>are<span class="_ _d"> </span>placed<span class="_ _a"> </span>sequentially<span class="_ _2"> </span>on<span class="_ _d"> </span>memory<span class="_ _7"></span>,<span class="_ _a"> </span>in<span class="_ _d"> </span>the</div><div class="t m0 x18 h7 y6ee ff3 fs4 fc0 sc0 ls0 ws0">same<span class="_ _2"> </span>order<span class="_ _2"> </span>they<span class="_ _2"> </span>app<span class="_ _4"></span>ear<span class="_ _5"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>original<span class="_ _2"> </span>assembly<span class="_ _5"> </span>program.</div><div class="c x101 y6ef w15 h5e"><div class="t m0 x99 h5f y6f0 ff32 fs28 fc0 sc0 ls0 ws0">Contents<span class="_ _48"> </span><span class="ff33">Address</span></div><div class="t m0 x10 h5f y6f1 ff33 fs28 fc0 sc0 ls0 ws0">01010101</div><div class="t m0 x2 h60 y6f2 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y6f3 ff34 fs28 fc0 sc0 ls0 ws0">000</div><div class="t m0 x10 h5f y6f4 ff33 fs28 fc0 sc0 ls0 ws0">10001001</div><div class="t m0 x2 h60 y6f5 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y6f6 ff34 fs28 fc0 sc0 ls0 ws0">001</div><div class="t m0 x10 h5f y6f7 ff33 fs28 fc0 sc0 ls0 ws0">1<span class="_ _8"></span>1100101</div><div class="t m0 x67 h60 y6f8 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y6f9 ff34 fs28 fc0 sc0 ls0 ws0">002</div><div class="t m0 x10 h5f y6fa ff33 fs28 fc0 sc0 ls0 ws0">01<span class="_ _8"></span>101011</div><div class="t m0 x67 h60 y6fb ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y6fc ff34 fs28 fc0 sc0 ls0 ws0">003</div><div class="t m0 x10 h5f y6fd ff33 fs28 fc0 sc0 ls0 ws0">01000101</div><div class="t m0 x2 h60 y6fe ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y6ff ff34 fs28 fc0 sc0 ls0 ws0">004</div><div class="t m0 x10 h5f y700 ff33 fs28 fc0 sc0 ls0 ws0">00001<span class="_ _8"></span>100</div><div class="t m0 x2 h60 y701 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y702 ff34 fs28 fc0 sc0 ls0 ws0">005</div><div class="t m0 x10 h5f y703 ff33 fs28 fc0 sc0 ls0 ws0">01<span class="_ _8"></span>110001</div><div class="t m0 x67 h60 y704 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y705 ff34 fs28 fc0 sc0 ls0 ws0">006</div><div class="t m0 x10 h5f y706 ff33 fs28 fc0 sc0 ls0 ws0">0000001<span class="_ _8"></span>1</div><div class="t m0 x2 h60 y707 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y708 ff34 fs28 fc0 sc0 ls0 ws0">007</div><div class="t m0 x10 h5f y709 ff33 fs28 fc0 sc0 ls0 ws0">01000101</div><div class="t m0 x2 h60 y70a ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y70b ff34 fs28 fc0 sc0 ls0 ws0">008</div><div class="t m0 x10 h5f y70c ff33 fs28 fc0 sc0 ls0 ws0">00001000</div><div class="t m0 x2 h60 y70d ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y70e ff34 fs28 fc0 sc0 ls0 ws0">009</div><div class="t m0 x10 h5f y70f ff33 fs28 fc0 sc0 ls0 ws0">00001<span class="_ _8"></span>11<span class="_ _8"></span>1</div><div class="t m0 x67 h60 y710 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y711 ff34 fs28 fc0 sc0 ls0 ws0">010</div><div class="t m0 x10 h5f y712 ff33 fs28 fc0 sc0 ls0 ws0">10101<span class="_ _8"></span>11<span class="_ _8"></span>1</div><div class="t m0 x67 h60 y713 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y714 ff34 fs28 fc0 sc0 ls0 ws0">011</div><div class="t m0 x10 h5f y715 ff33 fs28 fc0 sc0 ls0 ws0">01000101</div><div class="t m0 x2 h60 y716 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y717 ff34 fs28 fc0 sc0 ls0 ws0">012</div><div class="t m0 x10 h5f y718 ff33 fs28 fc0 sc0 ls0 ws0">00010000</div><div class="t m0 x2 h60 y719 ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y71a ff34 fs28 fc0 sc0 ls0 ws0">013</div><div class="t m0 x10 h5f y71b ff33 fs28 fc0 sc0 ls0 ws0">0101<span class="_ _8"></span>1101</div><div class="t m0 x67 h60 y71c ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y71d ff34 fs28 fc0 sc0 ls0 ws0">014</div><div class="t m0 x10 h5f y71e ff33 fs28 fc0 sc0 ls0 ws0">1<span class="_ _8"></span>1000011</div><div class="t m0 x67 h60 y71f ff33 fs29 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8a h61 y720 ff34 fs28 fc0 sc0 ls0 ws0">015</div><div class="t m0 x3a h61 y721 ff34 fs28 fc0 sc0 ls0 ws0">func_1:</div><div class="t m0 x3a h61 y722 ff34 fs28 fc0 sc0 ls0 ws0">  push  %ebp</div><div class="t m0 x3a h61 y723 ff34 fs28 fc0 sc0 ls0 ws0">  mov   %esp, %ebp</div><div class="t m0 x3a h61 y724 ff34 fs28 fc0 sc0 ls0 ws0">  imul  $113, 12(%ebp), %eax</div><div class="t m0 x3a h61 y725 ff34 fs28 fc0 sc0 ls0 ws0">  add   8(%ebp), %eax</div><div class="t m0 x3a h61 y726 ff34 fs28 fc0 sc0 ls0 ws0">  imul  16(%ebp), %eax</div><div class="t m0 x3a h61 y727 ff34 fs28 fc0 sc0 ls0 ws0">  pop   %ebp</div><div class="t m0 x3a h61 y728 ff34 fs28 fc0 sc0 ls0 ws0">  ret</div><div class="t m0 x11c h5f y729 ff33 fs28 fc0 sc0 ls0 ws0">Assembly language (x86)</div><div class="t m0 x48 h5f y72a ff33 fs28 fc0 sc0 ls0 ws0">Machine language (x86) </div><div class="t m0 x57 h5f y72b ff33 fs28 fc0 sc0 ls0 ws0">stored on memory</div></div><div class="t m0 x18 h7 y72c ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>2.13:<span class="_ _3"> </span>Mapping<span class="_ _2"> </span>x86<span class="_ _2"> </span>instructions<span class="_ _2"> </span>from<span class="_ _2"> </span>an<span class="_ _2"> </span>assembly<span class="_ _5"> </span>language<span class="_ _2"> </span>program<span class="_ _2"> </span>to<span class="_ _2"> </span>mem-</div><div class="t m0 x18 h7 y72d ff3 fs4 fc0 sc0 ls0 ws0">ory<span class="_ _7"></span>.</div><div class="t m0 x3f h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _c"> </span>Ma<span class="_ _8"></span>y<span class="_ _2"> </span>9,<span class="_ _2"> </span>2022)<span class="_ _75"> </span>23</span></div><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:235.784000px;bottom:514.714000px;width:61.655000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:228.299000px;bottom:502.759000px;width:18.099000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,507.091,null]'><div class="d m1" style="border-style:none;position:absolute;left:114.205000px;bottom:490.804000px;width:114.932000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",90.709,426.046,null]'><div class="d m1" style="border-style:none;position:absolute;left:270.485000px;bottom:490.804000px;width:19.704000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,507.091,null]'><div class="d m1" style="border-style:none;position:absolute;left:89.712000px;bottom:466.617000px;width:113.494000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:148.560000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

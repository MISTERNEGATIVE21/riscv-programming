<div id="pf30" class="pf w0 h0" data-page-no="30"><div class="pc pc30 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg30.png"/><div class="t m0 xf h8 y10c ff3 fs4 fc0 sc0 ls0 ws0">3.3.<span class="_ _1f"> </span>PROGRAM<span class="_ _6"> </span>SECTIONS</div><div class="t m0 xc h7 y57 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">.text<span class="ff3">:<span class="_ _7"> </span>a<span class="_ _2"> </span>section<span class="_ _2"> </span>dedicated<span class="_ _2"> </span>to<span class="_ _2"> </span>store<span class="_ _6"> </span>the<span class="_ _2"> </span>program<span class="_ _2"> </span>instructions;</span></span></div><div class="t m0 xc h7 y7b3 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">.data<span class="ff3">:<span class="_ _4"> </span>a<span class="_ _3"> </span>section<span class="_ _b"> </span>dedicated<span class="_ _3"> </span>to<span class="_ _b"> </span>store<span class="_ _3"> </span>initialized<span class="_ _b"> </span>global<span class="_ _3"> </span>v<span class="_ _27"></span>ariables,<span class="_ _b"> </span><span class="ff8">i.e.</span>,<span class="_ _b"> </span>the<span class="_ _b"> </span>v<span class="_ _27"></span>ariables<span class="_ _3"> </span>that<span class="_ _b"> </span>need<span class="_ _3"> </span>their</span></span></div><div class="t m0 x13 h8 ye3 ff3 fs4 fc0 sc0 ls0 ws0">v<span class="_ _27"></span>alue<span class="_ _2"> </span>to<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _6"> </span>initialized<span class="_ _2"> </span>b<span class="_ _5"></span>efore<span class="_ _2"> </span>the<span class="_ _2"> </span>program<span class="_ _2"> </span>starts<span class="_ _2"> </span>executing;</div><div class="t m0 xc h7 y7b4 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">.bss<span class="ff3">:<span class="_ _7"> </span>a<span class="_ _2"> </span>section<span class="_ _2"> </span>dedicated<span class="_ _6"> </span>to<span class="_ _3"> </span>store<span class="_ _6"> </span>uninitialized<span class="_ _2"> </span>global<span class="_ _2"> </span>v<span class="_ _27"></span>ariables;</span></span></div><div class="t m0 xc h7 y8b ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">.rodata<span class="ff3">:<span class="_ _34"> </span>a<span class="_ _2"> </span>section<span class="_ _2"> </span>dedicated<span class="_ _2"> </span>to<span class="_ _2"> </span>store<span class="_ _6"> </span>constants,<span class="_ _6"> </span><span class="ff8">i.e.</span>,<span class="_ _2"> </span>v<span class="_ _27"></span>alues<span class="_ _2"> </span>that<span class="_ _2"> </span>are<span class="_ _6"> </span>read<span class="_ _2"> </span>by<span class="_ _6"> </span>the<span class="_ _2"> </span>program<span class="_ _6"> </span>but<span class="_ _2"> </span>not</span></span></div><div class="t m0 x13 h8 y228 ff3 fs4 fc0 sc0 ls0 ws0">mo<span class="_ _5"></span>diﬁed<span class="_ _6"> </span>during<span class="_ _2"> </span>execution.</div><div class="t m0 xc h8 y5f ff3 fs4 fc0 sc0 ls0 ws0">When<span class="_ _2"> </span>linking<span class="_ _3"> </span>multiple<span class="_ _6"> </span>ob<span class="_ _22"></span>ject<span class="_ _3"> </span>ﬁles,<span class="_ _2"> </span>the<span class="_ _3"> </span>linker<span class="_ _2"> </span>groups<span class="_ _2"> </span>information<span class="_ _3"> </span>from<span class="_ _3"> </span>sections<span class="_ _2"> </span>with<span class="_ _3"> </span>the<span class="_ _2"> </span>same<span class="_ _3"> </span>name</div><div class="t m0 xf h8 y60 ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_"> </span>places<span class="_ _6"> </span>them<span class="_"> </span>together<span class="_ _6"> </span>into<span class="_"> </span>a<span class="_"> </span>single<span class="_"> </span>section<span class="_ _6"> </span>on<span class="_"> </span>the<span class="_ _6"> </span>executable<span class="_ _38"> </span>ﬁle.<span class="_ _7"> </span>F<span class="_ _9"></span>or<span class="_ _38"> </span>example,<span class="_ _6"> </span>when<span class="_ _6"> </span>linking<span class="_"> </span>multiple</div><div class="t m0 xf h8 y61 ff3 fs4 fc0 sc0 ls0 ws0">ob<span class="_ _22"></span>ject<span class="_ _34"> </span>ﬁles,<span class="_ _24"> </span>the<span class="_ _7"> </span>conten<span class="_ _27"></span>ts<span class="_ _7"> </span>of<span class="_ _7"> </span>the<span class="_ _7"> </span><span class="ff5">.text<span class="_ _34"> </span></span>sections<span class="_ _7"> </span>from<span class="_ _7"> </span>all<span class="_ _7"> </span>ob<span class="_ _22"></span>ject<span class="_ _7"> </span>ﬁles<span class="_ _7"> </span>are<span class="_ _7"> </span>group<span class="_ _5"></span>ed<span class="_ _34"> </span>together<span class="_ _7"> </span>and<span class="_ _7"> </span>placed</div><div class="t m0 xf h8 y34 ff3 fs4 fc0 sc0 ls0 ws0">sequen<span class="_ _1"></span>tially<span class="_ _b"> </span>on<span class="_ _34"> </span>the<span class="_ _b"> </span>executable<span class="_ _34"> </span>ﬁle<span class="_ _34"> </span>on<span class="_ _b"> </span>a<span class="_ _34"> </span>single<span class="_ _34"> </span>section<span class="_ _b"> </span>that<span class="_ _34"> </span>is<span class="_ _34"> </span>also<span class="_ _b"> </span>called<span class="_ _34"> </span><span class="ff5">.text</span>.<span class="_ _39"> </span>Figure<span class="_ _b"> </span>3.2<span class="_ _34"> </span>shows<span class="_ _b"> </span>the</div><div class="t m0 xf h8 y62 ff3 fs4 fc0 sc0 ls0 ws0">la<span class="_ _1"></span>y<span class="_ _1"></span>out<span class="_ _7"> </span>of<span class="_ _7"> </span>an<span class="_ _7"> </span>R<span class="_ _12"></span>V32I<span class="_ _7"> </span>executable<span class="_ _7"> </span>ﬁle<span class="_ _7"> </span>that<span class="_ _7"> </span>was<span class="_ _34"> </span>generated<span class="_ _7"> </span>b<span class="_ _1"></span>y<span class="_ _7"> </span>the<span class="_ _7"> </span><span class="ff5">riscv64-unknown-elf-ld<span class="_ _7"> </span></span>to<span class="_ _5"></span>ol,<span class="_ _24"> </span>and<span class="_ _34"> </span>is</div><div class="t m0 xf h8 y63 ff3 fs4 fc0 sc0 ls0 ws0">enco<span class="_ _5"></span>ded<span class="_ _34"> </span>using<span class="_ _34"> </span>the<span class="_ _34"> </span>Executable<span class="_ _7"> </span>and<span class="_ _34"> </span>Linking<span class="_ _34"> </span>F<span class="_ _9"></span>ormat.<span class="_ _0"> </span>This<span class="_ _34"> </span>ﬁle<span class="_ _34"> </span>contains<span class="_ _b"> </span>three<span class="_ _34"> </span>sections:<span class="_ _d"> </span>the<span class="_ _34"> </span><span class="ff5">.data</span>,<span class="_ _7"> </span>the</div><div class="t m0 xf h8 y64 ff5 fs4 fc0 sc0 ls0 ws0">.rodata<span class="ff3">,<span class="_ _6"> </span>and<span class="_ _6"> </span>the<span class="_ _6"> </span></span>.text<span class="_ _6"> </span><span class="ff3">sections.<span class="_ _7"> </span>The<span class="_ _6"> </span>conten<span class="_ _27"></span>ts<span class="_ _2"> </span>of<span class="_ _6"> </span>section<span class="_ _6"> </span><span class="ff5">.text<span class="_ _6"> </span></span>are<span class="_ _6"> </span>mapp<span class="_ _5"></span>ed<span class="_ _6"> </span>to<span class="_ _2"> </span>addresses<span class="_ _6"> </span><span class="ff5">8000<span class="_ _6"> </span></span>to<span class="_ _6"> </span><span class="ff5">8007</span>,</span></div><div class="t m0 xf h8 y8c ff3 fs4 fc0 sc0 ls0 ws0">while<span class="_ _2"> </span>the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _6"> </span>of<span class="_ _3"> </span>section<span class="_ _6"> </span><span class="ff5">.data<span class="_ _2"> </span></span>are<span class="_ _2"> </span>mapp<span class="_ _5"></span>ed<span class="_ _2"> </span>to<span class="_ _2"> </span>addresses<span class="_ _2"> </span><span class="ff5">800d<span class="_ _2"> </span></span>to<span class="_ _2"> </span><span class="ff5">8011</span>.</div><div class="c x38 y7b5 w10 h58"><div class="t m0 x135 h59 y7b6 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11010110</span></div><div class="t m0 x135 h59 y7b7 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10010101</span></div><div class="t m0 x135 h59 y7b8 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10011100</span></div><div class="t m0 x135 h59 y7b9 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11101011</span></div><div class="t m0 x135 h59 y7ba ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10101010</span></div><div class="t m0 x135 h59 y7bb ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10011100</span></div><div class="t m0 x135 h59 y7bc ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10010101</span></div><div class="t m0 x135 h59 y7bd ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11010110</span></div><div class="t m0 x135 h59 y7be ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11010110</span></div><div class="t m0 x135 h59 y7bf ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10010101</span></div><div class="t m0 x135 h59 y7c0 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10011100</span></div><div class="t m0 x135 h59 y7c1 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11101011</span></div><div class="t m0 x135 h59 y7c2 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10101010</span></div><div class="t m2 x1d h5a y7c3 ff3d fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">Addr</span><span class="fc2 sc0">esses</span></div><div class="t m0 xd5 h5a y7c4 ff3d fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">Executable </span><span class="fc2 sc0">File </span><span class="fc2 sc0">(ELF)</span></div><div class="t m0 x136 h5b y7c5 ff3c fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">.text </span></div><div class="t m0 x136 h5c y7c6 ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">section</span></div><div class="t m0 x131 h59 y7b6 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8007</span></div><div class="t m0 x131 h59 y7b7 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8006</span></div><div class="t m0 x131 h59 y7b8 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8005</span></div><div class="t m0 x131 h59 y7b9 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8004</span></div><div class="t m0 x131 h59 y7ba ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8003</span></div><div class="t m0 x131 h59 y7bb ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8002</span></div><div class="t m0 x131 h59 y7bc ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8001</span></div><div class="t m0 x131 h59 y7bd ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8000</span></div><div class="t m0 x135 h59 y7c7 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10010101</span></div><div class="t m0 x135 h59 y7c8 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10011100</span></div><div class="t m0 x135 h59 y7c9 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11101011</span></div><div class="t m0 x135 h59 y7ca ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10101010</span></div><div class="t m0 x2a h5b y7cb ff3c fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">.rodata </span></div><div class="t m0 x136 h5c y7cc ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">section</span></div><div class="t m0 x131 h59 y7c7 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">800b</span></div><div class="t m0 x131 h59 y7c8 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">800a</span></div><div class="t m0 x131 h59 y7c9 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8009</span></div><div class="t m0 x131 h59 y7ca ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8008</span></div><div class="t m0 x136 h5b y7cd ff3c fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">.data </span></div><div class="t m0 x136 h5c y7ce ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">section</span></div><div class="t m0 x131 h59 y7be ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8011</span></div><div class="t m0 x131 h59 y7bf ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">8010</span></div><div class="t m0 x131 h59 y7c0 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">800f</span></div><div class="t m0 x131 h59 y7c1 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">800e</span></div><div class="t m0 x131 h59 y7c2 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">800d</span></div><div class="t m0 x135 h59 y7cf ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11101011</span></div><div class="t m0 xf3 h59 y7d0 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">...</span></div><div class="t m0 x135 h59 y7d1 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10101010</span></div><div class="t m0 x73 h5c y7d2 ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">ELF </span></div><div class="t m0 x22 h5c y7d3 ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">header</span></div><div class="t m0 x135 h59 y7d4 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">11101011</span></div><div class="t m0 xf3 h59 y7d5 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">...</span></div><div class="t m0 x135 h59 y7d6 ff3c fs2e fc0 sc0 ls0 ws0"><span class="fc2 sc0">10101010</span></div><div class="t m0 x44 h5c y7d7 ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">Section </span></div><div class="t m0 x22 h5c y7d8 ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">header </span></div><div class="t m0 xce h5c y7d9 ff3e fs2f fc0 sc0 ls0 ws0"><span class="fc2 sc0">table</span></div></div><div class="t m0 xb2 h8 y7da ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>3.2:<span class="_ _7"> </span>La<span class="_ _1"></span>y<span class="_ _1"></span>out<span class="_ _2"> </span>of<span class="_ _2"> </span>an<span class="_ _2"> </span>executable<span class="_ _6"> </span>ﬁle<span class="_ _2"> </span>enco<span class="_ _5"></span>ded<span class="_ _2"> </span>using<span class="_ _2"> </span>the<span class="_ _2"> </span>ELF.</div><div class="t m0 xc h8 y7db ff3 fs4 fc0 sc0 ls0 ws0">By<span class="_ _7"> </span>default,<span class="_ _18"> </span>the<span class="_ _24"> </span>GNU<span class="_ _24"> </span>assembler<span class="_ _7"> </span>to<span class="_ _5"></span>ol<span class="_ _24"> </span>adds<span class="_ _7"> </span>all<span class="_ _24"> </span>the<span class="_ _24"> </span>information<span class="_ _24"> </span>to<span class="_ _7"> </span>the<span class="_ _24"> </span><span class="ff5">.text<span class="_ _24"> </span></span>section.<span class="_ _1e"> </span>T<span class="_ _12"></span>o<span class="_ _24"> </span>instruct</div><div class="t m0 xf h8 y7dc ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _3"> </span>assembler<span class="_ _2"> </span>to<span class="_ _3"> </span>add<span class="_ _b"> </span>the<span class="_ _3"> </span>assembled<span class="_ _2"> </span>information<span class="_ _3"> </span>into<span class="_ _3"> </span>other<span class="_ _3"> </span>sections,<span class="_ _b"> </span>the<span class="_ _3"> </span>programmer<span class="_ _3"> </span>(or<span class="_ _3"> </span>the<span class="_ _b"> </span>compiler)</div><div class="t m0 xf h8 y7dd ff3 fs4 fc0 sc0 ls0 ws0">ma<span class="_ _1"></span>y<span class="_ _3"> </span>use<span class="_ _2"> </span>the<span class="_ _3"> </span><span class="ff5">.section<span class="_ _4"> </span>secname<span class="_ _3"> </span></span>directive.<span class="_ _18"> </span>This<span class="_ _2"> </span>directive<span class="_ _2"> </span>instructs<span class="_ _3"> </span>the<span class="_ _3"> </span>assembler<span class="_ _2"> </span>to<span class="_ _3"> </span>place<span class="_ _3"> </span>the<span class="_ _3"> </span>following</div><div class="t m0 xf h8 y7de ff3 fs4 fc0 sc0 ls0 ws0">assem<span class="_ _1"></span>bled<span class="_ _24"> </span>information<span class="_ _18"> </span>in<span class="_ _1"></span>to<span class="_ _24"> </span>the<span class="_ _18"> </span>section<span class="_ _24"> </span>named<span class="_ _18"> </span><span class="ff5">secname</span>.<span class="_ _30"> </span>The<span class="_ _18"> </span>following<span class="_ _7"> </span>example<span class="_ _18"> </span>illustrates<span class="_ _18"> </span>ho<span class="_ _1"></span>w<span class="_ _24"> </span>the</div><div class="t m0 xf h8 y7df ff5 fs4 fc0 sc0 ls0 ws0">.section<span class="_ _34"> </span><span class="ff3">directive<span class="_ _34"> </span>can<span class="_ _7"> </span>b<span class="_ _5"></span>e<span class="_ _7"> </span>used<span class="_ _34"> </span>to<span class="_ _7"> </span>add<span class="_ _7"> </span>instructions<span class="_ _7"> </span>to<span class="_ _7"> </span>the<span class="_ _7"> </span></span>.text<span class="_ _34"> </span><span class="ff3">section<span class="_ _7"> </span>and<span class="_ _7"> </span>v<span class="_ _27"></span>ariables<span class="_ _7"> </span>to<span class="_ _7"> </span>the<span class="_ _7"> </span><span class="ff5">.data</span></span></div><div class="t m0 xf h8 y7e0 ff3 fs4 fc0 sc0 ls0 ws0">section.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y142 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x11e h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Ma<span class="_ _1"></span>y<span class="_ _6"> </span>31,<span class="_ _2"> </span>20<span class="_ _5"></span>24)</div><div class="t m0 xb7 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">35</div><a class="l" href="#pf30" data-dest-detail='[48,"XYZ",72,525.86,null]'><div class="d m1" style="border-style:none;position:absolute;left:462.256000px;bottom:578.662000px;width:14.723000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

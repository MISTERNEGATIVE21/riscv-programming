<div id="pf67" class="pf w0 h0" data-page-no="67"><div class="pc pc67 w0 h0"><img class="bi x18 y404 w2 h39" alt="" src="bg67.png"/><div class="t m0 x18 h7 y15a ff3 fs4 fc0 sc0 ls0 ws0">8.2.<span class="_ _22"> </span>THE<span class="_ _2"> </span>PROGRAM<span class="_ _5"> </span>ST<span class="_ _7"></span>ACK</div><div class="t m0 x112 h8 yc7b ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _1f"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a0,<span class="_ _e"> </span>0(sp)<span class="_ _3f"> </span>#<span class="_ _11"> </span>retrieve<span class="_ _e"> </span>data<span class="_ _e"> </span>from<span class="_ _e"> </span>stack</span></div><div class="t m0 x112 h8 yc7c ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _1f"> </span><span class="ff5 fs4">addi<span class="_ _e"> </span>sp,<span class="_ _11"> </span>sp,<span class="_ _e"> </span>4<span class="_ _3f"> </span>#<span class="_ _e"> </span>deallocate<span class="_ _e"> </span>space</span></div><div class="t m0 xd h7 y113e ff3 fs4 fc0 sc0 ls0 ws0">Figure 8.2 (a)<span class="_ _5"> </span>illustrates a<span class="_ _5"> </span>program stack that starts at<span class="_ _5"> </span>address <span class="ff5">0x0500<span class="_ _5"> </span></span>and grows</div><div class="t m0 x18 h7 y113f ff3 fs4 fc0 sc0 ls0 ws0">do<span class="_ _1"></span>wn<span class="_ _d"> </span>to<span class="_ _d"> </span>address<span class="_ _d"> </span><span class="ff5">0x04E4</span>.<span class="_ _e"> </span>Since<span class="_ _d"> </span>the<span class="_ _d"> </span>stack<span class="_ _2"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ter<span class="_ _a"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ts<span class="_ _d"> </span>to<span class="_ _d"> </span>the<span class="_ _d"> </span>top<span class="_ _d"> </span>of<span class="_ _d"> </span>the<span class="_ _d"> </span>stack,<span class="_ _d"> </span>the</div><div class="t m0 x18 h7 y1140 ff3 fs4 fc0 sc0 ls0 ws0">con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">sp<span class="_ _2"> </span></span>is<span class="_ _2"> </span>equal<span class="_ _2"> </span>to<span class="_ _2"> </span><span class="ff5">0x04E4</span>.</div><div class="c x2f y1141 w1e ha3"><div class="t m0 xcc ha4 y1142 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 xf8 ha4 y1143 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x111 ha5 y1144 ff9b fs3b fc0 sc0 lsb ws0"><span class="ff9c ls0"></span></div><div class="t m0 x49 ha5 y1145 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1146 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1147 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1148 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1149 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114a ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114b ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114c ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114d ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114e ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114f ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1150 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xdc ha6 y1151 ff9d fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x15 ha4 y1142 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x11 ha4 y1143 ff9a fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x5 ha5 y1152 ff9b fs3b fc0 sc0 lsb ws0"><span class="ff9c ls0"></span></div><div class="t m0 x45 ha5 y1145 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y1146 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y1147 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y1148 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y1149 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y114a ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y114b ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y114c ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xec ha6 y1153 ff9d fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y114d ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y114e ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y114f ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x45 ha5 y1150 ff9c fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x12d ha6 y1151 ff9d fs3b fc0 sc0 ls0 ws0"></div></div><div class="t m0 x80 h1d y1154 fff fsd fc0 sc0 ls0 ws0">(a)</div><div class="c xb y1141 w1f ha3"><div class="t m0 x132 ha4 y1142 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x133 ha4 y1143 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x134 ha5 y1144 ff9f fs3b fc0 sc0 lsb ws0"><span class="ffa0 ls0"></span></div><div class="t m0 x135 ha5 y1145 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1146 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1147 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1148 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1149 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y114a ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y114b ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y114c ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y114d ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y114e ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y114f ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x135 ha5 y1150 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x136 ha6 y1151 ffa1 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xcc ha4 y1142 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 xf8 ha4 y1143 ff9e fs3a fc0 sc0 ls0 ws0"></div><div class="t m0 x111 ha5 y1152 ff9f fs3b fc0 sc0 lsb ws0"><span class="ffa0 ls0"></span></div><div class="t m0 x49 ha5 y1145 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1146 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1147 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1148 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1149 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114a ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114b ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114c ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x122 ha6 y1153 ffa1 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114d ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114e ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y114f ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 x49 ha5 y1150 ffa0 fs3b fc0 sc0 ls0 ws0"></div><div class="t m0 xdc ha6 y1151 ffa1 fs3b fc0 sc0 ls0 ws0"></div></div><div class="t m0 x5e h1d y1154 fff fsd fc0 sc0 ls0 ws0">(b)</div><div class="t m0 x18 h7 y1155 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _c"> </span>8.2:<span class="_ _0"> </span>Example<span class="_ _c"> </span>of<span class="_ _f"> </span>a<span class="_ _f"> </span>program<span class="_ _c"> </span>stack<span class="_ _c"> </span>starting<span class="_ _f"> </span>at<span class="_ _c"> </span>address<span class="_ _f"> </span><span class="ff5">0x0500<span class="_ _f"> </span></span>and<span class="_ _f"> </span>growing</div><div class="t m0 x18 h7 y1156 ff3 fs4 fc0 sc0 ls0 ws0">do<span class="_ _1"></span>wn<span class="_ _1"></span>w<span class="_ _1"></span>ard<span class="_ _5"> </span>to<span class="_ _5"> </span>address<span class="_ _2"> </span><span class="ff5">0x04E4<span class="_ _5"> </span></span>(a)<span class="_ _2"> </span>b<span class="_ _4"></span>efore and<span class="_ _2"> </span>(b)<span class="_ _5"> </span>after<span class="_ _5"> </span>pushing<span class="_ _2"> </span>v<span class="_ _8"></span>alue<span class="_ _5"> </span><span class="ff5">0xFA0312B0<span class="_ _2"> </span></span>in<span class="_ _1"></span>to</div><div class="t m0 x18 h7 y1157 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>stac<span class="_ _1"></span>k.</div><div class="t m0 xd h7 y1158 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _a"> </span>8.2<span class="_ _a"> </span>(b)<span class="_ _a"> </span>sho<span class="_ _1"></span>ws<span class="_ _a"> </span>how<span class="_ _d"> </span>the<span class="_ _a"> </span>program<span class="_ _a"> </span>stack<span class="_ _d"> </span>is<span class="_ _a"> </span>mo<span class="_ _4"></span>diﬁed<span class="_ _d"> </span>after<span class="_ _a"> </span>executing<span class="_ _a"> </span>the<span class="_ _a"> </span>fol-</div><div class="t m0 x18 h7 y1159 ff3 fs4 fc0 sc0 ls0 ws0">lo<span class="_ _1"></span>wing<span class="_ _5"> </span>co<span class="_ _4"></span>de,<span class="_ _5"> </span><span class="ff8">i.e.</span>,<span class="_ _5"> </span>after<span class="_ _2"> </span>pushing<span class="_ _5"> </span>the<span class="_ _5"> </span>conten<span class="_ _8"></span>ts<span class="_ _2"> </span>of<span class="_ _5"> </span>register<span class="_ _5"> </span><span class="ff5">a0<span class="_ _2"> </span></span>into the<span class="_ _5"> </span>stack.<span class="_ _3"> </span>Notice<span class="_ _5"> </span>that</div><div class="t m0 x18 h7 y115a ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _d"> </span>v<span class="_ _8"></span>alue<span class="_ _a"> </span>of<span class="_ _a"> </span>the<span class="_ _a"> </span>stack<span class="_ _d"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ter<span class="_ _a"> </span>(<span class="ff5">sp</span>)<span class="_ _a"> </span>w<span class="_ _1"></span>as<span class="_ _d"> </span>decremented<span class="_ _d"> </span>by<span class="_ _d"> </span>4<span class="_ _a"> </span>units<span class="_ _a"> </span>and<span class="_ _d"> </span>the<span class="_ _a"> </span>conten<span class="_ _8"></span>ts<span class="_ _a"> </span>of</div><div class="t m0 x18 h7 y115b ff3 fs4 fc0 sc0 ls0 ws0">register<span class="_ _2"> </span><span class="ff5">a0<span class="_ _2"> </span></span>(<span class="ff5">0xFA0312B0</span>)<span class="_ _2"> </span>w<span class="_ _1"></span>as<span class="_ _2"> </span>stored<span class="_ _2"> </span>at<span class="_ _2"> </span>the<span class="_ _2"> </span>memory<span class="_ _2"> </span>starting<span class="_ _2"> </span>at<span class="_ _2"> </span>address<span class="_ _2"> </span><span class="ff5">0x04E0</span>.</div><div class="t m0 x112 h8 y115c ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _1f"> </span><span class="ff5 fs4">li<span class="_ _3f"> </span>a0,<span class="_ _e"> </span>0xFA0312B0</span></div><div class="t m0 x112 h8 y115d ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _1f"> </span><span class="ff5 fs4">addi<span class="_ _e"> </span>sp,<span class="_ _11"> </span>sp,<span class="_ _e"> </span>-4<span class="_ _88"> </span>#<span class="_ _e"> </span>allocate<span class="_ _e"> </span>stack<span class="_ _11"> </span>space</span></div><div class="t m0 x112 h8 y115e ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _1f"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a0,<span class="_ _e"> </span>0(sp)<span class="_ _5a"> </span>#<span class="_ _11"> </span>store<span class="_ _11"> </span>data<span class="_ _e"> </span>into<span class="_ _e"> </span>the<span class="_ _e"> </span>stack</span></div><div class="t m0 xd h7 y115f ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _f"> </span>previous<span class="_ _11"> </span>examples<span class="_ _11"> </span>discussed<span class="_ _11"> </span>ho<span class="_ _8"></span>w<span class="_ _11"> </span>to<span class="_ _11"> </span>push<span class="_ _11"> </span>and<span class="_ _f"> </span>p<span class="_ _4"></span>op<span class="_ _f"> </span>a<span class="_ _11"> </span>single<span class="_ _11"> </span>word<span class="_ _f"> </span>(4-b<span class="_ _1"></span>yte</div><div class="t m0 x18 h7 y1160 ff3 fs4 fc0 sc0 ls0 ws0">v<span class="_ _8"></span>alue)<span class="_ _a"> </span>to<span class="_ _a"> </span>and<span class="_ _3"> </span>from<span class="_ _a"> </span>the<span class="_ _a"> </span>stack.<span class="_ _2d"> </span>In<span class="_ _a"> </span>many<span class="_ _d"> </span>situations,<span class="_ _3"> </span>a<span class="_ _a"> </span>program<span class="_ _3"> </span>ma<span class="_ _1"></span>y<span class="_ _a"> </span>need<span class="_ _a"> </span>to<span class="_ _3"> </span>push<span class="_ _a"> </span>or</div><div class="t m0 x18 h7 y1161 ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _4"></span>op m<span class="_ _8"></span>ultiple<span class="_ _5"> </span>v<span class="_ _8"></span>alues to<span class="_ _5"> </span>or from<span class="_ _5"> </span>the stack.<span class="_ _3"> </span>F<span class="_ _7"></span>or example,<span class="_ _5"> </span>the program<span class="_ _5"> </span>may need to sav<span class="_ _8"></span>e</div><div class="t m0 x18 h7 y1162 ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _a"> </span>set<span class="_ _a"> </span>of<span class="_ _a"> </span>register<span class="_ _a"> </span>v<span class="_ _8"></span>alues<span class="_ _a"> </span>on<span class="_ _a"> </span>the<span class="_ _a"> </span>stac<span class="_ _8"></span>k.<span class="_ _2d"> </span>In<span class="_ _d"> </span>these<span class="_ _a"> </span>cases,<span class="_ _3"> </span>the<span class="_ _a"> </span>co<span class="_ _4"></span>de<span class="_ _d"> </span>may<span class="_ _d"> </span>b<span class="_ _4"></span>e<span class="_ _d"> </span>optimized<span class="_ _a"> </span>by</div><div class="t m0 x18 h7 y1163 ff3 fs4 fc0 sc0 ls0 ws0">adjusting<span class="_ _2"> </span>(increasing<span class="_ _d"> </span>or<span class="_ _d"> </span>decreasing)<span class="_ _2"> </span>the<span class="_ _d"> </span>stack<span class="_ _2"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ter<span class="_ _d"> </span>only<span class="_ _2"> </span>once.<span class="_ _11"> </span>The<span class="_ _d"> </span>following<span class="_ _2"> </span>co<span class="_ _4"></span>de</div><div class="t m0 x18 h7 y1164 ff3 fs4 fc0 sc0 ls0 ws0">sho<span class="_ _1"></span>ws<span class="_ _3"> </span>ho<span class="_ _8"></span>w<span class="_ _3"> </span>to<span class="_ _3"> </span>push<span class="_ _3"> </span>four<span class="_ _3"> </span>v<span class="_ _8"></span>alues<span class="_ _3"> </span>from<span class="_ _a"> </span>registers<span class="_ _3"> </span><span class="ff5">a0</span>,<span class="_ _c"> </span><span class="ff5">a1</span>,<span class="_ _3"> </span><span class="ff5">a2</span>,<span class="_ _c"> </span>and<span class="_ _3"> </span><span class="ff5">a3<span class="_ _3"> </span></span>in<span class="_ _8"></span>to<span class="_ _3"> </span>the<span class="_ _3"> </span>program</div><div class="t m0 x18 h7 y1165 ff3 fs4 fc0 sc0 ls0 ws0">stac<span class="_ _1"></span>k.<span class="_ _f"> </span>Notice<span class="_ _2"> </span>that<span class="_ _d"> </span>the<span class="_ _2"> </span>stack<span class="_ _2"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>ter<span class="_ _2"> </span>was<span class="_ _2"> </span>adjusted<span class="_ _2"> </span>only<span class="_ _d"> </span>once<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _d"> </span>immediate<span class="_ _2"> </span>ﬁeld</div><div class="t m0 x18 h7 y1166 ff3 fs4 fc0 sc0 ls0 ws0">of the<span class="_ _5"> </span>store<span class="_ _5"> </span>word instruction<span class="_ _5"> </span>(<span class="ff5">sw</span>)<span class="_ _5"> </span>w<span class="_ _1"></span>as used<span class="_ _5"> </span>to<span class="_ _5"> </span>select<span class="_ _5"> </span>the<span class="_ _5"> </span>prop<span class="_ _4"></span>er p<span class="_ _4"></span>osition to<span class="_ _5"> </span>store<span class="_ _5"> </span>each</div><div class="t m0 x18 h7 y1167 ff3 fs4 fc0 sc0 ls0 ws0">one<span class="_ _5"> </span>of<span class="_ _5"> </span>the<span class="_ _2"> </span>v<span class="_ _8"></span>alues.<span class="_ _c"> </span>In<span class="_ _5"> </span>this<span class="_ _5"> </span>example,<span class="_ _2"> </span>the<span class="_ _5"> </span>last<span class="_ _2"> </span>v<span class="_ _8"></span>alue<span class="_ _5"> </span>pushed<span class="_ _2"> </span>in<span class="_ _8"></span>to<span class="_ _2"> </span>the<span class="_ _5"> </span>stack<span class="_ _5"> </span>w<span class="_ _1"></span>as<span class="_ _5"> </span>the<span class="_ _2"> </span>v<span class="_ _7"></span>alue</div><div class="t m0 x18 h7 y1168 ff3 fs4 fc0 sc0 ls0 ws0">stored<span class="_ _2"> </span>in<span class="_ _2"> </span>the<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a3</span>.</div><div class="t m0 x112 h8 y1169 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _1f"> </span><span class="ff5 fs4">addi<span class="_ _e"> </span>sp,<span class="_ _11"> </span>sp,<span class="_ _e"> </span>-16<span class="_ _85"> </span>#<span class="_ _e"> </span>allocate<span class="_ _e"> </span>stack<span class="_ _11"> </span>space<span class="_ _e"> </span>(4<span class="_ _e"> </span>words)</span></div><div class="t m0 x112 h8 y116a ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _1f"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a0,<span class="_ _e"> </span>12(sp)<span class="_ _3f"> </span>#<span class="_ _11"> </span>store<span class="_ _e"> </span>the<span class="_ _e"> </span>first<span class="_ _e"> </span>value<span class="_ _e"> </span>(SP+12)</span></div><div class="t m0 x112 h8 y116b ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _1f"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a1,<span class="_ _85"> </span>8(sp)<span class="_ _3f"> </span>#<span class="_ _e"> </span>store<span class="_ _11"> </span>the<span class="_ _e"> </span>second<span class="_ _e"> </span>value<span class="_ _e"> </span>(SP+8)</span></div><div class="t m0 x112 h8 y116c ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _1f"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a2,<span class="_ _85"> </span>4(sp)<span class="_ _3f"> </span>#<span class="_ _e"> </span>store<span class="_ _11"> </span>the<span class="_ _e"> </span>third<span class="_ _e"> </span>value<span class="_ _e"> </span>(SP+4)</span></div><div class="t m0 x112 h8 y116d ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _1f"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a3,<span class="_ _85"> </span>0(sp)<span class="_ _3f"> </span>#<span class="_ _e"> </span>store<span class="_ _11"> </span>the<span class="_ _e"> </span>fourth<span class="_ _e"> </span>value<span class="_ _e"> </span>(SP+0)</span></div><div class="t m0 xd h7 y683 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>following<span class="_ _3"> </span>co<span class="_ _4"></span>de<span class="_ _3"> </span>sho<span class="_ _1"></span>ws<span class="_ _3"> </span>how<span class="_ _3"> </span>to<span class="_ _3"> </span>p<span class="_ _4"></span>op<span class="_ _3"> </span>four<span class="_ _c"> </span>v<span class="_ _8"></span>alues<span class="_ _3"> </span>from<span class="_ _c"> </span>the<span class="_ _3"> </span>program<span class="_ _c"> </span>stack<span class="_ _3"> </span>in<span class="_ _8"></span>to</div><div class="t m0 x18 h7 yea ff3 fs4 fc0 sc0 ls0 ws0">registers <span class="ff5">a3</span>, <span class="ff5">a2</span>,<span class="_ _5"> </span><span class="ff5">a1</span>, and <span class="ff5">a0</span>.<span class="_ _3"> </span>Notice that the stack pointer w<span class="_ _8"></span>as adjusted<span class="_ _5"> </span>only once and</div><div class="t m0 x18 h7 yeb ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _d"> </span>immediate<span class="_ _a"> </span>ﬁeld<span class="_ _a"> </span>of<span class="_ _a"> </span>the<span class="_ _a"> </span>load<span class="_ _a"> </span>word<span class="_ _d"> </span>instruction<span class="_ _d"> </span>(<span class="ff5">lw</span>)<span class="_ _a"> </span>was<span class="_ _d"> </span>used<span class="_ _a"> </span>to<span class="_ _a"> </span>select<span class="_ _a"> </span>the<span class="_ _a"> </span>prop<span class="_ _4"></span>er</div><div class="t m0 x18 h7 yec ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _4"></span>osition<span class="_ _5"> </span>to<span class="_ _2"> </span>load<span class="_ _d"> </span>each<span class="_ _5"> </span>one<span class="_ _2"> </span>of<span class="_ _d"> </span>the<span class="_ _2"> </span>v<span class="_ _8"></span>alues.<span class="_ _c"> </span>In<span class="_ _d"> </span>this<span class="_ _2"> </span>example,<span class="_ _2"> </span>the<span class="_ _2"> </span>ﬁrst<span class="_ _d"> </span>v<span class="_ _8"></span>alue<span class="_ _2"> </span>p<span class="_ _4"></span>opped<span class="_ _d"> </span>from</div><div class="t m0 x18 h7 y61 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>stac<span class="_ _1"></span>k<span class="_ _2"> </span>w<span class="_ _1"></span>as<span class="_ _2"> </span>stored<span class="_ _2"> </span>in<span class="_ _1"></span>to<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a3</span>.</div><div class="t m0 x32 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>August<span class="_ _2"> </span>21,<span class="_ _d"> </span>2021)<span class="_ _6f"> </span>89</span></div><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",90.709,680.762,null]'><div class="d m1" style="border-style:none;position:absolute;left:135.655000px;bottom:708.974000px;width:14.723000px;height:11.956000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf67" data-dest-detail='[103,"XYZ",90.709,680.762,null]'><div class="d m1" style="border-style:none;position:absolute;left:136.666000px;bottom:445.506000px;width:14.723000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:139.954000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

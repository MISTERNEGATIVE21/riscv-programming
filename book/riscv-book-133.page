<div id="pf85" class="pf w0 h0" data-page-no="85"><div class="pc pc85 w0 h0"><img class="bi x17 y1642 w2 he3" alt="" src="bg85.png"/><div class="t m0 x17 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">CHAPTER<span class="_ _2"> </span>10.<span class="_ _19"> </span>EXTERNAL<span class="_ _2"> </span>INTERRUPTS</div><div class="t m0 x17 h7 y1e ff3 fs4 fc0 sc0 ls0 ws0">v<span class="_ _1"></span>ector<span class="_ _2"> </span>table<span class="_ _2"> </span>con<span class="_ _1"></span>tains<span class="_ _2"> </span>a<span class="_ _2"> </span>32-bit<span class="_ _2"> </span>(four-b<span class="_ _1"></span>yte)<span class="_ _2"> </span>address.</div><div class="t m0 x7c h7 y1643 ff6 fs4 fc0 sc0 ls0 ws0">Algorithm<span class="_ _b"> </span>6: <span class="ff3">Adapting<span class="_ _5"> </span>the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>instructions<span class="_ _5"> </span>execution<span class="_ _2"> </span>cycle<span class="_ _2"> </span>to<span class="_ _2"> </span>automati-</span></div><div class="t m0 x7c h7 y1644 ff3 fs4 fc0 sc0 ls0 ws0">cally<span class="_ _2"> </span>in<span class="_ _1"></span>v<span class="_ _1"></span>ok<span class="_ _1"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>prop<span class="_ _4"></span>er<span class="_ _5"> </span>ISR.</div><div class="t m0 x31 h7 y1645 ff18 fs7 fc0 sc0 ls0 ws0">1<span class="_ _9"> </span><span class="ff6 fs4">while <span class="ff8">T<span class="_ _7"></span>rue<span class="_ _3"> </span><span class="ff6">do</span></span></span></div><div class="t m0 x1f h7 y1646 ff18 fs7 fc0 sc0 ls0 ws0">2<span class="_ _35"> </span><span class="ff3 fs4">//<span class="_ _2"> </span>Chec<span class="_ _1"></span>k<span class="_ _2"> </span>for<span class="_ _2"> </span>in<span class="_ _1"></span>terrupts</span></div><div class="t m0 x1f h7 y1647 ff18 fs7 fc0 sc0 ls0 ws0">3<span class="_ _35"> </span><span class="ff6 fs4">if<span class="_ _3"> </span><span class="ff8">(<span class="ff5">interrupt<span class="_ _b"> </span>pin<span class="_ _b"> </span></span>=<span class="_ _2"> </span>‘1’)<span class="_ _b"> </span></span>and<span class="_ _2"> </span><span class="ff8">(<span class="ff5">interrupts<span class="_ _b"> </span>enabled<span class="_ _b"> </span></span>=<span class="_ _2"> </span>‘1’)<span class="_ _b"> </span></span>then</span></div><div class="t m0 x1f h7 y1648 ff18 fs7 fc0 sc0 ls0 ws0">4<span class="_ _c9"> </span><span class="ff3 fs4">//<span class="_ _2"> </span>Sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>previous<span class="_ _2"> </span>PC</span></div><div class="t m0 x1f h7 y1649 ff18 fs7 fc0 sc0 ls0 ws0">5<span class="_ _c9"> </span><span class="ff5 fs4">SAVED<span class="_ _b"> </span>PC<span class="_ _5"> </span><span class="ff4">←<span class="_ _2"> </span></span>PC<span class="_ _2"> </span><span class="ff3">;</span></span></div><div class="t m0 x1f h7 y164a ff18 fs7 fc0 sc0 ls0 ws0">6<span class="_ _c9"> </span><span class="ff3 fs4">// Retrieve the<span class="_ _5"> </span>ISR<span class="_ _5"> </span>address<span class="_ _5"> </span>from the<span class="_ _5"> </span>interrupt vector table and<span class="_ _5"> </span>set<span class="_ _5"> </span>PC</span></div><div class="t m0 x1f h7 y164b ff18 fs7 fc0 sc0 ls0 ws0">7<span class="_ _c9"> </span><span class="ff5 fs4">PC<span class="_ _2"> </span><span class="ff4">←<span class="_ _2"> </span><span class="ff3">MainMemory[</span></span>INT<span class="_ _b"> </span>TABLE<span class="_ _b"> </span>BASE<span class="_ _5"> </span><span class="ff3">+<span class="_ _2"> </span></span>INTERRUPT<span class="_ _b"> </span>ID<span class="_ _2"> </span><span class="ff4">×<span class="_ _2"> </span><span class="ff3">4];</span></span></span></div><div class="t m0 x1f h7 y164c ff18 fs7 fc0 sc0 ls0 ws0">8<span class="_ _c9"> </span><span class="ff5 fs4">interrupts<span class="_ _b"> </span>enabled<span class="_ _5"> </span><span class="ff4">←<span class="_ _2"> </span><span class="ff3">‘0’<span class="_ _2"> </span>;</span></span></span></div><div class="t m0 x1f h7 y164d ff18 fs7 fc0 sc0 ls0 ws0">9<span class="_ _35"> </span><span class="ff6 fs4">end</span></div><div class="t m0 xb8 h7 y164e ff18 fs7 fc0 sc0 ls0 ws0">10<span class="_ _35"> </span><span class="ff3 fs4">//<span class="_ _2"> </span>F<span class="_ _7"></span>etc<span class="_ _1"></span>h<span class="_ _2"> </span>instruction<span class="_ _2"> </span>and<span class="_ _2"> </span>up<span class="_ _4"></span>date<span class="_ _5"> </span>PC</span></div><div class="t m0 xb8 h7 y164f ff18 fs7 fc0 sc0 ls0 ws0">11<span class="_ _35"> </span><span class="ff5 fs4">IR<span class="_ _2"> </span><span class="ff4">←<span class="_ _2"> </span><span class="ff3">MainMemory[</span></span>PC<span class="ff3">]<span class="_ _2"> </span>;</span></span></div><div class="t m0 xb8 h7 y1650 ff18 fs7 fc0 sc0 ls0 ws0">12<span class="_ _35"> </span><span class="ff5 fs4">PC<span class="_ _2"> </span><span class="ff4">←<span class="_ _2"> </span></span>PC<span class="ff3">+4;</span></span></div><div class="t m0 xb8 h7 y1651 ff18 fs7 fc0 sc0 ls0 ws0">13<span class="_ _35"> </span><span class="ff3 fs4">ExecuteInstruction(<span class="ff5">IR</span>);</span></div><div class="t m0 x17 h7 y1652 ff18 fs7 fc0 sc0 ls0 ws0">14<span class="_ _9"> </span><span class="ff6 fs4">end</span></div><div class="t m0 x13 h7 y1653 ff3 fs4 fc0 sc0 ls0 ws0">On<span class="_ _2"> </span>p<span class="_ _4"></span>o<span class="_ _8"></span>wer-up,<span class="_ _2"> </span>b<span class="_ _4"></span>efore<span class="_ _2"> </span>enabling<span class="_ _2"> </span>interrupts,<span class="_ _2"> </span>the<span class="_ _2"> </span>b<span class="_ _4"></span>oot<span class="_ _b"> </span>soft<span class="_ _8"></span>ware<span class="_ _2"> </span>m<span class="_ _8"></span>ust<span class="_ _b"> </span>write<span class="_ _2"> </span>the<span class="_ _2"> </span>inter-</div><div class="t m0 x17 h7 y1654 ff3 fs4 fc0 sc0 ls0 ws0">rupt<span class="_ _5"> </span>vector table<span class="_ _2"> </span>on<span class="_ _5"> </span>main<span class="_ _2"> </span>memory<span class="_ _5"> </span>and<span class="_ _5"> </span>set<span class="_ _2"> </span>the<span class="_ _5"> </span><span class="ff5">INT<span class="_ _b"> </span>TABLE<span class="_ _b"> </span>BASE<span class="_ _5"> </span></span>register<span class="_ _5"> </span>with<span class="_ _2"> </span>its<span class="_ _5"> </span>base</div><div class="t m0 x17 h7 y1655 ff3 fs4 fc0 sc0 ls0 ws0">address.</div><div class="t m0 x13 h7 y1656 ff3 fs4 fc0 sc0 ls0 ws0">This<span class="_ _3"> </span>approach’s<span class="_ _3"> </span>main<span class="_ _3"> </span>adv<span class="_ _8"></span>antage<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>p<span class="_ _4"></span>erformance<span class="_ _3"> </span>since<span class="_ _3"> </span>the<span class="_ _3"> </span>CPU<span class="_ _a"> </span>directly<span class="_ _3"> </span>in-</div><div class="t m0 x17 h7 y1657 ff3 fs4 fc0 sc0 ls0 ws0">v<span class="_ _1"></span>ok<span class="_ _1"></span>es<span class="_ _5"> </span>the<span class="_ _2"> </span>proper<span class="_ _2"> </span>ISR<span class="_ _5"> </span>up<span class="_ _4"></span>on<span class="_ _5"> </span>an<span class="_ _2"> </span>in<span class="_ _8"></span>terrupt.<span class="_ _a"> </span>How<span class="_ _8"></span>ever,<span class="_ _5"> </span>the<span class="_ _5"> </span>CPU<span class="_ _2"> </span>hardw<span class="_ _1"></span>are<span class="_ _5"> </span>design<span class="_ _2"> </span>usually</div><div class="t m0 x17 h7 y1658 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>ecomes<span class="_ _5"> </span>more<span class="_ _2"> </span>complicated.</div><div class="t m0 x17 hd y1659 ff7 fs3 fc0 sc0 ls0 ws0">10.3<span class="_ _32"> </span>In<span class="_ _8"></span>terrupts<span class="_ _31"> </span>on<span class="_ _16"> </span>R<span class="_ _a5"></span>V32I</div><div class="t m0 x17 h7 y165a ff3 fs4 fc0 sc0 ls0 ws0">In this section, w<span class="_ _8"></span>e will discuss external<span class="_ _2f"> </span>in<span class="_ _8"></span>terrupts in the con<span class="_ _8"></span>text of RISV-V CPUs.<span class="_ _b"> </span>As</div><div class="t m0 x17 h7 y165b ff3 fs4 fc0 sc0 ls0 ws0">w<span class="_ _1"></span>e will<span class="_ _5"> </span>discuss<span class="_ _5"> </span>in Section<span class="_ _5"> </span>11.1,<span class="_ _5"> </span>the<span class="_ _5"> </span>RISC-V Instruction<span class="_ _5"> </span>Set<span class="_ _5"> </span>Arc<span class="_ _1"></span>hitecture deﬁnes<span class="_ _5"> </span>three</div><div class="t m0 x17 h7 y165c ff3 fs4 fc0 sc0 ls0 ws0">privilege<span class="_ _b"> </span>levels:<span class="_ _16"> </span>User/Application,<span class="_ _3"> </span>Sup<span class="_ _4"></span>ervisor,<span class="_ _3"> </span>and<span class="_ _3"> </span>Mac<span class="_ _8"></span>hine.<span class="_ _26"> </span>Also,<span class="_ _3"> </span>it<span class="_ _3"> </span>sp<span class="_ _4"></span>eciﬁes<span class="_ _b"> </span>that</div><div class="t m0 x17 h7 y165d ff3 fs4 fc0 sc0 ls0 ws0">micropro<span class="_ _4"></span>cessor<span class="_ _3"> </span>ma<span class="_ _8"></span>y<span class="_ _a"> </span>implemen<span class="_ _1"></span>t<span class="_ _3"> </span>only<span class="_ _3"> </span>a<span class="_ _a"> </span>subset<span class="_ _3"> </span>of<span class="_ _a"> </span>these<span class="_ _3"> </span>privilege<span class="_ _3"> </span>levels.<span class="_ _15"> </span>T<span class="_ _7"></span>o<span class="_ _a"> </span>simplify</div><div class="t m0 x17 h7 y165e ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _25"> </span>discussion,<span class="_ _9"> </span>in<span class="_ _25"> </span>this<span class="_ _25"> </span>chapter<span class="_ _a"> </span>we<span class="_ _a"> </span>will<span class="_ _9"> </span>fo<span class="_ _4"></span>cus<span class="_ _a"> </span>on<span class="_ _25"> </span>systems<span class="_ _25"> </span>that<span class="_ _25"> </span>implement<span class="_ _a"> </span>only<span class="_ _25"> </span>the</div><div class="t m0 x17 h7 y165f ff3 fs4 fc0 sc0 ls0 ws0">Mac<span class="_ _1"></span>hine<span class="_ _2"> </span>privilege<span class="_ _2"> </span>levels,<span class="_ _5"> </span>which<span class="_ _5"> </span>is<span class="_ _2"> </span>usually<span class="_ _2"> </span>the<span class="_ _2"> </span>case<span class="_ _2"> </span>of<span class="_ _2"> </span>embedded<span class="_ _2"> </span>systems.<span class="_ _25"> </span>Chapter<span class="_ _2"> </span>11</div><div class="t m0 x17 h7 y1660 ff3 fs4 fc0 sc0 ls0 ws0">will<span class="_ _5"> </span>discuss<span class="_ _2"> </span>other<span class="_ _2"> </span>privilege<span class="_ _2"> </span>lev<span class="_ _1"></span>els<span class="_ _5"> </span>and<span class="_ _2"> </span>how<span class="_ _5"> </span>they<span class="_ _2"> </span>aﬀect<span class="_ _2"> </span>the<span class="_ _5"> </span>RISC-V<span class="_ _2"> </span>interrupt<span class="_ _5"> </span>handling</div><div class="t m0 x17 h7 y1661 ff3 fs4 fc0 sc0 ls0 ws0">mec<span class="_ _1"></span>hanism.</div><div class="t m0 x17 ha y1662 ff7 fs6 fc0 sc0 ls0 ws0">10.3.1<span class="_ _e"> </span>Con<span class="_ _8"></span>trol<span class="_ _a"> </span>and<span class="_ _a"> </span>Status<span class="_ _a"> </span>Registers</div><div class="t m0 x17 h7 y1663 ff6 fs4 fc0 sc0 ls0 ws0">The<span class="_ _b"> </span>RISC-V<span class="_ _b"> </span>Control<span class="_ _b"> </span>and<span class="_ _b"> </span>Status<span class="_ _b"> </span>Registers,<span class="_ _b"> </span>or<span class="_ _b"> </span>CSRs,<span class="_ _b"> </span>are<span class="_ _b"> </span>sp<span class="_ _4"></span>ecial<span class="_ _b"> </span>registers</div><div class="t m0 x17 h7 y1664 ff6 fs4 fc0 sc0 ls0 ws0">that<span class="_ _16"> </span>exp<span class="_ _4"></span>ose<span class="_ _16"> </span>the<span class="_ _16"> </span>CPU<span class="_ _16"> </span>status<span class="_ _12"> </span>to<span class="_ _31"> </span>the<span class="_ _12"> </span>soft<span class="_ _8"></span>ware<span class="_ _31"> </span>and<span class="_ _12"> </span>allo<span class="_ _8"></span>w<span class="_ _16"> </span>it<span class="_ _16"> </span>to<span class="_ _12"> </span>conﬁgure</div><div class="t m0 x17 h7 y1665 ff6 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>CPU<span class="_ _b"> </span>b<span class="_ _4"></span>eha<span class="_ _8"></span>vior.<span class="_ _25"> </span><span class="ff3">F<span class="_ _7"></span>or<span class="_ _2"> </span>example,<span class="_ _2"> </span>on<span class="_ _2"> </span>the<span class="_ _b"> </span>R<span class="_ _23"></span>V32I<span class="_ _2"> </span>ISA,<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mstatus<span class="_ _2"> </span></span>CSR<span class="_ _2"> </span>is<span class="_ _2"> </span>a<span class="_ _b"> </span>32-bit</span></div><div class="t m0 x17 h7 y1666 ff3 fs4 fc0 sc0 ls0 ws0">register that<span class="_ _30"> </span>contains<span class="_ _2f"> </span>sev<span class="_ _1"></span>eral bits<span class="_ _30"> </span>that exp<span class="_ _4"></span>ose<span class="_ _30"> </span>the current<span class="_ _30"> </span>status of the<span class="_ _30"> </span>CPU or con<span class="_ _8"></span>trol</div><div class="t m0 x17 h7 y1667 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>b<span class="_ _4"></span>eha<span class="_ _8"></span>vior.</div><div class="t m0 x13 h7 y1668 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _b"> </span>RISC-V<span class="_ _3"> </span>ISA<span class="_ _b"> </span>contains<span class="_ _b"> </span>a<span class="_ _b"> </span>set<span class="_ _b"> </span>of<span class="_ _3"> </span>special<span class="_ _3"> </span>instructions<span class="_ _b"> </span>to<span class="_ _3"> </span>enable<span class="_ _b"> </span>soft<span class="_ _1"></span>w<span class="_ _1"></span>are<span class="_ _b"> </span>to<span class="_ _3"> </span>in-</div><div class="t m0 x17 h7 y1669 ff3 fs4 fc0 sc0 ls0 ws0">sp<span class="_ _4"></span>ect<span class="_ _3"> </span>and<span class="_ _3"> </span>mo<span class="_ _4"></span>dify<span class="_ _3"> </span>the<span class="_ _3"> </span>conten<span class="_ _8"></span>ts<span class="_ _3"> </span>of<span class="_ _a"> </span>CSRs<span class="_ _3"> </span>[4].<span class="_ _0"> </span>The<span class="_ _a"> </span><span class="ff5">csrrw<span class="_ _31"> </span>rd,<span class="_ _9"> </span>csr,<span class="_ _31"> </span>rs1<span class="_ _a"> </span></span>instruction</div><div class="t m0 x17 h7 y166a ff3 fs4 fc0 sc0 ls0 ws0">atomically<span class="_ _2"> </span>swaps<span class="_ _2"> </span>v<span class="_ _8"></span>alues<span class="_ _b"> </span>in<span class="_ _2"> </span>the<span class="_ _b"> </span>CSRs<span class="_ _2"> </span>and<span class="_ _b"> </span>in<span class="_ _1"></span>teger<span class="_ _2"> </span>registers.<span class="_ _31"> </span>F<span class="_ _7"></span>or<span class="_ _b"> </span>example,<span class="_ _2"> </span><span class="ff5">csrrw<span class="_ _31"> </span>a0,</span></div><div class="t m0 x17 h7 y166b ff5 fs4 fc0 sc0 ls0 ws0">mscratch,<span class="_ _9"> </span>a0<span class="_ _b"> </span><span class="ff3">atomically<span class="_ _b"> </span>sw<span class="_ _8"></span>aps<span class="_ _b"> </span>the<span class="_ _b"> </span>con<span class="_ _8"></span>tents<span class="_ _2"> </span>of<span class="_ _b"> </span>register<span class="_ _b"> </span><span class="ff5">a0<span class="_ _2"> </span></span>and<span class="_ _b"> </span>the<span class="_ _b"> </span><span class="ff5">mscratch<span class="_ _2"> </span></span>CSR.</span></div><div class="t m0 x17 h7 y166c ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2f"> </span><span class="ff5">csrr<span class="_ _9"> </span>rd,<span class="_ _31"> </span>csr<span class="_ _2f"> </span></span>instruction copies<span class="_ _30"> </span>the con<span class="_ _8"></span>tents<span class="_ _2f"> </span>of<span class="_ _30"> </span>the <span class="ff5">csr<span class="_ _2f"> </span></span>CSR<span class="_ _2f"> </span>in<span class="_ _8"></span>to the<span class="_ _2f"> </span><span class="ff5">rd<span class="_ _30"> </span></span>general-</div><div class="t m0 x17 h7 y166d ff3 fs4 fc0 sc0 ls0 ws0">purp<span class="_ _4"></span>ose<span class="_ _a"> </span>register.<span class="_ _1b"> </span>F<span class="_ _7"></span>or<span class="_ _a"> </span>example,<span class="_ _9"> </span>the<span class="_ _25"> </span><span class="ff5">csrr<span class="_ _31"> </span>a0,<span class="_ _31"> </span>mstatus<span class="_ _25"> </span></span>copies<span class="_ _25"> </span>the<span class="_ _a"> </span>conten<span class="_ _8"></span>ts<span class="_ _25"> </span>of<span class="_ _25"> </span>the</div><div class="t m0 x17 h7 y166e ff5 fs4 fc0 sc0 ls0 ws0">mstatus<span class="_ _b"> </span><span class="ff3">CSR<span class="_ _b"> </span>in<span class="_ _8"></span>to<span class="_ _b"> </span><span class="ff5">a0</span>.<span class="_ _16"> </span>The<span class="_ _b"> </span><span class="ff5">csrw<span class="_ _9"> </span>csr,<span class="_ _31"> </span>rd<span class="_ _b"> </span></span>instruction<span class="_ _b"> </span>copies<span class="_ _2"> </span>the<span class="_ _b"> </span>conten<span class="_ _8"></span>ts<span class="_ _b"> </span>of<span class="_ _b"> </span>the<span class="_ _b"> </span><span class="ff5">rd</span></span></div><div class="t m0 x17 h7 y166f ff3 fs4 fc0 sc0 ls0 ws0">general-purp<span class="_ _4"></span>ose<span class="_ _5"> </span>register<span class="_ _5"> </span>into<span class="_ _5"> </span>the<span class="_ _2"> </span><span class="ff5">csr<span class="_ _2"> </span></span>CSR.<span class="_ _5"> </span>F<span class="_ _7"></span>or<span class="_ _2"> </span>example,<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">csrw<span class="_ _31"> </span>mtvec,<span class="_ _9"> </span>a1<span class="_ _2"> </span></span>copies</div><div class="t m0 x17 h7 y1670 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a1<span class="_ _2"> </span></span>in<span class="_ _1"></span>to<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mtvec<span class="_ _2"> </span></span>CSR.</div><div class="t m0 x13 h7 y1671 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _b"> </span>R<span class="_ _23"></span>V32I<span class="_ _b"> </span>Control<span class="_ _b"> </span>and<span class="_ _b"> </span>Status<span class="_ _b"> </span>Registers<span class="_ _b"> </span>are<span class="_ _b"> </span>32-bit<span class="_ _b"> </span>long<span class="_ _b"> </span>and<span class="_ _b"> </span>some<span class="_ _b"> </span>of<span class="_ _b"> </span>them<span class="_ _b"> </span>ma<span class="_ _8"></span>y</div><div class="t m0 x17 h7 y1672 ff3 fs4 fc0 sc0 ls0 ws0">con<span class="_ _1"></span>tain<span class="_ _5"> </span>subﬁelds<span class="_ _5"> </span>with<span class="_ _2"> </span>diﬀerent purp<span class="_ _4"></span>oses.<span class="_ _3"> </span>F<span class="_ _7"></span>or<span class="_ _5"> </span>example,<span class="_ _2"> </span>the<span class="_ _5"> </span><span class="ff5">mstatus<span class="_ _2"> </span></span>CSR,<span class="_ _5"> </span>illustrated</div><div class="t m0 x17 h7 y1673 ff3 fs4 fc0 sc0 ls0 ws0">in Figure 10.5, con<span class="_ _8"></span>tains more than 17 subﬁelds (<span class="ff8">e.g.</span>, MIE, MPIE, <span class="ff8">etc.</span>), eac<span class="_ _8"></span>h one with</div><div class="t m0 x17 h7 y1674 ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _2"> </span>sp<span class="_ _4"></span>eciﬁc<span class="_ _5"> </span>purp<span class="_ _4"></span>ose.</div><div class="t m0 x13 h7 yd3 ff3 fs4 fc0 sc0 ls0 ws0">In our discussion, w<span class="_ _8"></span>e will use the<span class="_ _2f"> </span><span class="ff5">csr</span>.<span class="ff5">FIELD<span class="_ _2f"> </span></span>notation to refer to<span class="_ _2f"> </span>the <span class="ff5">FIELD<span class="_ _2f"> </span></span>subﬁeld</div><div class="t m0 x17 h7 y48 ff3 fs4 fc0 sc0 ls0 ws0">of<span class="_ _25"> </span><span class="ff5">csr<span class="_ _25"> </span></span>CSR.<span class="_ _25"> </span>F<span class="_ _7"></span>or<span class="_ _9"> </span>example,<span class="_ _31"> </span><span class="ff5">mstatus</span>.<span class="ff5">MIE<span class="_ _25"> </span></span>refers<span class="_ _25"> </span>to<span class="_ _25"> </span>the<span class="_ _9"> </span><span class="ff5">MIE<span class="_ _25"> </span></span>subﬁeld<span class="_ _25"> </span>present<span class="_ _a"> </span>on<span class="_ _9"> </span>the</div><div class="t m0 x42 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>March<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _64"> </span>120</span></div><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:250.551000px;bottom:757.574000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:428.942000px;bottom:504.254000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,474.995,null]'><div class="d m1" style="border-style:none;position:absolute;left:210.227000px;bottom:492.299000px;width:18.459000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:374.529000px;bottom:492.299000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:459.817000px;bottom:425.357000px;width:23.439000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",90.709,405.521,null]'><div class="d m1" style="border-style:none;position:absolute;left:246.507000px;bottom:413.402000px;width:19.704000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",136.063,113.65,null]'><div class="d m1" style="border-style:none;position:absolute;left:324.168000px;bottom:413.402000px;width:123.962000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,179.306,null]'><div class="d m1" style="border-style:none;position:absolute;left:135.067000px;bottom:400.893000px;width:66.165000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,179.306,null]'><div class="d m1" style="border-style:none;position:absolute;left:379.007000px;bottom:389.491000px;width:66.424000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,179.306,null]'><div class="d m1" style="border-style:none;position:absolute;left:174.937000px;bottom:365.581000px;width:65.468000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8c" data-dest-detail='[140,"XYZ",90.709,771.024,null]'><div class="d m1" style="border-style:none;position:absolute;left:493.608000px;bottom:365.581000px;width:11.955000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",136.063,378.163,null]'><div class="d m1" style="border-style:none;position:absolute;left:202.418000px;bottom:295.173000px;width:147.935000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:369.705000px;bottom:295.173000px;width:25.225000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:222.542000px;bottom:283.218000px;width:26.913000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:155.016000px;bottom:271.263000px;width:26.913000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,506.875,null]'><div class="d m1" style="border-style:none;position:absolute;left:356.314000px;bottom:271.263000px;width:18.597000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:436.252000px;bottom:271.263000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:491.394000px;bottom:271.263000px;width:14.169000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:260.994000px;bottom:259.307000px;width:18.099000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:437.909000px;bottom:259.307000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:152.225000px;bottom:249.289000px;width:23.440000px;height:8.911000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,506.875,null]'><div class="d m1" style="border-style:none;position:absolute;left:209.528000px;bottom:235.366000px;width:18.597000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:287.522000px;bottom:222.858000px;width:22.056000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf92" data-dest-detail='[146,"XYZ",90.709,546.583,null]'><div class="d m1" style="border-style:none;position:absolute;left:318.595000px;bottom:225.348000px;width:6.974000px;height:8.413000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:271.800000px;bottom:211.456000px;width:22.057000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:480.740000px;bottom:199.501000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:398.023000px;bottom:187.546000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:175.389000px;bottom:163.635000px;width:22.056000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:298.362000px;bottom:151.680000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:319.071000px;bottom:139.725000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",136.063,378.163,null]'><div class="d m1" style="border-style:none;position:absolute;left:202.069000px;bottom:127.739000px;width:129.769000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:433.242000px;bottom:115.784000px;width:22.057000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf86" data-dest-detail='[134,"XYZ",90.709,777.001,null]'><div class="d m1" style="border-style:none;position:absolute;left:176.908000px;bottom:103.275000px;width:19.704000px;height:11.956000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,532.778,null]'><div class="d m1" style="border-style:none;position:absolute;left:168.399000px;bottom:67.933000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:187.121000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

<div id="pf34" class="pf w0 h0" data-page-no="34"><div class="pc pc34 w0 h0"><img class="bi x15 y181 w2 h20" alt="" src="bg34.png"/><div class="t m0 x15 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">4.1.<span class="_ _19"> </span>COMMENTS</div><div class="t m0 x15 hd y1e ff7 fs3 fc0 sc0 ls0 ws0">4.1<span class="_ _32"> </span>Commen<span class="_ _8"></span>ts</div><div class="t m0 x15 h7 y9a4 ff3 fs4 fc0 sc0 ls0 ws0">R<span class="_ _23"></span>V32I<span class="_ _a"> </span>assembly<span class="_ _3"> </span>programs<span class="_ _3"> </span>may<span class="_ _3"> </span>con<span class="_ _1"></span>tain<span class="_ _3"> </span>line<span class="_ _a"> </span>or<span class="_ _3"> </span>multi-line<span class="_ _3"> </span>comments.<span class="_ _0"> </span>On<span class="_ _3"> </span>GNU<span class="_ _a"> </span>as-</div><div class="t m0 x15 h7 y9a5 ff3 fs4 fc0 sc0 ls0 ws0">sem<span class="_ _1"></span>blers,<span class="_ _b"> </span>line<span class="_ _b"> </span>commen<span class="_ _8"></span>ts<span class="_ _b"> </span>are<span class="_ _b"> </span>delimited<span class="_ _b"> </span>b<span class="_ _8"></span>y<span class="_ _b"> </span>a<span class="_ _b"> </span>line<span class="_ _2"> </span>comme<span class="_ _4"></span>n<span class="_ _8"></span>t<span class="_ _b"> </span>c<span class="_ _8"></span>haracter,<span class="_ _b"> </span>which<span class="_ _b"> </span>is<span class="_ _2"> </span>target</div><div class="t m0 x15 h7 y9a6 ff3 fs4 fc0 sc0 ls0 ws0">sp<span class="_ _4"></span>eciﬁc,<span class="_ _3"> </span><span class="ff8">i.e.</span>,<span class="_ _a"> </span>it<span class="_ _3"> </span>dep<span class="_ _4"></span>ends<span class="_ _3"> </span>on<span class="_ _3"> </span>the<span class="_ _a"> </span>target<span class="_ _3"> </span>ISA.<span class="_ _3"> </span>The<span class="_ _a"> </span>R<span class="_ _23"></span>V32I<span class="_ _3"> </span>GNU<span class="_ _a"> </span>assem<span class="_ _1"></span>bler<span class="_ _3"> </span>uses<span class="_ _3"> </span>the<span class="_ _a"> </span><span class="ff5">#</span></div><div class="t m0 x15 h7 y9a7 ff3 fs4 fc0 sc0 ls0 ws0">c<span class="_ _1"></span>haracter<span class="_ _a"> </span>as<span class="_ _a"> </span>the<span class="_ _a"> </span>line<span class="_ _a"> </span>comment<span class="_ _3"> </span>character.<span class="_ _19"> </span>All<span class="_ _a"> </span>characters<span class="_ _3"> </span>lo<span class="_ _4"></span>cated<span class="_ _a"> </span>b<span class="_ _4"></span>et<span class="_ _8"></span>ween<span class="_ _3"> </span>the<span class="_ _a"> </span>ﬁrst</div><div class="t m0 x15 h7 y9a8 ff3 fs4 fc0 sc0 ls0 ws0">o<span class="_ _4"></span>ccurrence<span class="_ _3"> </span>of<span class="_ _a"> </span>the<span class="_ _a"> </span>line<span class="_ _a"> </span>commen<span class="_ _1"></span>t<span class="_ _3"> </span>character<span class="_ _3"> </span>(<span class="ff8">e.g.</span>,<span class="_ _25"> </span><span class="ff5">#</span>)<span class="_ _a"> </span>on<span class="_ _a"> </span>the<span class="_ _a"> </span>line<span class="_ _a"> </span>and<span class="_ _a"> </span>the<span class="_ _a"> </span>end<span class="_ _a"> </span>of<span class="_ _a"> </span>the</div><div class="t m0 x15 h7 y9a9 ff3 fs4 fc0 sc0 ls0 ws0">same<span class="_ _b"> </span>line<span class="_ _3"> </span>are<span class="_ _b"> </span>considered<span class="_ _3"> </span>part<span class="_ _b"> </span>of<span class="_ _3"> </span>the<span class="_ _b"> </span>comment.<span class="_ _12"> </span>The<span class="_ _3"> </span>following<span class="_ _b"> </span>assem<span class="_ _8"></span>bly<span class="_ _3"> </span>co<span class="_ _4"></span>de<span class="_ _b"> </span>sho<span class="_ _1"></span>ws</div><div class="t m0 x15 h7 y9aa ff3 fs4 fc0 sc0 ls0 ws0">examples<span class="_ _2"> </span>of<span class="_ _2"> </span>line<span class="_ _2"> </span>commen<span class="_ _1"></span>ts.</div><div class="t m0 x111 h8 y9ab ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">x:<span class="_ _31"> </span>.word<span class="_ _31"> </span>10<span class="_ _86"> </span>#<span class="_ _9"> </span>This<span class="_ _31"> </span>is<span class="_ _31"> </span>a<span class="_ _31"> </span>comment</span></div><div class="t m0 x111 h8 y9ac ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">foo:<span class="_ _90"> </span>#<span class="_ _9"> </span>My<span class="_ _31"> </span>special<span class="_ _31"> </span>function</span></div><div class="t m0 x111 h8 y9ad ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _78"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>a0,<span class="_ _31"> </span>a1,<span class="_ _31"> </span>1<span class="_ _9"> </span>#<span class="_ _31"> </span>Adds<span class="_ _31"> </span>one<span class="_ _31"> </span>to<span class="_ _31"> </span>a1<span class="_ _9"> </span>and<span class="_ _31"> </span>store<span class="_ _31"> </span>on<span class="_ _31"> </span>a0<span class="_ _31"> </span>#</span></div><div class="t m0 x111 h8 y9ae ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _16"> </span><span class="ff5 fs4">#<span class="_ _31"> </span>This<span class="_ _31"> </span>is<span class="_ _9"> </span>#<span class="_ _31"> </span>another<span class="_ _31"> </span>#<span class="_ _31"> </span>comment<span class="_ _31"> </span>##<span class="_ _9"> </span>#</span></div><div class="t m0 xd h7 y9af ff3 fs4 fc0 sc0 ls0 ws0">As<span class="_ _b"> </span>comments<span class="_ _b"> </span>are<span class="_ _3"> </span>discarded<span class="_ _b"> </span>by<span class="_ _b"> </span>the<span class="_ _3"> </span>assembler<span class="_ _b"> </span>prepro<span class="_ _4"></span>cessor,<span class="_ _b"> </span>the<span class="_ _3"> </span>previous<span class="_ _b"> </span>co<span class="_ _4"></span>de<span class="_ _3"> </span>is</div><div class="t m0 x15 h7 y9b0 ff3 fs4 fc0 sc0 ls0 ws0">seman<span class="_ _1"></span>tically<span class="_ _2"> </span>equiv<span class="_ _8"></span>alen<span class="_ _1"></span>t<span class="_ _2"> </span>to<span class="_ _2"> </span>the<span class="_ _2"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _4"></span>de.</div><div class="t m0 x111 h8 y9b1 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">x:<span class="_ _31"> </span>.word<span class="_ _31"> </span>10</span></div><div class="t m0 x111 h8 y9b2 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">foo:</span></div><div class="t m0 x111 h8 y9b3 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _78"> </span><span class="ff5 fs4">addi<span class="_ _31"> </span>a0,<span class="_ _31"> </span>a1,<span class="_ _31"> </span>1</span></div><div class="t m0 xd h7 y9b4 ff3 fs4 fc0 sc0 ls0 ws0">A<span class="_ _30"> </span>multi-line<span class="_ _30"> </span>commen<span class="_ _8"></span>t<span class="_ _2f"> </span>is<span class="_ _30"> </span>a<span class="_ _30"> </span>comment<span class="_ _30"> </span>that<span class="_ _30"> </span>spans<span class="_ _30"> </span>multiple<span class="_ _30"> </span>lines.<span class="_ _b"> </span>On<span class="_ _2f"> </span>GNU<span class="_ _30"> </span>assem<span class="_ _1"></span>blers,</div><div class="t m0 x15 h7 y9b5 ff3 fs4 fc0 sc0 ls0 ws0">they<span class="_ _2"> </span>are<span class="_ _2"> </span>delimited<span class="_ _2"> </span>b<span class="_ _1"></span>y<span class="_ _2"> </span>the<span class="_ _2"> </span>pair<span class="_ _2"> </span><span class="ff5">/*<span class="_ _2"> </span></span>and<span class="_ _2"> </span><span class="ff5">*/</span>.</div><div class="t m0 x111 h8 y9b6 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">sum1:</span></div><div class="t m0 x111 h8 y9b7 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">/*<span class="_ _31"> </span>This</span></div><div class="t m0 x111 h8 y9b8 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _78"> </span><span class="ff5 fs4">is</span></div><div class="t m0 x111 h8 y9b9 ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _7a"> </span><span class="ff5 fs4">a</span></div><div class="t m0 x111 h8 y9ba ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _64"> </span><span class="ff5 fs4">multi-line</span></div><div class="t m0 x111 h8 y9bb ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _33"> </span><span class="ff5 fs4">comment.</span></div><div class="t m0 x111 h8 y9bc ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _16"> </span><span class="ff5 fs4">*/</span></div><div class="t m0 x111 h8 y9bd ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>a0,<span class="_ _31"> </span>a1,<span class="_ _31"> </span>1</span></div><div class="t m0 x111 h8 y9be ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _32"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 xd h7 y9bf ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>previous<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _5"> </span>is<span class="_ _2"> </span>semantically<span class="_ _5"> </span>equiv<span class="_ _8"></span>alent<span class="_ _5"> </span>to<span class="_ _2"> </span>the<span class="_ _2"> </span>following<span class="_ _5"> </span>co<span class="_ _4"></span>de:</div><div class="t m0 x111 h8 y9c0 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">sum1:<span class="_ _31"> </span>addi<span class="_ _31"> </span>a0,<span class="_ _9"> </span>a1,<span class="_ _31"> </span>1</span></div><div class="t m0 x111 h8 y9c1 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _64"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 x15 hd y9c2 ff7 fs3 fc0 sc0 ls0 ws0">4.2<span class="_ _32"> </span>Assem<span class="_ _8"></span>bly<span class="_ _31"> </span>instructions</div><div class="t m0 x15 h7 y9c3 ff3 fs4 fc0 sc0 ls0 ws0">Assem<span class="_ _1"></span>bly<span class="_ _2"> </span>instructions<span class="_ _b"> </span>are<span class="_ _2"> </span>instructions<span class="_ _2"> </span>that<span class="_ _b"> </span>are<span class="_ _2"> </span>conv<span class="_ _8"></span>erted<span class="_ _b"> </span>b<span class="_ _8"></span>y<span class="_ _b"> </span>the<span class="_ _2"> </span>assem<span class="_ _8"></span>bler<span class="_ _b"> </span>in<span class="_ _8"></span>to<span class="_ _b"> </span>ma-</div><div class="t m0 x15 h7 y9c4 ff3 fs4 fc0 sc0 ls0 ws0">c<span class="_ _1"></span>hine<span class="_ _30"> </span>instructions.<span class="_ _3"> </span>They<span class="_ _2f"> </span>are<span class="_ _30"> </span>usually encoded<span class="_ _30"> </span>as a<span class="_ _30"> </span>string<span class="_ _2f"> </span>that<span class="_ _30"> </span>contains<span class="_ _30"> </span>a<span class="_ _30"> </span>mnemonic and</div><div class="t m0 x15 h7 y9c5 ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _5"> </span>sequence of<span class="_ _5"> </span>parameters,<span class="_ _2"> </span>kno<span class="_ _1"></span>wn<span class="_ _5"> </span>as<span class="_ _5"> </span>op<span class="_ _4"></span>erands.<span class="_ _3"> </span>F<span class="_ _7"></span>or example,<span class="_ _2"> </span>the assembly instruction</div><div class="t m0 x15 h7 y9c6 ff3 fs4 fc0 sc0 ls0 ws0">“<span class="ff5">add<span class="_ _9"> </span>x10,<span class="_ _31"> </span>x11,<span class="_ _31"> </span>x12</span>”,<span class="_ _3"> </span>whic<span class="_ _8"></span>h<span class="_ _3"> </span>is<span class="_ _b"> </span>encoded<span class="_ _3"> </span>as<span class="_ _b"> </span>plain<span class="_ _b"> </span>text<span class="_ _b"> </span>using<span class="_ _b"> </span>17<span class="_ _b"> </span>bytes<span class="_ _b"> </span>(one<span class="_ _b"> </span>for<span class="_ _b"> </span>each</div><div class="t m0 x15 h7 y9c7 ff3 fs4 fc0 sc0 ls0 ws0">c<span class="_ _1"></span>haracter),<span class="_ _2"> </span>is<span class="_ _2"> </span>con<span class="_ _1"></span>v<span class="_ _1"></span>erted<span class="_ _2"> </span>b<span class="_ _1"></span>y<span class="_ _2"> </span>the<span class="_ _2"> </span>assem<span class="_ _8"></span>bler<span class="_ _2"> </span>into<span class="_ _5"> </span>its<span class="_ _2"> </span>corresp<span class="_ _4"></span>onding<span class="_ _2"> </span>mac<span class="_ _1"></span>hine<span class="_ _2"> </span>instruction,</div><div class="t m0 x15 h7 y9c8 ff3 fs4 fc0 sc0 ls0 ws0">whic<span class="_ _1"></span>h<span class="_ _2"> </span>is<span class="_ _2"> </span>enco<span class="_ _4"></span>ded<span class="_ _5"> </span>in<span class="_ _2"> </span>four<span class="_ _2"> </span>bytes<span class="_ _5"> </span>as<span class="_ _2"> </span>“<span class="ff5">0x00c58533</span>”.</div><div class="t m0 xd h7 y9c9 ff3 fs4 fc0 sc0 ls0 ws0">A<span class="_ _3"> </span><span class="ff6">pseudo-instruction<span class="_ _a"> </span></span>is<span class="_ _a"> </span>an<span class="_ _a"> </span>assembly<span class="_ _3"> </span>instruction<span class="_ _a"> </span>that<span class="_ _3"> </span>do<span class="_ _4"></span>es<span class="_ _a"> </span>not<span class="_ _3"> </span>hav<span class="_ _8"></span>e<span class="_ _a"> </span>a<span class="_ _a"> </span>corre-</div><div class="t m0 x15 h7 y9ca ff3 fs4 fc0 sc0 ls0 ws0">sp<span class="_ _4"></span>onding mac<span class="_ _8"></span>hine<span class="_ _5"> </span>instruction<span class="_ _5"> </span>on the<span class="_ _5"> </span>ISA,<span class="_ _37"> </span>but<span class="_ _5"> </span>can<span class="_ _5"> </span>b<span class="_ _4"></span>e translated automatically<span class="_ _5"> </span>by the</div><div class="t m0 x15 h7 y9cb ff3 fs4 fc0 sc0 ls0 ws0">assem<span class="_ _1"></span>bler<span class="_ _2f"> </span>in<span class="_ _8"></span>to one<span class="_ _2f"> </span>or<span class="_ _30"> </span>more alternativ<span class="_ _8"></span>e mac<span class="_ _8"></span>hine instructions<span class="_ _30"> </span>to ac<span class="_ _8"></span>hieve<span class="_ _30"> </span>the same<span class="_ _30"> </span>eﬀect.</div><div class="t m0 x15 h7 y9cc ff3 fs4 fc0 sc0 ls0 ws0">As an<span class="_ _5"> </span>example,<span class="_ _5"> </span>the<span class="_ _5"> </span>no<span class="_ _5"> </span>op<span class="_ _4"></span>eration instruction,<span class="_ _5"> </span>or<span class="_ _5"> </span>“<span class="ff5">nop</span>”,<span class="_ _5"> </span>is<span class="_ _5"> </span>a<span class="_ _5"> </span>R<span class="_ _23"></span>V32I<span class="_ _5"> </span>pseudo-instruction</div><div class="t m0 x15 h7 y9cd ff3 fs4 fc0 sc0 ls0 ws0">that is<span class="_ _5"> </span>conv<span class="_ _8"></span>erted<span class="_ _5"> </span>by the<span class="_ _5"> </span>assembler into the<span class="_ _5"> </span>“<span class="ff5">addi<span class="_ _31"> </span>x0,<span class="_ _31"> </span>x0,<span class="_ _31"> </span>0</span>” instruction</div><div class="t m0 xbc h11 y9ce ffc fs7 fc0 sc0 ls0 ws0">2</div><div class="t m0 x76 h7 y9cd ff3 fs4 fc0 sc0 ls0 ws0">.<span class="_ _3"> </span>Another</div><div class="t m0 x3d h1e y208 ff12 fse fc0 sc0 ls0 ws0">2</div><div class="t m0 xd h1f y209 ff13 fsf fc0 sc0 ls0 ws0">This<span class="_ _37"> </span>instruction<span class="_ _37"> </span>adds<span class="_ _37"> </span>zero<span class="_ _5"> </span>to<span class="_ _37"> </span>zero<span class="_ _37"> </span>and<span class="_ _5"> </span>discards<span class="_ _37"> </span>the<span class="_ _37"> </span>results<span class="_ _37"> </span>by<span class="_ _37"> </span>storing<span class="_ _37"> </span>it<span class="_ _37"> </span>on<span class="_ _5"> </span>register<span class="_ _37"> </span>x0,<span class="_ _37"> </span>which<span class="_ _37"> </span>is</div><div class="t m0 x15 h1f y48 ff13 fsf fc0 sc0 ls0 ws0">hard-wired<span class="_ _37"> </span>to<span class="_ _37"> </span>zero.</div><div class="t m0 x1f h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _a"> </span>Marc<span class="_ _8"></span>h<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _4e"> </span>39</span></div><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,506.875,null]'><div class="d m1" style="border-style:none;position:absolute;left:262.944000px;bottom:712.396000px;width:18.597000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,767.979,null]'><div class="d m1" style="border-style:none;position:absolute;left:116.550000px;bottom:142.529000px;width:94.834000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,506.875,null]'><div class="d m1" style="border-style:none;position:absolute;left:250.589000px;bottom:130.574000px;width:18.597000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,767.979,null]'><div class="d m1" style="border-style:none;position:absolute;left:377.823000px;bottom:106.387000px;width:82.386000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf34" data-dest-detail='[52,"XYZ",105.952,89.795,null]'><div class="d m1" style="border-style:none;position:absolute;left:410.927000px;bottom:94.708000px;width:6.462000px;height:12.040000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:141.766000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

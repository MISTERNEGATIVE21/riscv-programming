<div id="pf79" class="pf w0 h0" data-page-no="79"><div class="pc pc79 w0 h0"><img class="bi x127 y1406 w21 hb4" alt="" src="bg79.png"/><div class="t m0 x18 hc y1407 ff6 fs8 fc0 sc0 ls0 ws0">Chapter<span class="_ _22"> </span>9</div><div class="t m0 x18 h9 y1408 ff6 fs5 fc0 sc0 ls0 ws0">Accessing<span class="_ _18"> </span>p<span class="_ _35"></span>eripherals</div><div class="t m0 x18 h7 y1409 ff3 fs4 fc0 sc0 ls0 ws0">As discussed<span class="_ _5"> </span>in<span class="_ _5"> </span>the<span class="_ _5"> </span>previous chapters, the<span class="_ _5"> </span>CPU<span class="_ _5"> </span>executes<span class="_ _5"> </span>programs<span class="_ _5"> </span>that are<span class="_ _5"> </span>stored<span class="_ _5"> </span>on</div><div class="t m0 x18 h7 y140a ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>main<span class="_ _2"> </span>memory.<span class="_ _11"> </span>In<span class="_ _2"> </span>this<span class="_ _2"> </span>pro<span class="_ _4"></span>cess,<span class="_ _2"> </span>the<span class="_ _d"> </span>CPU<span class="_ _2"> </span>fetches<span class="_ _2"> </span>the<span class="_ _2"> </span>program’s<span class="_ _2"> </span>instructions<span class="_ _d"> </span>from</div><div class="t m0 x18 h7 y140b ff3 fs4 fc0 sc0 ls0 ws0">the main memory and executes them,<span class="_ _5"> </span>which ma<span class="_ _8"></span>y cause the CPU to<span class="_ _5"> </span>load or store data</div><div class="t m0 x18 h7 y140c ff3 fs4 fc0 sc0 ls0 ws0">on<span class="_ _a"> </span>the<span class="_ _3"> </span>main<span class="_ _3"> </span>memory.<span class="_ _10"> </span>The<span class="_ _3"> </span>previous<span class="_ _a"> </span>chapters<span class="_ _a"> </span>also<span class="_ _3"> </span>explain<span class="_ _a"> </span>that<span class="_ _3"> </span>user-level<span class="_ _a"> </span>programs</div><div class="t m0 x18 h7 y140d ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _4"></span>erform<span class="_ _5"> </span>input<span class="_ _2"> </span>and<span class="_ _2"> </span>output<span class="_ _2"> </span>op<span class="_ _4"></span>erations<span class="_ _5"> </span>by<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span>op<span class="_ _4"></span>erating<span class="_ _2"> </span>system.</div><div class="t m0 xd h7 y140e ff3 fs4 fc0 sc0 ls0 ws0">This chapter discusses<span class="_ _5"> </span>how programs may directly<span class="_ _5"> </span>interact with input<span class="_ _5"> </span>and<span class="_ _5"> </span>output</div><div class="t m0 x18 h7 y140f ff3 fs4 fc0 sc0 ls0 ws0">hardw<span class="_ _1"></span>are<span class="_ _d"> </span>devices<span class="_ _d"> </span>to<span class="_ _d"> </span>p<span class="_ _4"></span>erform<span class="_ _d"> </span>input<span class="_ _d"> </span>and<span class="_ _d"> </span>output<span class="_ _d"> </span>op<span class="_ _4"></span>erations.<span class="_ _e"> </span>This<span class="_ _d"> </span>task<span class="_ _d"> </span>is<span class="_ _d"> </span>useful<span class="_ _a"> </span>when</div><div class="t m0 x18 h7 y1410 ff3 fs4 fc0 sc0 ls0 ws0">dev<span class="_ _1"></span>eloping<span class="_ _2"> </span>soft<span class="_ _1"></span>w<span class="_ _1"></span>are<span class="_ _2"> </span>for<span class="_ _2"> </span>a<span class="_ _2"> </span>system<span class="_ _2"> </span>that<span class="_ _2"> </span>do<span class="_ _4"></span>es<span class="_ _2"> </span>not<span class="_ _2"> </span>con<span class="_ _8"></span>tain<span class="_ _d"> </span>an<span class="_ _2"> </span>op<span class="_ _4"></span>erating<span class="_ _5"> </span>system<span class="_ _2"> </span>or<span class="_ _2"> </span>when</div><div class="t m0 x18 h7 y1411 ff3 fs4 fc0 sc0 ls0 ws0">implemen<span class="_ _1"></span>ting<span class="_ _2"> </span>op<span class="_ _4"></span>erating<span class="_ _5"> </span>systems’<span class="_ _2"> </span>comp<span class="_ _4"></span>onen<span class="_ _8"></span>ts,<span class="_ _2"> </span>such<span class="_ _5"> </span>as<span class="_ _2"> </span>device<span class="_ _2"> </span>drivers.</div><div class="t m0 xd h7 y1412 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _d"> </span>remainder<span class="_ _d"> </span>of<span class="_ _a"> </span>the<span class="_ _d"> </span>chapter<span class="_ _2"> </span>is<span class="_ _a"> </span>organized<span class="_ _d"> </span>as<span class="_ _a"> </span>follo<span class="_ _1"></span>ws:<span class="_ _11"> </span>Section<span class="_ _a"> </span>9.1<span class="_ _d"> </span>introduces<span class="_ _d"> </span>the</div><div class="t m0 x18 h7 y1413 ff3 fs4 fc0 sc0 ls0 ws0">concept<span class="_ _5"> </span>of<span class="_ _5"> </span>p<span class="_ _4"></span>eripherals<span class="_ _5"> </span>and<span class="_ _5"> </span>discusses<span class="_ _2"> </span>ho<span class="_ _1"></span>w<span class="_ _5"> </span>they<span class="_ _5"> </span>are<span class="_ _2"> </span>connected<span class="_ _5"> </span>to<span class="_ _5"> </span>the<span class="_ _2"> </span>CPU.<span class="_ _5"> </span>Section<span class="_ _5"> </span>9.2</div><div class="t m0 x18 h7 y1414 ff3 fs4 fc0 sc0 ls0 ws0">presen<span class="_ _1"></span>ts<span class="_ _11"> </span>the<span class="_ _11"> </span>tw<span class="_ _8"></span>o<span class="_ _11"> </span>main<span class="_ _11"> </span>metho<span class="_ _4"></span>ds<span class="_ _f"> </span>for<span class="_ _e"> </span>programs<span class="_ _11"> </span>to<span class="_ _11"> </span>interact<span class="_ _f"> </span>with<span class="_ _11"> </span>p<span class="_ _4"></span>eripherals:<span class="_ _22"> </span>p<span class="_ _4"></span>ort-</div><div class="t m0 x18 h7 y1415 ff3 fs4 fc0 sc0 ls0 ws0">mapp<span class="_ _4"></span>ed<span class="_ _c"> </span>I/O<span class="_ _f"> </span>and<span class="_ _f"> </span>memory-mapp<span class="_ _4"></span>ed<span class="_ _c"> </span>I/O.<span class="_ _f"> </span>Section<span class="_ _11"> </span>9.3<span class="_ _c"> </span>discuss<span class="_ _4"></span>es<span class="_ _c"> </span>how<span class="_ _c"> </span>I/O<span class="_ _f"> </span>op<span class="_ _4"></span>erations</div><div class="t m0 x18 h7 y1416 ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _3"> </span>p<span class="_ _4"></span>erformed<span class="_ _a"> </span>on<span class="_ _3"> </span>RISC-V-based<span class="_ _3"> </span>computing<span class="_ _3"> </span>systems.<span class="_ _b"> </span>Finally<span class="_ _7"></span>,<span class="_ _c"> </span>Section<span class="_ _3"> </span>9.3<span class="_ _3"> </span>discusses</div><div class="t m0 x18 h7 y1417 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>busy<span class="_ _2"> </span>w<span class="_ _1"></span>aiting<span class="_ _2"> </span>concept.</div><div class="t m0 x18 hd y1418 ff6 fs3 fc0 sc0 ls0 ws0">9.1<span class="_ _36"> </span>P<span class="_ _8"></span>eripherals</div><div class="t m0 x18 h7 y1419 ff7 fs4 fc0 sc0 ls0 ws0">P<span class="_ _8"></span>eripherals<span class="_ _f"> </span>are<span class="_ _c"> </span>input/output,<span class="_ _11"> </span>or<span class="_ _c"> </span>I/O,<span class="_ _c"> </span>devices<span class="_ _f"> </span>that<span class="_ _c"> </span>are<span class="_ _f"> </span>connected<span class="_ _c"> </span>to<span class="_ _f"> </span>the</div><div class="t m0 x18 h7 y141a ff7 fs4 fc0 sc0 ls0 ws0">computer<span class="ff3">.<span class="_ _3"> </span>There are sev<span class="_ _8"></span>eral kinds of<span class="_ _13"> </span>peripherals.<span class="_ _c"> </span>Mouse, k<span class="_ _1"></span>eyboard,<span class="_ _5"> </span>image scanners,</span></div><div class="t m0 x18 h7 y141b ff3 fs4 fc0 sc0 ls0 ws0">barco<span class="_ _4"></span>de<span class="_ _a"> </span>readers,<span class="_ _3"> </span>game<span class="_ _3"> </span>con<span class="_ _1"></span>trollers,<span class="_ _3"> </span>microphones,<span class="_ _3"> </span>webcams,<span class="_ _3"> </span>and<span class="_ _3"> </span>read-only<span class="_ _3"> </span>memories</div><div class="t m0 x18 h7 y141c ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _2"> </span>examples<span class="_ _2"> </span>of<span class="_ _d"> </span>input<span class="_ _2"> </span>devices.<span class="_ _11"> </span>Monitors,<span class="_ _2"> </span>pro<span class="_ _4"></span>jectors,<span class="_ _d"> </span>printers,<span class="_ _5"> </span>headphones,<span class="_ _d"> </span>and<span class="_ _2"> </span>com-</div><div class="t m0 x18 h7 y141d ff3 fs4 fc0 sc0 ls0 ws0">puter<span class="_ _d"> </span>sp<span class="_ _4"></span>eak<span class="_ _8"></span>ers<span class="_ _d"> </span>are<span class="_ _a"> </span>examples<span class="_ _d"> </span>of<span class="_ _d"> </span>output<span class="_ _a"> </span>devices.<span class="_ _1f"> </span>There<span class="_ _d"> </span>are<span class="_ _d"> </span>also<span class="_ _d"> </span>devices<span class="_ _a"> </span>that<span class="_ _d"> </span>p<span class="_ _4"></span>erform</div><div class="t m0 x18 h7 y141e ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>oth<span class="_ _12"> </span>input<span class="_ _13"> </span>and<span class="_ _12"> </span>output operations, suc<span class="_ _1"></span>h<span class="_ _12"> </span>as data<span class="_ _12"> </span>storage devices<span class="_ _12"> </span>(including<span class="_ _13"> </span>a<span class="_ _12"> </span>disk driv<span class="_ _8"></span>e,</div><div class="t m0 x18 h7 y141f ff3 fs4 fc0 sc0 ls0 ws0">USB<span class="_ _2"> </span>ﬂash<span class="_ _2"> </span>driv<span class="_ _1"></span>e,<span class="_ _2"> </span>memory<span class="_ _2"> </span>card,<span class="_ _2"> </span>and<span class="_ _2"> </span>tap<span class="_ _4"></span>e<span class="_ _5"> </span>drive),<span class="_ _5"> </span>netw<span class="_ _8"></span>ork<span class="_ _2"> </span>cards,<span class="_ _2"> </span><span class="ff8">etc.</span></div><div class="t m0 xd h7 y1420 ff3 fs4 fc0 sc0 ls0 ws0">Input<span class="_ _2"> </span>and<span class="_ _2"> </span>output<span class="_ _2"> </span>devices<span class="_ _2"> </span>in<span class="_ _1"></span>terface<span class="_ _2"> </span>with<span class="_ _2"> </span>the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>through<span class="_ _2"> </span>a<span class="_ _2"> </span>bus,<span class="_ _2"> </span>which<span class="_ _5"> </span>is<span class="_ _2"> </span>a<span class="_ _2"> </span>com-</div><div class="t m0 x18 h7 y1421 ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>unication<span class="_ _f"> </span>system<span class="_ _11"> </span>that<span class="_ _11"> </span>transfers<span class="_ _11"> </span>information<span class="_ _f"> </span>b<span class="_ _4"></span>et<span class="_ _8"></span>ween<span class="_ _f"> </span>the<span class="_ _11"> </span>computer<span class="_ _11"> </span>comp<span class="_ _4"></span>onen<span class="_ _8"></span>ts.</div><div class="t m0 x18 h7 y1422 ff3 fs4 fc0 sc0 ls0 ws0">This<span class="_ _a"> </span>system<span class="_ _3"> </span>is<span class="_ _3"> </span>usually<span class="_ _3"> </span>comp<span class="_ _4"></span>osed<span class="_ _a"> </span>of<span class="_ _3"> </span>wires<span class="_ _3"> </span>that<span class="_ _a"> </span>are<span class="_ _3"> </span>resp<span class="_ _4"></span>onsible<span class="_ _a"> </span>for<span class="_ _3"> </span>transmitting<span class="_ _3"> </span>the</div><div class="t m0 x18 h7 y1423 ff3 fs4 fc0 sc0 ls0 ws0">information<span class="_ _2"> </span>and<span class="_ _d"> </span>asso<span class="_ _4"></span>ciated<span class="_ _2"> </span>circuitries,<span class="_ _2"> </span>which<span class="_ _2"> </span>orchestrate<span class="_ _5"> </span>communication.<span class="_ _f"> </span>Figure<span class="_ _2"> </span>9.1</div><div class="t m0 x18 h7 y1424 ff3 fs4 fc0 sc0 ls0 ws0">illustrates<span class="_ _3"> </span>a<span class="_ _c"> </span>computer<span class="_ _3"> </span>system<span class="_ _c"> </span>in<span class="_ _3"> </span>which<span class="_ _3"> </span>a<span class="_ _3"> </span>system<span class="_ _3"> </span>bus<span class="_ _c"> </span>connects<span class="_ _3"> </span>the<span class="_ _c"> </span>CPU,<span class="_ _3"> </span>the<span class="_ _c"> </span>main</div><div class="t m0 x18 h7 y1425 ff3 fs4 fc0 sc0 ls0 ws0">memory,<span class="_ _2"> </span>a<span class="_ _2"> </span>p<span class="_ _4"></span>ersisten<span class="_ _8"></span>t<span class="_ _2"> </span>storage<span class="_ _2"> </span>device<span class="_ _2"> </span>(HDD),<span class="_ _2"> </span>an<span class="_ _2"> </span>input<span class="_ _2"> </span>device,<span class="_ _2"> </span>and<span class="_ _2"> </span>an<span class="_ _2"> </span>output<span class="_ _2"> </span>device.</div><div class="c x22 y1426 w3 hf"><div class="t m0 x23 h10 y15f ffb fs9 fc0 sc0 ls0 ws0">bus</div><div class="t m0 x24 h10 y160 ffb fs9 fc0 sc0 ls0 ws0">CPU</div><div class="t m0 x11f h10 y161 ffb fs9 fc0 sc0 ls0 ws0">Main </div><div class="t m0 x25 h10 y162 ffb fs9 fc0 sc0 ls0 ws0">Memory</div><div class="t m0 x26 h10 y161 ffb fs9 fc0 sc0 ls0 ws0">Output </div><div class="t m0 x26 h10 y162 ffb fs9 fc0 sc0 ls0 ws0">device</div><div class="t m0 x27 h10 y163 ffb fs9 fc0 sc0 ls0 ws0">Input </div><div class="t m0 x26 h10 y164 ffb fs9 fc0 sc0 ls0 ws0">device</div><div class="t m0 x28 h10 y165 ffb fs9 fc0 sc0 ls0 ws0">HDD</div></div><div class="t m0 x29 h7 y1427 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>9.1:<span class="_ _3"> </span>Computer<span class="_ _2"> </span>system<span class="_ _2"> </span>comp<span class="_ _4"></span>onents<span class="_ _5"> </span>connected<span class="_ _2"> </span>through<span class="_ _2"> </span>a<span class="_ _2"> </span>system<span class="_ _2"> </span>bus.</div><div class="t m0 xd h7 y61 ff3 fs4 fc0 sc0 ls0 ws0">P<span class="_ _1"></span>eripherals<span class="_ _d"> </span>usually<span class="_ _d"> </span>contain<span class="_ _2"> </span>registers<span class="_ _d"> </span>or<span class="_ _d"> </span>an<span class="_ _d"> </span>internal<span class="_ _2"> </span>memory<span class="_ _d"> </span>that<span class="_ _d"> </span>are<span class="_ _d"> </span>accessed<span class="_ _d"> </span>by</div><div class="t m0 xa3 h7 yc ff3 fs4 fc0 sc0 ls0 ws0">107</div><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:273.394000px;bottom:581.612000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:106.988000px;bottom:569.657000px;width:62.192000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:261.776000px;bottom:569.657000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:106.350000px;bottom:557.702000px;width:61.553000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:346.274000px;bottom:557.702000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:122.239000px;bottom:545.747000px;width:62.839000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",90.709,399.852,null]'><div class="d m1" style="border-style:none;position:absolute;left:379.314000px;bottom:473.898000px;width:14.722000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7a" data-dest-detail='[122,"XYZ",136.063,159.451,null]'><div class="d m1" style="border-style:none;position:absolute;left:445.486000px;bottom:461.943000px;width:14.723000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7d" data-dest-detail='[125,"XYZ",90.709,771.024,null]'><div class="d m1" style="border-style:none;position:absolute;left:309.038000px;bottom:437.479000px;width:14.723000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7d" data-dest-detail='[125,"XYZ",90.709,771.024,null]'><div class="d m1" style="border-style:none;position:absolute;left:402.901000px;bottom:426.077000px;width:14.722000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,301.7,null]'><div class="d m1" style="border-style:none;position:absolute;left:89.712000px;bottom:358.380000px;width:58.629000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,563.789,null]'><div class="d m1" style="border-style:none;position:absolute;left:369.248000px;bottom:275.189000px;width:16.992000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf79" data-dest-detail='[121,"XYZ",90.709,209.76,null]'><div class="d m1" style="border-style:none;position:absolute;left:445.486000px;bottom:239.323000px;width:14.723000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,563.789,null]'><div class="d m1" style="border-style:none;position:absolute;left:310.966000px;bottom:227.368000px;width:16.992000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:389.924000px;bottom:227.368000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:436.631000px;bottom:227.368000px;width:23.578000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:89.712000px;bottom:214.859000px;width:37.167000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",136.063,256.917,null]'><div class="d m1" style="border-style:none;position:absolute;left:139.277000px;bottom:214.859000px;width:78.594000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

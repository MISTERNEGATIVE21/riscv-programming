<div id="pf5d" class="pf w0 h0" data-page-no="5d"><div class="pc pc5d w0 h0"><img class="bi x17 y2c5 w2 h2b" alt="" src="bg5d.png"/><div class="t m0 x17 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">CHAPTER<span class="_ _2"> </span>7.<span class="_ _19"> </span>CONTROLLING<span class="_ _5"> </span>THE<span class="_ _2"> </span>EXECUTION<span class="_ _2"> </span>FLOW</div><div class="t m0 x17 h7 y1e ff3 fs4 fc0 sc0 ls0 ws0">lab<span class="_ _4"></span>el.<span class="_ _9"> </span>Otherwise,<span class="_ _b"> </span>it<span class="_ _b"> </span>executes<span class="_ _2"> </span>the<span class="_ _b"> </span>next<span class="_ _2"> </span>instruction<span class="_ _b"> </span>(line<span class="_ _2"> </span>5),<span class="_ _b"> </span>which<span class="_ _2"> </span>corresp<span class="_ _4"></span>onds<span class="_ _2"> </span>to<span class="_ _b"> </span>the</div><div class="t m0 x17 h7 yd4 ff3 fs4 fc0 sc0 ls0 ws0">ﬁrst<span class="_ _2"> </span>instruction<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>“then<span class="_ _2"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”.</div><div class="t m0 xd5 h8 yfda ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _78"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>t1,<span class="_ _31"> </span>10</span></div><div class="t m0 xd5 h8 yfdb ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _78"> </span><span class="ff5 fs4">bge<span class="_ _82"> </span>a1,<span class="_ _31"> </span>t1,<span class="_ _31"> </span>then<span class="_ _9"> </span>#<span class="_ _31"> </span>jumps<span class="_ _31"> </span>to<span class="_ _31"> </span>then<span class="_ _31"> </span>if<span class="_ _9"> </span>x<span class="_ _31"> </span>&gt;=<span class="_ _31"> </span>10</span></div><div class="t m0 xd5 h8 yfdc ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _78"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>t1,<span class="_ _31"> </span>20</span></div><div class="t m0 xd5 h8 yfdd ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _78"> </span><span class="ff5 fs4">bge<span class="_ _82"> </span>a2,<span class="_ _31"> </span>t1,<span class="_ _31"> </span>skip<span class="_ _9"> </span>#<span class="_ _31"> </span>jumps<span class="_ _31"> </span>to<span class="_ _31"> </span>skip<span class="_ _31"> </span>if<span class="_ _9"> </span>y<span class="_ _31"> </span>&gt;=<span class="_ _31"> </span>20</span></div><div class="t m0 xd5 h8 yfde ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _16"> </span><span class="ff5 fs4">then:</span></div><div class="t m0 xd5 h8 yfdf ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _78"> </span><span class="ff5 fs4">mv<span class="_ _3b"> </span>a1,<span class="_ _31"> </span>a2<span class="_ _c4"> </span>#<span class="_ _31"> </span>x<span class="_ _31"> </span>=<span class="_ _9"> </span>y</span></div><div class="t m0 xd5 h8 yfe0 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _16"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x17 ha yfe1 ff7 fs6 fc0 sc0 ls0 ws0">7.1.5<span class="_ _e"> </span>Nested<span class="_ _a"> </span>if<span class="_ _a"> </span>statemen<span class="_ _8"></span>ts</div><div class="t m0 x17 h7 yfe2 ff3 fs4 fc0 sc0 ls0 ws0">Nested<span class="_ _3"> </span><span class="ff5">if-then<span class="_ _b"> </span></span>and<span class="_ _3"> </span><span class="ff5">if-then-else<span class="_ _3"> </span></span>are<span class="_ _b"> </span>if<span class="_ _3"> </span>statements<span class="_ _b"> </span>in<span class="_ _3"> </span>whic<span class="_ _8"></span>h<span class="_ _3"> </span>the<span class="_ _3"> </span>“then<span class="_ _b"> </span>blo<span class="_ _4"></span>ck”<span class="_ _b"> </span>or</div><div class="t m0 x17 h7 yfe3 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>“else<span class="_ _b"> </span>blo<span class="_ _4"></span>c<span class="_ _1"></span>k”<span class="_ _b"> </span>contain<span class="_ _b"> </span>other<span class="_ _b"> </span>if<span class="_ _b"> </span>statements.<span class="_ _12"> </span>The<span class="_ _b"> </span>follo<span class="_ _8"></span>wing<span class="_ _3"> </span>code<span class="_ _3"> </span>sho<span class="_ _8"></span>ws<span class="_ _3"> </span>an<span class="_ _b"> </span>example</div><div class="t m0 x17 h7 yfe4 ff3 fs4 fc0 sc0 ls0 ws0">of<span class="_ _b"> </span>a<span class="_ _3"> </span>nested<span class="_ _b"> </span><span class="ff5">if-then<span class="_ _b"> </span></span>statement.<span class="_ _12"> </span>Notice<span class="_ _b"> </span>that<span class="_ _3"> </span>there<span class="_ _b"> </span>are<span class="_ _3"> </span>t<span class="_ _8"></span>wo<span class="_ _b"> </span><span class="ff5">if-then<span class="_ _b"> </span></span>statements:<span class="_ _16"> </span>an</div><div class="t m0 x17 h7 yfe5 ff3 fs4 fc0 sc0 ls0 ws0">outer<span class="_ _3"> </span>one<span class="_ _a"> </span>(lines<span class="_ _a"> </span>1-8)<span class="_ _a"> </span>and<span class="_ _a"> </span>an<span class="_ _3"> </span>inner<span class="_ _a"> </span>one<span class="_ _a"> </span>(lines<span class="_ _a"> </span>4-7).<span class="_ _19"> </span>The<span class="_ _3"> </span>“then<span class="_ _a"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”<span class="_ _a"> </span>of<span class="_ _a"> </span>the<span class="_ _a"> </span>outer</div><div class="t m0 x17 h7 yfe6 ff5 fs4 fc0 sc0 ls0 ws0">if-then<span class="_ _b"> </span><span class="ff3">statemen<span class="_ _8"></span>t<span class="_ _b"> </span>contains<span class="_ _b"> </span>t<span class="_ _8"></span>wo<span class="_ _b"> </span>statemen<span class="_ _8"></span>ts:<span class="_ _31"> </span>a<span class="_ _b"> </span>v<span class="_ _8"></span>ariable<span class="_ _b"> </span>assignmen<span class="_ _8"></span>t<span class="_ _b"> </span>(line<span class="_ _b"> </span>3)<span class="_ _b"> </span>and<span class="_ _b"> </span>the</span></div><div class="t m0 x17 h7 yfe7 ff3 fs4 fc0 sc0 ls0 ws0">inner<span class="_ _2"> </span><span class="ff5">if-then<span class="_ _2"> </span></span>statemen<span class="_ _1"></span>t<span class="_ _2"> </span>(lines<span class="_ _2"> </span>4-7).</div><div class="t m0 xd5 h8 yfe8 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">if<span class="_ _31"> </span>(x<span class="_ _31"> </span>==<span class="_ _9"> </span>10)</span></div><div class="t m0 xd5 h8 yfe9 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _16"> </span><span class="ff5 fs4">{</span></div><div class="t m0 xd5 h8 yfea ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _32"> </span><span class="ff5 fs4">x<span class="_ _9"> </span>=<span class="_ _31"> </span>5;</span></div><div class="t m0 xd5 h8 yfeb ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _32"> </span><span class="ff5 fs4">if<span class="_ _9"> </span>(y<span class="_ _31"> </span>==<span class="_ _31"> </span>20)</span></div><div class="t m0 xd5 h8 yfec ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _32"> </span><span class="ff5 fs4">{</span></div><div class="t m0 xd5 h8 yfed ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _7a"> </span><span class="ff5 fs4">x<span class="_ _31"> </span>=<span class="_ _31"> </span>0;</span></div><div class="t m0 xd5 h8 yfee ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _32"> </span><span class="ff5 fs4">}</span></div><div class="t m0 xd5 h8 yfef ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _16"> </span><span class="ff5 fs4">}</span></div><div class="t m0 x13 h7 yff0 ff3 fs4 fc0 sc0 ls0 ws0">T<span class="_ _7"></span>ranslating the<span class="_ _30"> </span>previous co<span class="_ _4"></span>de<span class="_ _30"> </span>to assem<span class="_ _8"></span>bly co<span class="_ _4"></span>de<span class="_ _30"> </span>can b<span class="_ _4"></span>e<span class="_ _30"> </span>easily done b<span class="_ _8"></span>y starting<span class="_ _2f"> </span>with</div><div class="t m0 x17 h7 yff1 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>outer<span class="_ _3"> </span><span class="ff5">if-then<span class="_ _b"> </span></span>statemen<span class="_ _1"></span>t.<span class="_ _26"> </span>Assuming<span class="_ _b"> </span><span class="ff5">x<span class="_ _b"> </span></span>and<span class="_ _b"> </span><span class="ff5">y<span class="_ _3"> </span></span>are<span class="_ _b"> </span>v<span class="_ _8"></span>ariables<span class="_ _b"> </span>mapp<span class="_ _4"></span>ed<span class="_ _b"> </span>to<span class="_ _3"> </span>registers</div><div class="t m0 x17 h7 yff2 ff5 fs4 fc0 sc0 ls0 ws0">a1<span class="_ _2"> </span><span class="ff3">and<span class="_ _2"> </span></span>a2<span class="ff3">,<span class="_ _b"> </span>respectively<span class="_ _23"></span>,<span class="_ _b"> </span>the<span class="_ _2"> </span>follo<span class="_ _8"></span>wing<span class="_ _b"> </span>code<span class="_ _2"> </span>shows<span class="_ _2"> </span>the<span class="_ _2"> </span>skeleton<span class="_ _5"> </span>for<span class="_ _b"> </span>the<span class="_ _5"> </span>outer<span class="_ _b"> </span><span class="ff5">if-then</span></span></div><div class="t m0 x17 h7 yff3 ff3 fs4 fc0 sc0 ls0 ws0">statemen<span class="_ _1"></span>t.</div><div class="t m0 xd5 h8 yff4 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _78"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>t1,<span class="_ _31"> </span>10</span></div><div class="t m0 xd5 h8 yff5 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _78"> </span><span class="ff5 fs4">bne<span class="_ _82"> </span>a1,<span class="_ _31"> </span>t1,<span class="_ _31"> </span>skip<span class="_ _9"> </span>#<span class="_ _31"> </span>jumps<span class="_ _31"> </span>to<span class="_ _31"> </span>skip<span class="_ _31"> </span>if<span class="_ _9"> </span>x<span class="_ _31"> </span>!=<span class="_ _31"> </span>10</span></div><div class="t m0 xd5 h8 yff6 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _c5"> </span><span class="ff5 fs4">#<span class="_ _9"> </span>&lt;=<span class="_ _31"> </span>Insert<span class="_ _31"> </span>the<span class="_ _31"> </span>code<span class="_ _31"> </span>for<span class="_ _31"> </span>the<span class="_ _9"> </span>then<span class="_ _31"> </span>block<span class="_ _31"> </span>here</span></div><div class="t m0 xd5 h8 yff7 ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _16"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x13 h7 yff8 ff3 fs4 fc0 sc0 ls0 ws0">Once<span class="_ _2"> </span>the<span class="_ _5"> </span>skeleton<span class="_ _5"> </span>co<span class="_ _4"></span>de<span class="_ _2"> </span>is<span class="_ _2"> </span>generated,<span class="_ _2"> </span>the<span class="_ _5"> </span>next<span class="_ _2"> </span>step<span class="_ _2"> </span>is<span class="_ _2"> </span>to<span class="_ _2"> </span>generate<span class="_ _2"> </span>the<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _5"> </span>for<span class="_ _2"> </span>the</div><div class="t m0 x17 h7 yff9 ff3 fs4 fc0 sc0 ls0 ws0">“then<span class="_ _2"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”.<span class="_ _a"> </span>The<span class="_ _2"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _5"> </span>shows<span class="_ _5"> </span>the<span class="_ _2"> </span>ﬁnal<span class="_ _2"> </span>co<span class="_ _4"></span>de.</div><div class="t m0 xd5 h8 yffa ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _78"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>t1,<span class="_ _31"> </span>10</span></div><div class="t m0 xd5 h8 yffb ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _78"> </span><span class="ff5 fs4">bne<span class="_ _82"> </span>a1,<span class="_ _31"> </span>t1,<span class="_ _31"> </span>skip<span class="_ _60"> </span>#<span class="_ _31"> </span>jumps<span class="_ _31"> </span>to<span class="_ _31"> </span>skip<span class="_ _31"> </span>if<span class="_ _9"> </span>x<span class="_ _31"> </span>!=<span class="_ _31"> </span>10</span></div><div class="t m0 xd5 h8 yffc ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _78"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>a1,<span class="_ _31"> </span>5<span class="_ _4c"> </span>#<span class="_ _31"> </span>x<span class="_ _31"> </span>=<span class="_ _31"> </span>5</span></div><div class="t m0 xd5 h8 yffd ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _78"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>t1,<span class="_ _31"> </span>20</span></div><div class="t m0 xd5 h8 yffe ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _78"> </span><span class="ff5 fs4">bne<span class="_ _82"> </span>a2,<span class="_ _31"> </span>20,<span class="_ _31"> </span>skip_inner<span class="_ _9"> </span>#<span class="_ _31"> </span>jumps<span class="_ _31"> </span>to<span class="_ _31"> </span>skip_inner<span class="_ _31"> </span>if<span class="_ _9"> </span>y<span class="_ _31"> </span>!=<span class="_ _31"> </span>20</span></div><div class="t m0 xd5 h8 yfff ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _78"> </span><span class="ff5 fs4">li<span class="_ _3b"> </span>a1,<span class="_ _31"> </span>0<span class="_ _4c"> </span>#<span class="_ _31"> </span>x<span class="_ _31"> </span>=<span class="_ _31"> </span>0</span></div><div class="t m0 xd5 h8 y1000 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _16"> </span><span class="ff5 fs4">skip_inner:</span></div><div class="t m0 xd5 h8 y1001 ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _16"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x13 h7 yd1 ff3 fs4 fc0 sc0 ls0 ws0">In the<span class="_ _5"> </span>previous<span class="_ _5"> </span>example,<span class="_ _5"> </span>we used tw<span class="_ _8"></span>o<span class="_ _5"> </span>diﬀerent lab<span class="_ _4"></span>els, one<span class="_ _5"> </span>to<span class="_ _5"> </span>skip the<span class="_ _5"> </span>execution<span class="_ _5"> </span>of</div><div class="t m0 x17 h7 yd2 ff3 fs4 fc0 sc0 ls0 ws0">the “then blo<span class="_ _4"></span>c<span class="_ _8"></span>k” of the outer if statement (<span class="ff5">skip</span>) and another to skip the execution of</div><div class="t m0 x17 h7 yd3 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2f"> </span>“then<span class="_ _2f"> </span>block”<span class="_ _30"> </span>of the<span class="_ _2f"> </span>inner<span class="_ _30"> </span>if statemen<span class="_ _8"></span>t (<span class="ff5">skip<span class="_ _b"> </span>inner</span>).<span class="_ _b"> </span>In this<span class="_ _30"> </span>case, since both labels</div><div class="t m0 x17 h7 y48 ff3 fs4 fc0 sc0 ls0 ws0">represen<span class="_ _1"></span>t<span class="_ _2f"> </span>the<span class="_ _2f"> </span>same<span class="_ _2f"> </span>address<span class="_ _30"> </span>(notice that<span class="_ _2f"> </span>there<span class="_ _2f"> </span>are<span class="_ _30"> </span>no instructions<span class="_ _2f"> </span>or<span class="_ _2f"> </span>data<span class="_ _30"> </span>b<span class="_ _4"></span>et<span class="_ _1"></span>w<span class="_ _1"></span>een<span class="_ _2f"> </span>b<span class="_ _4"></span>oth</div><div class="t m0 x42 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>March<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _85"> </span>80</span></div><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:187.121000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

<div id="pf5c" class="pf w0 h0" data-page-no="5c"><div class="pc pc5c w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg5c.png"/><div class="t m0 xf h8 y10c ff3 fs4 fc0 sc0 ls0 ws0">5.10.<span class="_ _1f"> </span>ARITHMETIC<span class="_ _2"> </span>ON<span class="_ _2"> </span>MUL<span class="_ _9"></span>TI-WORD<span class="_ _6"> </span>V<span class="_ _12"></span>ARIABLES</div><div class="t m0 x114 h9 y7e1 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">add<span class="_ _7a"> </span>a0,<span class="_ _18"> </span>a1,<span class="_ _4"> </span>a2<span class="_ _8a"> </span>#<span class="_ _18"> </span>add<span class="_ _4"> </span>two<span class="_ _4"> </span>values</span></div><div class="t m0 x114 h9 y7e2 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">sltu<span class="_ _4"> </span>t1,<span class="_ _18"> </span>a0,<span class="_ _4"> </span>a1<span class="_ _8a"> </span>#<span class="_ _4"> </span>t1<span class="_ _4"> </span>:=<span class="_ _18"> </span>1<span class="_ _4"> </span>if<span class="_ _4"> </span>(a1+a2)<span class="_ _4"> </span>&lt;<span class="_ _18"> </span>a1<span class="_ _4"> </span>(Overflow)</span></div><div class="t m0 x114 h9 y7e3 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _bb"> </span><span class="ff5 fs4">#<span class="_ _7a"> </span>otherwise,<span class="_ _18"> </span>t1<span class="_ _4"> </span>:=<span class="_ _18"> </span>0<span class="_ _4"> </span>(No<span class="_ _4"> </span>overflow)</span></div><div class="t m0 xc h8 yd55 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _6"> </span>shows<span class="_ _6"> </span>how<span class="_ _6"> </span>to<span class="_ _2"> </span>detect<span class="_ _2"> </span>ov<span class="_ _27"></span>erﬂow<span class="_ _6"> </span>when<span class="_ _2"> </span>adding<span class="_ _2"> </span>tw<span class="_ _27"></span>o<span class="_ _2"> </span>signed<span class="_ _2"> </span>num<span class="_ _27"></span>b<span class="_ _5"></span>ers.</div><div class="t m0 x114 h9 yd56 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">add<span class="_ _7a"> </span>a0,<span class="_ _18"> </span>a1,<span class="_ _4"> </span>a2<span class="_ _87"> </span>#<span class="_ _18"> </span>add<span class="_ _4"> </span>two<span class="_ _4"> </span>values</span></div><div class="t m0 x114 h9 yd57 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">slti<span class="_ _4"> </span>t1,<span class="_ _18"> </span>a2,<span class="_ _4"> </span>0<span class="_ _93"> </span>#<span class="_ _4"> </span>t1<span class="_ _18"> </span>=<span class="_ _4"> </span>(a2<span class="_ _4"> </span>&lt;<span class="_ _4"> </span>0)</span></div><div class="t m0 x114 h9 yd58 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _2a"> </span><span class="ff5 fs4">slt<span class="_ _7a"> </span>t2,<span class="_ _18"> </span>a0,<span class="_ _4"> </span>a1<span class="_ _87"> </span>#<span class="_ _18"> </span>t2<span class="_ _4"> </span>=<span class="_ _4"> </span>(a1+a2<span class="_ _4"> </span>&lt;<span class="_ _4"> </span>a1)</span></div><div class="t m0 x114 h9 yd59 ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _2a"> </span><span class="ff5 fs4">bne<span class="_ _7a"> </span>t1,<span class="_ _18"> </span>t2,<span class="_ _4"> </span>handle_ov<span class="_ _18"> </span>#<span class="_ _4"> </span>overflow<span class="_ _4"> </span>if<span class="_ _7a"> </span>(a2&lt;0)<span class="_ _18"> </span>&amp;&amp;<span class="_ _4"> </span>(a1+a2&gt;=a1)</span></div><div class="t m0 x114 h9 yd5a ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _ba"> </span><span class="ff5 fs4">#<span class="_ _bc"> </span>or<span class="_ _18"> </span>if<span class="_ _4"> </span>(a2&gt;=0)<span class="_ _4"> </span>&amp;&amp;<span class="_ _4"> </span>(a1+a2&lt;a1)</span></div><div class="t m0 x114 h9 yd5b ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _2a"> </span><span class="ff5 fs4">...</span></div><div class="t m0 x114 h9 yd5c ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _2a"> </span><span class="ff5 fs4">handle_ov:<span class="_ _94"> </span>#<span class="_ _4"> </span>code<span class="_ _18"> </span>to<span class="_ _4"> </span>handle<span class="_ _4"> </span>the<span class="_ _4"> </span>overflow</span></div><div class="t m0 x114 h9 yd5d ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _2a"> </span><span class="ff5 fs4">...</span></div><div class="t m0 xf he yd5e ff6 fs3 fc0 sc0 ls0 ws0">5.10<span class="_ _37"> </span>Arithmetic<span class="_ _4"> </span>on<span class="_ _4"> </span>m<span class="_ _27"></span>ulti-word<span class="_ _18"> </span>v<span class="_ _9"></span>ariables</div><div class="t m0 xf h8 yd5f ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>R<span class="_ _12"></span>V32I<span class="_ _b"> </span>ISA<span class="_ _3"> </span>has<span class="_ _b"> </span>natural<span class="_ _b"> </span>hardw<span class="_ _27"></span>are<span class="_ _b"> </span>supp<span class="_ _5"></span>ort<span class="_ _3"> </span>to<span class="_ _b"> </span>p<span class="_ _5"></span>erform<span class="_ _b"> </span>arithmetic<span class="_ _3"> </span>op<span class="_ _5"></span>erations<span class="_ _b"> </span>on<span class="_ _3"> </span>32-bit<span class="_ _b"> </span>v<span class="_ _27"></span>alues.<span class="_ _2a"> </span>The</div><div class="t m0 xf h8 yd60 ff5 fs4 fc0 sc0 ls0 ws0">add<span class="_ _2"> </span><span class="ff3">instruction,<span class="_ _2"> </span>for<span class="_ _2"> </span>example,<span class="_ _2"> </span>can<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>used<span class="_ _2"> </span>to<span class="_ _2"> </span>add<span class="_ _2"> </span>tw<span class="_ _27"></span>o<span class="_ _2"> </span>(signed<span class="_ _3"> </span>or<span class="_ _2"> </span>unsigned)<span class="_ _2"> </span>32-bit<span class="_ _2"> </span>num<span class="_ _27"></span>b<span class="_ _5"></span>ers.<span class="_ _24"> </span>Ho<span class="_ _27"></span>wev<span class="_ _27"></span>er,<span class="_ _3"> </span>in</span></div><div class="t m0 xf h8 yd61 ff3 fs4 fc0 sc0 ls0 ws0">some<span class="_ _3"> </span>situations,<span class="_ _b"> </span>it<span class="_ _b"> </span>ma<span class="_ _1"></span>y<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>necessary<span class="_ _3"> </span>to<span class="_ _b"> </span>add<span class="_ _3"> </span>multi-w<span class="_ _27"></span>ord<span class="_ _b"> </span>(more<span class="_ _b"> </span>than<span class="_ _3"> </span>32-bit)<span class="_ _b"> </span>v<span class="_ _27"></span>alues.<span class="_ _2a"> </span>In<span class="_ _b"> </span>these<span class="_ _3"> </span>cases,<span class="_ _b"> </span>the</div><div class="t m0 xf h8 yd62 ff3 fs4 fc0 sc0 ls0 ws0">user<span class="_ _2"> </span>ma<span class="_ _1"></span>y<span class="_ _2"> </span>add<span class="_ _6"> </span>the<span class="_ _3"> </span>32-bit<span class="_ _6"> </span>parts<span class="_ _2"> </span>and<span class="_ _2"> </span>account<span class="_ _6"> </span>for<span class="_ _2"> </span>the<span class="_ _2"> </span>carry-outs<span class="_ _2"> </span>and<span class="_ _2"> </span>carry-ins<span class="_ _2"> </span>across<span class="_ _2"> </span>these<span class="_ _2"> </span>parts.</div><div class="t m0 xc h8 yd63 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>examples<span class="_ _2"> </span>show<span class="_ _6"> </span>how<span class="_ _6"> </span>tw<span class="_ _27"></span>o<span class="_ _2"> </span>64-bit<span class="_ _2"> </span>v<span class="_ _27"></span>alues<span class="_ _2"> </span>can<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>added<span class="_ _2"> </span>together.<span class="_ _7"> </span>The<span class="_ _2"> </span>ﬁrst<span class="_ _2"> </span>v<span class="_ _27"></span>alue<span class="_ _2"> </span>is<span class="_ _2"> </span>stored</div><div class="t m0 xf h8 yd64 ff3 fs4 fc0 sc0 ls0 ws0">at<span class="_ _b"> </span>register<span class="_ _34"> </span>pair<span class="_ _34"> </span><span class="ff5">a1:a0</span></div><div class="t m0 x145 h11 yd65 ffc fs7 fc0 sc0 ls0 ws0">17</div><div class="t m0 xd h8 yd64 ff3 fs4 fc0 sc0 ls0 ws0">while<span class="_ _b"> </span>the<span class="_ _34"> </span>second<span class="_ _34"> </span>v<span class="_ _27"></span>alue<span class="_ _34"> </span>is<span class="_ _34"> </span>stored<span class="_ _34"> </span>in<span class="_ _34"> </span>register<span class="_ _b"> </span>pair<span class="_ _34"> </span><span class="ff5">a3:a2</span>.<span class="_ _1b"> </span>Also,<span class="_ _34"> </span>the<span class="_ _34"> </span>results<span class="_ _34"> </span>are</div><div class="t m0 xf h8 yd66 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>eing<span class="_"> </span>placed<span class="_ _6"> </span>in<span class="_ _38"> </span>the<span class="_ _6"> </span>register<span class="_ _6"> </span>pair<span class="_"> </span><span class="ff5">a5:a4</span>.<span class="_ _7"> </span>The<span class="_ _6"> </span>ﬁrst<span class="_"> </span>step<span class="_ _6"> </span>is<span class="_ _6"> </span>to<span class="_"> </span>add<span class="_ _6"> </span>the<span class="_ _6"> </span>least<span class="_"> </span>signiﬁcant<span class="_"> </span>words<span class="_"> </span>(line<span class="_"> </span>1).<span class="_ _7"> </span>Then</div><div class="t m0 xf h8 yd67 ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _b"> </span>account<span class="_ _3"> </span>for<span class="_ _34"> </span>the<span class="_ _b"> </span>carry-out,<span class="_ _34"> </span>the<span class="_ _34"> </span>co<span class="_ _5"></span>de<span class="_ _b"> </span>chec<span class="_ _27"></span>ks<span class="_ _b"> </span>whether<span class="_ _34"> </span>the<span class="_ _b"> </span>result<span class="_ _b"> </span>of<span class="_ _34"> </span>the<span class="_ _b"> </span>unsigned<span class="_ _b"> </span>addition<span class="_ _34"> </span>is<span class="_ _b"> </span>less<span class="_ _b"> </span>than</div><div class="t m0 xf h8 yd68 ff3 fs4 fc0 sc0 ls0 ws0">one<span class="_ _b"> </span>of<span class="_ _b"> </span>the<span class="_ _34"> </span>op<span class="_ _5"></span>erands<span class="_ _b"> </span>(<span class="ff5">a2<span class="_ _34"> </span></span>in<span class="_ _b"> </span>this<span class="_ _b"> </span>case).<span class="_ _d"> </span>If<span class="_ _34"> </span>so,<span class="_ _34"> </span>it<span class="_ _b"> </span>means<span class="_ _34"> </span>that<span class="_ _b"> </span>there<span class="_ _34"> </span>was<span class="_ _3"> </span>a<span class="_ _34"> </span>carry-out,<span class="_ _34"> </span>and<span class="_ _b"> </span>the<span class="_ _34"> </span>register<span class="_ _b"> </span><span class="ff5">t1</span></div><div class="t m0 xf h8 yd69 ff3 fs4 fc0 sc0 ls0 ws0">is<span class="_ _b"> </span>set<span class="_ _b"> </span>with<span class="_ _3"> </span>1.<span class="_ _17"> </span>Otherwise,<span class="_ _b"> </span>there<span class="_ _b"> </span>was<span class="_ _3"> </span>no<span class="_ _b"> </span>carry-out,<span class="_ _34"> </span>and<span class="_ _b"> </span>the<span class="_ _b"> </span>register<span class="_ _b"> </span><span class="ff5">t1<span class="_ _3"> </span></span>is<span class="_ _b"> </span>set<span class="_ _b"> </span>with<span class="_ _b"> </span>0<span class="_ _b"> </span>(line<span class="_ _b"> </span>2).<span class="_ _17"> </span>Next,<span class="_ _b"> </span>the</div><div class="t m0 xf h8 yd6a ff3 fs4 fc0 sc0 ls0 ws0">most<span class="_ _2"> </span>signiﬁcant<span class="_ _2"> </span>words<span class="_ _2"> </span>are<span class="_ _2"> </span>added<span class="_ _3"> </span>together<span class="_ _3"> </span>(line<span class="_ _2"> </span>4),<span class="_ _3"> </span>and,<span class="_ _3"> </span>ﬁnally<span class="_ _9"></span>,<span class="_ _3"> </span>the<span class="_ _2"> </span>carry-out<span class="_ _3"> </span>is<span class="_ _3"> </span>also<span class="_ _2"> </span>added<span class="_ _3"> </span>to<span class="_ _3"> </span>the<span class="_ _2"> </span>most</div><div class="t m0 xf h8 yd6b ff3 fs4 fc0 sc0 ls0 ws0">signiﬁcan<span class="_ _1"></span>t<span class="_ _2"> </span>w<span class="_ _1"></span>ords<span class="_ _2"> </span>(line<span class="_ _6"> </span>5).</div><div class="t m0 x114 h9 yd6c ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">add<span class="_ _7a"> </span>a4,<span class="_ _18"> </span>a0,<span class="_ _4"> </span>a2<span class="_ _18"> </span>#<span class="_ _4"> </span>add<span class="_ _4"> </span>the<span class="_ _4"> </span>least<span class="_ _18"> </span>significant<span class="_ _4"> </span>word</span></div><div class="t m0 x114 h9 yd6d ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">sltu<span class="_ _4"> </span>t1,<span class="_ _18"> </span>a4,<span class="_ _4"> </span>a2<span class="_ _4"> </span>#<span class="_ _4"> </span>t1<span class="_ _18"> </span>:=<span class="_ _4"> </span>carry<span class="_ _4"> </span>bit<span class="_ _4"> </span>from<span class="_ _18"> </span>previous<span class="_ _4"> </span>addition</span></div><div class="t m0 x114 h9 yd6e ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _bd"> </span><span class="ff5 fs4">#<span class="_ _7a"> </span>t1<span class="_ _18"> </span>:=<span class="_ _4"> </span>1<span class="_ _18"> </span>if<span class="_ _4"> </span>(a0+a2)<span class="_ _4"> </span>&lt;<span class="_ _4"> </span>a2<span class="_ _18"> </span>(Overflow<span class="_ _4"> </span>=<span class="_ _4"> </span>carry<span class="_ _4"> </span>out)</span></div><div class="t m0 x114 h9 yd6f ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _bd"> </span><span class="ff5 fs4">#<span class="_ _7a"> </span>otherwise,<span class="_ _18"> </span>t1<span class="_ _4"> </span>:=<span class="_ _18"> </span>0</span></div><div class="t m0 x114 h9 yd70 ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _2a"> </span><span class="ff5 fs4">add<span class="_ _7a"> </span>a5,<span class="_ _18"> </span>a1,<span class="_ _4"> </span>a3<span class="_ _18"> </span>#<span class="_ _4"> </span>add<span class="_ _4"> </span>the<span class="_ _4"> </span>most<span class="_ _18"> </span>significant<span class="_ _4"> </span>word</span></div><div class="t m0 x114 h9 yd71 ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _2a"> </span><span class="ff5 fs4">add<span class="_ _7a"> </span>a5,<span class="_ _18"> </span>t1,<span class="_ _4"> </span>a5<span class="_ _18"> </span>#<span class="_ _4"> </span>add<span class="_ _4"> </span>the<span class="_ _4"> </span>carry<span class="_ _18"> </span>out</span></div><div class="t m0 x3f h1d yd72 fff fsd fc0 sc0 ls0 ws0">17</div><div class="t m0 xc h1e yd73 ff10 fse fc0 sc0 ls0 ws0">This<span class="_ _38"> </span>notation<span class="_ _6"> </span>is<span class="_ _6"> </span>used<span class="_ _6"> </span>to<span class="_ _38"> </span>indicate<span class="_ _6"> </span>that<span class="_ _6"> </span>tw<span class="_ _27"></span>o<span class="_ _6"> </span>registers<span class="_ _6"> </span>are<span class="_ _6"> </span>b<span class="_ _5"></span>eing<span class="_ _38"> </span>used<span class="_ _6"> </span>to<span class="_ _6"> </span>store<span class="_ _6"> </span>a<span class="_ _38"> </span>64-bit<span class="_ _6"> </span>v<span class="_ _1"></span>alue.<span class="_ _34"> </span>The<span class="_ _6"> </span>least<span class="_ _6"> </span>signiﬁcant<span class="_ _38"> </span>v<span class="_ _27"></span>alue</div><div class="t m0 xf h1e yd74 ff10 fse fc0 sc0 ls0 ws0">is<span class="_ _38"> </span>b<span class="_ _5"></span>eing<span class="_ _89"> </span>stored<span class="_ _38"> </span>by<span class="_ _38"> </span>register<span class="_ _38"> </span><span class="ff28">a0<span class="_ _38"> </span></span>while<span class="_ _38"> </span>the<span class="_ _38"> </span>most<span class="_ _38"> </span>signiﬁcant<span class="_ _89"> </span>v<span class="_ _27"></span>alue<span class="_ _38"> </span>is<span class="_ _38"> </span>b<span class="_ _5"></span>eing<span class="_ _38"> </span>stored<span class="_ _38"> </span>by<span class="_ _89"> </span>register<span class="_ _38"> </span><span class="ff28">a1</span>.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y142 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x11e h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Ma<span class="_ _1"></span>y<span class="_ _6"> </span>31,<span class="_ _2"> </span>202<span class="_ _5"></span>4)</div><div class="t m0 xb7 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">79</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,468.88,null]'><div class="d m1" style="border-style:none;position:absolute;left:122.981000px;bottom:487.284000px;width:18.597000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf5c" data-dest-detail='[92,"XYZ",87.243,120.83,null]'><div class="d m1" style="border-style:none;position:absolute;left:167.817000px;bottom:427.508000px;width:10.433000px;height:12.039000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

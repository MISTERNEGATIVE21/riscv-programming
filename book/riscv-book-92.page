<div id="pf5c" class="pf w0 h0" data-page-no="5c"><div class="pc pc5c w0 h0"><img class="bi x13 y159 we he" alt="" src="bg5c.png"/><div class="t m0 x13 h7 y15a ff3 fs4 fc0 sc0 ls0 ws0">CHAPTER<span class="_ _2"> </span>7.<span class="_ _22"> </span>CONTROLLING<span class="_ _5"> </span>THE<span class="_ _2"> </span>EXECUTION<span class="_ _2"> </span>FLOW</div><div class="t m0 x13 h7 y38 ff3 fs4 fc0 sc0 ls0 ws0">signed<span class="_ _3"> </span>v<span class="_ _8"></span>ariable.<span class="_ _22"> </span>In<span class="_ _3"> </span>case<span class="_ _c"> </span>v<span class="_ _8"></span>ariable<span class="_ _3"> </span><span class="ff5">x<span class="_ _c"> </span></span>was<span class="_ _3"> </span>an<span class="_ _3"> </span>unsigned<span class="_ _c"> </span>in<span class="_ _1"></span>teger<span class="_ _3"> </span>(<span class="ff5">unsigned<span class="_ _c"> </span></span>“C”<span class="_ _3"> </span>type),</div><div class="t m0 x13 h7 yed ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _a"> </span>programmer<span class="_ _3"> </span>(or<span class="_ _a"> </span>the<span class="_ _3"> </span>compiler)<span class="_ _a"> </span>must<span class="_ _d"> </span>hav<span class="_ _8"></span>e<span class="_ _3"> </span>used<span class="_ _a"> </span>instruction<span class="_ _3"> </span><span class="ff5">bltu<span class="_ _a"> </span></span>to<span class="_ _3"> </span>p<span class="_ _4"></span>erform<span class="_ _d"> </span>the</div><div class="t m0 x13 h7 yee ff3 fs4 fc0 sc0 ls0 ws0">comparison.</div><div class="t m0 x14 h7 yf98 ff7 fs4 fc0 sc0 ls0 ws0">NOTE:<span class="_ _1a"> </span><span class="ff3">It<span class="_ _5"> </span>is<span class="_ _2"> </span>imp<span class="_ _4"></span>ortan<span class="_ _8"></span>t<span class="_ _2"> </span>to<span class="_ _2"> </span>notice<span class="_ _2"> </span>that<span class="_ _2"> </span>the<span class="_ _5"> </span>pro<span class="_ _4"></span>cessor<span class="_ _2"> </span>do<span class="_ _4"></span>es<span class="_ _5"> </span>not<span class="_ _2"> </span>automatically</span></div><div class="t m0 x14 h7 yf99 ff3 fs4 fc0 sc0 ls0 ws0">infer<span class="_ _d"> </span>if<span class="_ _a"> </span>the<span class="_ _a"> </span>conten<span class="_ _8"></span>ts<span class="_ _a"> </span>of<span class="_ _a"> </span>a<span class="_ _a"> </span>register<span class="_ _d"> </span>(or<span class="_ _a"> </span>memory)<span class="_ _a"> </span>is<span class="_ _a"> </span>a<span class="_ _a"> </span>signed<span class="_ _a"> </span>or<span class="_ _a"> </span>unsigned<span class="_ _d"> </span>v<span class="_ _8"></span>alue.</div><div class="t m0 x14 h7 yf9a ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _5"> </span>programmer<span class="_ _5"> </span>(or<span class="_ _5"> </span>the<span class="_ _5"> </span>compiler)<span class="_ _2"> </span>m<span class="_ _1"></span>ust<span class="_ _5"> </span>inform<span class="_ _5"> </span>the<span class="_ _5"> </span>pro<span class="_ _4"></span>cessor<span class="_ _5"> </span>b<span class="_ _1"></span>y<span class="_ _5"> </span>selecting<span class="_ _5"> </span>the</div><div class="t m0 x14 h7 yf9b ff3 fs4 fc0 sc0 ls0 ws0">prop<span class="_ _4"></span>er<span class="_ _2"> </span>instruction<span class="_ _d"> </span>to<span class="_ _2"> </span>p<span class="_ _4"></span>erform<span class="_ _d"> </span>the<span class="_ _2"> </span>comparison<span class="_ _d"> </span>-<span class="_ _d"> </span>in<span class="_ _d"> </span>the<span class="_ _d"> </span>previous<span class="_ _d"> </span>example,<span class="_ _d"> </span><span class="ff5">blt</span></div><div class="t m0 x14 h7 yf9c ff3 fs4 fc0 sc0 ls0 ws0">for<span class="_ _2"> </span>signed<span class="_ _2"> </span>v<span class="_ _8"></span>ariables<span class="_ _2"> </span>and<span class="_ _2"> </span><span class="ff5">bltu<span class="_ _2"> </span></span>for<span class="_ _2"> </span>unsigned<span class="_ _2"> </span>v<span class="_ _8"></span>ariables.</div><div class="t m0 x13 ha yf9d ff6 fs6 fc0 sc0 ls0 ws0">7.1.3<span class="_ _17"> </span><span class="ff2">if-then-else<span class="_ _c"> </span></span>statemen<span class="_ _8"></span>ts</div><div class="t m0 x13 h7 yf9e ff3 fs4 fc0 sc0 ls0 ws0">The following co<span class="_ _4"></span>de sho<span class="_ _1"></span>ws an<span class="_ _5"> </span><span class="ff5">if-then-else<span class="_ _5"> </span></span>statemen<span class="_ _1"></span>t written<span class="_ _5"> </span>in “C”.<span class="_ _5"> </span>In<span class="_ _5"> </span>this co<span class="_ _4"></span>de, if</div><div class="t m0 x13 h7 yf9f ff3 fs4 fc0 sc0 ls0 ws0">the v<span class="_ _8"></span>alue of<span class="_ _5"> </span><span class="ff5">x<span class="_ _38"> </span></span>is greater<span class="_ _5"> </span>or equal to<span class="_ _5"> </span>ten, then<span class="_ _5"> </span>the v<span class="_ _8"></span>alue of<span class="_ _5"> </span>v<span class="_ _8"></span>ariable <span class="ff5">y<span class="_ _38"> </span></span>is<span class="_ _5"> </span>incremented b<span class="_ _8"></span>y</div><div class="t m0 x13 h7 yfa0 ff3 fs4 fc0 sc0 ls0 ws0">one,<span class="_ _d"> </span>else,<span class="_ _d"> </span>the<span class="_ _d"> </span>the<span class="_ _d"> </span>v<span class="_ _8"></span>alue<span class="_ _d"> </span>of<span class="_ _d"> </span><span class="ff5">x<span class="_ _d"> </span></span>is<span class="_ _a"> </span>assigned<span class="_ _d"> </span>to<span class="_ _d"> </span>v<span class="_ _8"></span>ariable<span class="_ _d"> </span><span class="ff5">y</span>.<span class="_ _e"> </span>The<span class="_ _d"> </span><span class="ff5">if-then-else<span class="_ _d"> </span></span>statement</div><div class="t m0 x13 h7 yfa1 ff3 fs4 fc0 sc0 ls0 ws0">con<span class="_ _1"></span>tains<span class="_ _d"> </span>three<span class="_ _2"> </span>main<span class="_ _d"> </span>parts:<span class="_ _11"> </span>the<span class="_ _d"> </span>“<span class="ff7">condition</span>”<span class="_ _d"> </span>(line<span class="_ _d"> </span>1),<span class="_ _d"> </span>the<span class="_ _d"> </span><span class="ff7">“then<span class="_ _a"> </span>blo<span class="_ _4"></span>c<span class="_ _1"></span>k”<span class="_ _2"> </span><span class="ff3">(lines<span class="_ _d"> </span>2-4),</span></span></div><div class="t m0 x13 h7 yfa2 ff3 fs4 fc0 sc0 ls0 ws0">and the <span class="ff7">“else blo<span class="_ _4"></span>c<span class="_ _8"></span>k”<span class="_ _38"> </span><span class="ff3">(lines 6-8).<span class="_ _3"> </span>The<span class="_ _5"> </span>condition consists of a b<span class="_ _4"></span>oolean expression that</span></span></div><div class="t m0 x13 h7 yfa3 ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>ust<span class="_ _3"> </span>b<span class="_ _4"></span>e<span class="_ _3"> </span>ev<span class="_ _8"></span>aluated<span class="_ _3"> </span>ﬁrst.<span class="_ _0"> </span>The<span class="_ _3"> </span>“then<span class="_ _3"> </span>blo<span class="_ _4"></span>c<span class="_ _1"></span>k”<span class="_ _3"> </span>contains<span class="_ _a"> </span>a<span class="_ _c"> </span>set<span class="_ _3"> </span>of<span class="_ _3"> </span>statements<span class="_ _3"> </span>that<span class="_ _3"> </span>must</div><div class="t m0 x13 h7 yfa4 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>e<span class="_ _a"> </span>executed<span class="_ _3"> </span>in<span class="_ _3"> </span>case<span class="_ _3"> </span>the<span class="_ _3"> </span>b<span class="_ _4"></span>oolean<span class="_ _3"> </span>expression<span class="_ _3"> </span>ev<span class="_ _8"></span>aluates<span class="_ _3"> </span>to<span class="_ _3"> </span>true,<span class="_ _c"> </span>and<span class="_ _3"> </span>the<span class="_ _3"> </span>“else<span class="_ _3"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”</div><div class="t m0 x13 h7 yfa5 ff3 fs4 fc0 sc0 ls0 ws0">con<span class="_ _1"></span>tains<span class="_ _3"> </span>a<span class="_ _3"> </span>set<span class="_ _3"> </span>of<span class="_ _3"> </span>statemen<span class="_ _1"></span>ts<span class="_ _3"> </span>that<span class="_ _3"> </span>m<span class="_ _1"></span>ust<span class="_ _3"> </span>b<span class="_ _4"></span>e<span class="_ _a"> </span>executed<span class="_ _3"> </span>in<span class="_ _3"> </span>case<span class="_ _3"> </span>the<span class="_ _3"> </span>b<span class="_ _4"></span>oolean<span class="_ _3"> </span>expression</div><div class="t m0 x13 h7 yfa6 ff3 fs4 fc0 sc0 ls0 ws0">ev<span class="_ _8"></span>aluates<span class="_ _2"> </span>to<span class="_ _2"> </span>false.</div><div class="t m0 xd5 h8 yfa7 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _1f"> </span><span class="ff5 fs4">if<span class="_ _e"> </span>(x<span class="_ _11"> </span>&gt;=<span class="_ _e"> </span>10)</span></div><div class="t m0 xd5 h8 yfa8 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _1f"> </span><span class="ff5 fs4">{</span></div><div class="t m0 xd5 h8 yfa9 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _7c"> </span><span class="ff5 fs4">y<span class="_ _e"> </span>=<span class="_ _e"> </span>y<span class="_ _11"> </span>+<span class="_ _e"> </span>1;</span></div><div class="t m0 xd5 h8 yfaa ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _1f"> </span><span class="ff5 fs4">}</span></div><div class="t m0 xd5 h8 yfab ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _1f"> </span><span class="ff5 fs4">else</span></div><div class="t m0 xd5 h8 yfac ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _1f"> </span><span class="ff5 fs4">{</span></div><div class="t m0 xd5 h8 yfad ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _7c"> </span><span class="ff5 fs4">y<span class="_ _e"> </span>=<span class="_ _e"> </span>x;</span></div><div class="t m0 xd5 h8 yfae ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _1f"> </span><span class="ff5 fs4">}</span></div><div class="t m0 x14 h7 yfaf ff3 fs4 fc0 sc0 ls0 ws0">Assuming<span class="_ _a"> </span><span class="ff5">x<span class="_ _3"> </span></span>is<span class="_ _a"> </span>an<span class="_ _3"> </span>unsigned<span class="_ _3"> </span>in<span class="_ _1"></span>teger<span class="_ _a"> </span>(<span class="ff5">unsigned<span class="_ _3"> </span></span>“C”<span class="_ _a"> </span>type)<span class="_ _3"> </span>mapp<span class="_ _4"></span>ed<span class="_ _a"> </span>to<span class="_ _3"> </span>register<span class="_ _a"> </span><span class="ff5">a1</span></div><div class="t m0 x13 h7 yfb0 ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _2"> </span><span class="ff5">y<span class="_ _2"> </span></span>is<span class="_ _2"> </span>mapped<span class="_ _2"> </span>to<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a2</span>,<span class="_ _2"> </span>the<span class="_ _2"> </span>following<span class="_ _5"> </span>co<span class="_ _4"></span>de<span class="_ _2"> </span>sho<span class="_ _1"></span>ws<span class="_ _2"> </span>ho<span class="_ _1"></span>w<span class="_ _2"> </span>the<span class="_ _2"> </span>previous<span class="_ _2"> </span>“C”<span class="_ _2"> </span>co<span class="_ _4"></span>de</div><div class="t m0 x13 h7 yfb1 ff3 fs4 fc0 sc0 ls0 ws0">can b<span class="_ _4"></span>e implemen<span class="_ _1"></span>ted in assembly language.<span class="_ _3"> </span>First,<span class="_ _5"> </span>the co<span class="_ _4"></span>de loads the constant ten into</div><div class="t m0 x13 h7 yfb2 ff3 fs4 fc0 sc0 ls0 ws0">temp<span class="_ _4"></span>orary<span class="_ _13"> </span>register <span class="ff5">t3<span class="_ _13"> </span></span>(line 1).<span class="_ _3"> </span>Then, if the con<span class="_ _1"></span>ten<span class="_ _1"></span>ts of register <span class="ff5">a1<span class="_ _13"> </span></span>(v<span class="_ _8"></span>ariable <span class="ff5">x</span>) are less</div><div class="t m0 x13 h7 yfb3 ff3 fs4 fc0 sc0 ls0 ws0">than<span class="_ _d"> </span>ten</div><div class="t m0 xa h11 yfb4 ffc fs7 fc0 sc0 ls0 ws0">3</div><div class="t m0 x82 h7 yfb3 ff3 fs4 fc0 sc0 ls0 ws0">,<span class="_ _d"> </span>it<span class="_ _d"> </span>jumps<span class="_ _d"> </span>to<span class="_ _d"> </span>lab<span class="_ _4"></span>el<span class="_ _2"> </span><span class="ff5">else<span class="_ _d"> </span></span>to<span class="_ _d"> </span>execute<span class="_ _a"> </span>the<span class="_ _d"> </span>“else<span class="_ _d"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”,<span class="_ _d"> </span>otherwise,<span class="_ _a"> </span>it<span class="_ _d"> </span>executes</div><div class="t m0 x13 h7 yfb5 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _d"> </span>next<span class="_ _d"> </span>instruction<span class="_ _d"> </span>(line<span class="_ _d"> </span>3),<span class="_ _a"> </span>which<span class="_ _2"> </span>corresp<span class="_ _4"></span>onds<span class="_ _2"> </span>to<span class="_ _a"> </span>the<span class="_ _d"> </span>ﬁrst<span class="_ _d"> </span>instruction<span class="_ _d"> </span>of<span class="_ _d"> </span>the<span class="_ _a"> </span>“then</div><div class="t m0 x13 h7 yfb6 ff3 fs4 fc0 sc0 ls0 ws0">blo<span class="_ _4"></span>c<span class="_ _8"></span>k”.</div><div class="t m0 xd5 h8 yfb7 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _36"> </span><span class="ff5 fs4">li<span class="_ _86"> </span>t3,<span class="_ _11"> </span>10</span></div><div class="t m0 xd5 h8 yfb8 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _36"> </span><span class="ff5 fs4">bltu<span class="_ _85"> </span>a1,<span class="_ _11"> </span>t3,<span class="_ _e"> </span>else<span class="_ _e"> </span>#<span class="_ _e"> </span>jumps<span class="_ _11"> </span>to<span class="_ _e"> </span>else<span class="_ _e"> </span>if<span class="_ _e"> </span>x<span class="_ _11"> </span>&lt;<span class="_ _e"> </span>10</span></div><div class="t m0 xd5 h8 yfb9 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _36"> </span><span class="ff5 fs4">addi<span class="_ _85"> </span>a2,<span class="_ _11"> </span>a2,<span class="_ _e"> </span>1<span class="_ _86"> </span>#<span class="_ _e"> </span>y<span class="_ _11"> </span>=<span class="_ _e"> </span>y<span class="_ _e"> </span>+<span class="_ _e"> </span>1</span></div><div class="t m0 xd5 h8 yfba ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _36"> </span><span class="ff5 fs4">j<span class="_ _88"> </span>cont<span class="_ _91"> </span>#<span class="_ _11"> </span>skip<span class="_ _e"> </span>the<span class="_ _11"> </span>else<span class="_ _e"> </span>block</span></div><div class="t m0 xd5 h8 yfbb ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _1f"> </span><span class="ff5 fs4">else:</span></div><div class="t m0 xd5 h8 yfbc ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _36"> </span><span class="ff5 fs4">mv<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>a1<span class="_ _87"> </span>#<span class="_ _e"> </span>y<span class="_ _e"> </span>=<span class="_ _e"> </span>x</span></div><div class="t m0 xd5 h8 yfbd ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _1f"> </span><span class="ff5 fs4">cont:</span></div><div class="t m0 x14 h7 yfbe ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _c"> </span>case<span class="_ _c"> </span>there<span class="_ _c"> </span>are<span class="_ _c"> </span>multiple<span class="_ _c"> </span>statements<span class="_ _3"> </span>in<span class="_ _c"> </span>the<span class="_ _c"> </span>“then<span class="_ _f"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”,<span class="_ _f"> </span>they<span class="_ _f"> </span>can<span class="_ _c"> </span>b<span class="_ _4"></span>e<span class="_ _3"> </span>placed</div><div class="t m0 x13 h7 yfbf ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>et<span class="_ _8"></span>ween<span class="_ _a"> </span>the<span class="_ _3"> </span>instruction<span class="_ _3"> </span><span class="ff5">bltu<span class="_ _3"> </span></span>(line<span class="_ _3"> </span>2)<span class="_ _3"> </span>and<span class="_ _a"> </span>the<span class="_ _3"> </span><span class="ff5">j<span class="_ _e"> </span>cont<span class="_ _3"> </span></span>instruction<span class="_ _3"> </span>(line<span class="_ _3"> </span>4).<span class="_ _b"> </span>In<span class="_ _3"> </span>case</div><div class="t m0 x13 h7 yfc0 ff3 fs4 fc0 sc0 ls0 ws0">there<span class="_ _2"> </span>are<span class="_ _d"> </span>multiple<span class="_ _5"> </span>statements<span class="_ _2"> </span>in<span class="_ _d"> </span>the<span class="_ _2"> </span>“else<span class="_ _d"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”,<span class="_ _d"> </span>they<span class="_ _2"> </span>can<span class="_ _d"> </span>b<span class="_ _4"></span>e<span class="_ _2"> </span>placed<span class="_ _2"> </span>b<span class="_ _4"></span>et<span class="_ _8"></span>ween<span class="_ _2"> </span>lab<span class="_ _4"></span>els</div><div class="t m0 x13 h7 yfc1 ff5 fs4 fc0 sc0 ls0 ws0">else<span class="_ _2"> </span><span class="ff3">(line<span class="_ _2"> </span>5)<span class="_ _2"> </span>and<span class="_ _2"> </span></span>cont<span class="_ _2"> </span><span class="ff3">(line<span class="_ _2"> </span>7).</span></div><div class="t m0 x42 h1e y193 ff12 fse fc0 sc0 ls0 ws0">3</div><div class="t m0 x14 h1f y61 ff13 fsf fc0 sc0 ls0 ws0">Register<span class="_ _38"> </span><span class="ff28">t3<span class="_ _38"> </span></span>contains<span class="_ _13"> </span>the<span class="_ _5"> </span>v<span class="_ _8"></span>alue<span class="_ _38"> </span>ten<span class="_ _38"> </span>at<span class="_ _5"> </span>this<span class="_ _38"> </span>p<span class="_ _4"></span>oin<span class="_ _8"></span>t</div><div class="t m0 x43 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _c"> </span>August<span class="_ _5"> </span>21,<span class="_ _d"> </span>2021)<span class="_ _6f"> </span>78</span></div><a class="l" href="#pf5c" data-dest-detail='[92,"XYZ",151.306,80.331,null]'><div class="d m1" style="border-style:none;position:absolute;left:172.449000px;bottom:291.727000px;width:6.462000px;height:12.039000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:185.308000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

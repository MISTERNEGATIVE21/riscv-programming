<div id="pf70" class="pf w0 h0" data-page-no="70"><div class="pc pc70 w0 h0"><img class="bi x15 y12e5 w2 hac" alt="" src="bg70.png"/><div class="t m0 x15 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">8.7.<span class="_ _19"> </span>REGISTER<span class="_ _2"> </span>USAGE<span class="_ _5"> </span>POLICIES</div><div class="t m0 x111 h8 yc69 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">mix:</span></div><div class="t m0 x111 h8 yc6a ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(a0)<span class="_ _3b"> </span>#<span class="_ _9"> </span>load<span class="_ _31"> </span>important<span class="_ _31"> </span>information<span class="_ _31"> </span>into<span class="_ _31"> </span>a2</span></div><div class="t m0 x111 h8 yc6b ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _31"> </span>-4<span class="_ _31"> </span>#<span class="_ _31"> </span>Saves<span class="_ _31"> </span>a2:<span class="_ _9"> </span>Allocate<span class="_ _31"> </span>stack<span class="_ _31"> </span>space</span></div><div class="t m0 x111 h8 yc6c ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _32"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(sp)<span class="_ _3b"> </span>#<span class="_ _c1"> </span>Store<span class="_ _31"> </span>a2<span class="_ _9"> </span>into<span class="_ _31"> </span>the<span class="_ _31"> </span>stack</span></div><div class="t m0 x111 h8 y115d ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _32"> </span><span class="ff5 fs4">la<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>x<span class="_ _56"> </span>#<span class="_ _9"> </span>Sets<span class="_ _31"> </span>parameter<span class="_ _9"> </span>1<span class="_ _31"> </span>with<span class="_ _31"> </span>address<span class="_ _31"> </span>of<span class="_ _31"> </span>var.<span class="_ _9"> </span>x</span></div><div class="t m0 x111 h8 y12e6 ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _32"> </span><span class="ff5 fs4">la<span class="_ _3b"> </span>a1,<span class="_ _31"> </span>y<span class="_ _56"> </span>#<span class="_ _9"> </span>Sets<span class="_ _31"> </span>parameter<span class="_ _9"> </span>1<span class="_ _31"> </span>with<span class="_ _31"> </span>address<span class="_ _31"> </span>of<span class="_ _31"> </span>var.<span class="_ _9"> </span>y</span></div><div class="t m0 x111 h8 y12e7 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _32"> </span><span class="ff5 fs4">jal<span class="_ _82"> </span>exchange<span class="_ _3b"> </span>#<span class="_ _9"> </span>Invokes<span class="_ _31"> </span>exchange<span class="_ _31"> </span>to<span class="_ _31"> </span>swap<span class="_ _31"> </span>x<span class="_ _9"> </span>an<span class="_ _31"> </span>y<span class="_ _31"> </span>values</span></div><div class="t m0 x111 h8 y12e8 ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(sp)<span class="_ _3b"> </span>#<span class="_ _9"> </span>Restores<span class="_ _31"> </span>a2:<span class="_ _31"> </span>Loads<span class="_ _31"> </span>a2<span class="_ _31"> </span>from<span class="_ _9"> </span>the<span class="_ _31"> </span>stack</span></div><div class="t m0 x111 h8 y12e9 ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _82"> </span>4<span class="_ _31"> </span>#<span class="_ _4c"> </span>Deallocate<span class="_ _31"> </span>the<span class="_ _31"> </span>stack<span class="_ _31"> </span>space</span></div><div class="t m0 x11d h8 y12ea ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _32"> </span><span class="ff5 fs4">mv<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>a2<span class="_ _86"> </span>#<span class="_ _9"> </span>Move<span class="_ _31"> </span>important<span class="_ _31"> </span>information<span class="_ _31"> </span>into<span class="_ _31"> </span>a0<span class="_ _9"> </span>to<span class="_ _31"> </span>return</span></div><div class="t m0 x11d h8 y12eb ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _32"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 xd h7 y12ec ff3 fs4 fc0 sc0 ls0 ws0">Another<span class="_ _a"> </span>wa<span class="_ _8"></span>y<span class="_ _25"> </span>to<span class="_ _a"> </span>solve<span class="_ _a"> </span>this<span class="_ _a"> </span>problem<span class="_ _25"> </span>is<span class="_ _25"> </span>to<span class="_ _a"> </span>mo<span class="_ _4"></span>dify<span class="_ _a"> </span>the<span class="_ _25"> </span><span class="ff5">exchange<span class="_ _a"> </span></span>routine<span class="_ _25"> </span>to<span class="_ _a"> </span>sav<span class="_ _8"></span>e</div><div class="t m0 x15 h7 y12ed ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _25"> </span>restore<span class="_ _25"> </span>all<span class="_ _25"> </span>the<span class="_ _9"> </span>registers<span class="_ _25"> </span>that<span class="_ _25"> </span>it<span class="_ _9"> </span>migh<span class="_ _1"></span>t<span class="_ _25"> </span>change.<span class="_ _1b"> </span>The<span class="_ _25"> </span>following<span class="_ _25"> </span>co<span class="_ _4"></span>de<span class="_ _a"> </span>illustrates</div><div class="t m0 x15 h7 y12ee ff3 fs4 fc0 sc0 ls0 ws0">this<span class="_ _a"> </span>situation.<span class="_ _ba"> </span>Notice<span class="_ _a"> </span>that<span class="_ _a"> </span>the<span class="_ _a"> </span>conten<span class="_ _8"></span>ts<span class="_ _a"> </span>of<span class="_ _a"> </span>registers<span class="_ _25"> </span><span class="ff5">a2<span class="_ _a"> </span></span>and<span class="_ _a"> </span><span class="ff5">a3<span class="_ _a"> </span></span>are<span class="_ _a"> </span>sav<span class="_ _8"></span>ed<span class="_ _a"> </span>into<span class="_ _3"> </span>the</div><div class="t m0 x15 h7 y12ef ff3 fs4 fc0 sc0 ls0 ws0">program<span class="_ _3"> </span>stack<span class="_ _b"> </span>(lines<span class="_ _3"> </span>2-4)<span class="_ _3"> </span>at<span class="_ _a"> </span>the<span class="_ _3"> </span>b<span class="_ _4"></span>eginning<span class="_ _b"> </span>of<span class="_ _3"> </span>the<span class="_ _a"> </span>routine<span class="_ _3"> </span>and<span class="_ _3"> </span>restored<span class="_ _3"> </span>(lines<span class="_ _3"> </span>9-11)</div><div class="t m0 x15 h7 y12f0 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>efore<span class="_ _5"> </span>returning<span class="_ _2"> </span>from<span class="_ _2"> </span>the<span class="_ _2"> </span>routine.</div><div class="t m0 x111 h8 y12f1 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">exchange:</span></div><div class="t m0 x111 h8 y12f2 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _31"> </span>-8<span class="_ _31"> </span>#<span class="_ _31"> </span>Allocate<span class="_ _31"> </span>stack<span class="_ _9"> </span>space</span></div><div class="t m0 x111 h8 y12f3 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _32"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>4(sp)<span class="_ _11"> </span>#<span class="_ _31"> </span>Save<span class="_ _31"> </span>contents<span class="_ _31"> </span>of<span class="_ _31"> </span>a2</span></div><div class="t m0 x111 h8 y12f4 ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _32"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a3,<span class="_ _31"> </span>0(sp)<span class="_ _11"> </span>#<span class="_ _31"> </span>Save<span class="_ _31"> </span>contents<span class="_ _31"> </span>of<span class="_ _31"> </span>a3</span></div><div class="t m0 x111 h8 y12f5 ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(a1)<span class="_ _3b"> </span>#<span class="_ _9"> </span>tmp<span class="_ _31"> </span>=<span class="_ _31"> </span>*b</span></div><div class="t m0 x111 h8 y12f6 ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a3,<span class="_ _31"> </span>(a0)<span class="_ _3b"> </span>#<span class="_ _9"> </span>a3<span class="_ _31"> </span>=<span class="_ _31"> </span>*a</span></div><div class="t m0 x111 h8 y12f7 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _32"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a3,<span class="_ _31"> </span>(a1)<span class="_ _3b"> </span>#<span class="_ _9"> </span>*b<span class="_ _31"> </span>=<span class="_ _31"> </span>a3</span></div><div class="t m0 x111 h8 y12f8 ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _32"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(a0)<span class="_ _3b"> </span>#<span class="_ _9"> </span>*a<span class="_ _31"> </span>=<span class="_ _31"> </span>tmp</span></div><div class="t m0 x111 h8 y12f9 ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a3,<span class="_ _31"> </span>0(sp)<span class="_ _11"> </span>#<span class="_ _31"> </span>Restore<span class="_ _31"> </span>contents<span class="_ _31"> </span>of<span class="_ _31"> </span>a3</span></div><div class="t m0 x11d h8 y12fa ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>4(sp)<span class="_ _11"> </span>#<span class="_ _31"> </span>Restore<span class="_ _31"> </span>contents<span class="_ _31"> </span>of<span class="_ _31"> </span>a2</span></div><div class="t m0 x11d h8 y12fb ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _31"> </span>8<span class="_ _82"> </span>#<span class="_ _31"> </span>Deallocate<span class="_ _31"> </span>stack<span class="_ _9"> </span>space</span></div><div class="t m0 x11d h8 y12fc ff24 fs12 fc0 sc0 ls0 ws0">12<span class="_ _32"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 x15 ha y12fd ff7 fs6 fc0 sc0 ls0 ws0">8.7.1<span class="_ _e"> </span>Caller-sa<span class="_ _8"></span>ved<span class="_ _3"> </span>vs<span class="_ _a"> </span>Callee-sa<span class="_ _1"></span>v<span class="_ _8"></span>ed<span class="_ _a"> </span>registers</div><div class="t m0 x15 h7 y12fe ff6 fs4 fc0 sc0 ls0 ws0">A<span class="_ _b"> </span>call<span class="_ _b"> </span>site<span class="_ _b"> </span>is<span class="_ _b"> </span>a<span class="_ _b"> </span>place<span class="_ _3"> </span>from<span class="_ _b"> </span>whic<span class="_ _8"></span>h<span class="_ _b"> </span>a<span class="_ _3"> </span>routine<span class="_ _b"> </span>is<span class="_ _b"> </span>b<span class="_ _4"></span>eing<span class="_ _b"> </span>in<span class="_ _8"></span>vok<span class="_ _8"></span>ed<span class="ff3">.<span class="_ _a"> </span>In<span class="_ _2"> </span>the<span class="_ _2"> </span>previous</span></div><div class="t m0 x15 h7 y12ff ff3 fs4 fc0 sc0 ls0 ws0">example,<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">jal<span class="_ _9"> </span>exchange<span class="_ _2"> </span></span>instruction<span class="_ _2"> </span>deﬁnes<span class="_ _2"> </span>a<span class="_ _2"> </span>call<span class="_ _2"> </span>site.<span class="_ _a"> </span>F<span class="_ _7"></span>or<span class="_ _2"> </span>eac<span class="_ _1"></span>h<span class="_ _2"> </span>call<span class="_ _2"> </span>site,<span class="_ _5"> </span>there<span class="_ _2"> </span>is</div><div class="t m0 x15 h7 y1300 ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _5"> </span>caller<span class="_ _5"> </span>and<span class="_ _2"> </span>a<span class="_ _5"> </span>callee<span class="_ _5"> </span>routine.<span class="_ _a"> </span><span class="ff6">The<span class="_ _b"> </span>caller routine<span class="_ _b"> </span>is<span class="_ _2"> </span>the<span class="_ _b"> </span>routine<span class="_ _b"> </span>that is<span class="_ _b"> </span>in<span class="_ _8"></span>voking</span></div><div class="t m0 x15 h7 y1301 ff6 fs4 fc0 sc0 ls0 ws0">the other<span class="_ _b"> </span>routine<span class="ff3">, <span class="ff8">i.e.</span>,<span class="_ _5"> </span>the<span class="_ _5"> </span>routine<span class="_ _5"> </span>that<span class="_ _5"> </span>con<span class="_ _1"></span>tains the<span class="_ _5"> </span>call<span class="_ _5"> </span>site.<span class="_ _a"> </span><span class="ff6">The callee<span class="_ _b"> </span>routine</span></span></div><div class="t m0 x15 h7 y1302 ff6 fs4 fc0 sc0 ls0 ws0">is<span class="_ _b"> </span>the<span class="_ _b"> </span>routine<span class="_ _b"> </span>that<span class="_ _2"> </span>is<span class="_ _b"> </span>b<span class="_ _4"></span>eing<span class="_ _b"> </span>in<span class="_ _8"></span>vok<span class="_ _8"></span>ed<span class="_ _b"> </span>b<span class="_ _1"></span>y<span class="_ _b"> </span>the<span class="_ _b"> </span>call<span class="_ _b"> </span>site<span class="ff3">.<span class="_ _3"> </span>In<span class="_ _2"> </span>the<span class="_ _5"> </span>previous<span class="_ _2"> </span>example,</span></div><div class="t m0 x15 h7 y1303 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>callee<span class="_ _2"> </span>is<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">exchange<span class="_ _2"> </span></span>routine<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _2"> </span>caller<span class="_ _2"> </span>is<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mix<span class="_ _2"> </span></span>routine.</div><div class="t m0 xd h7 y1304 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>previous<span class="_ _b"> </span>examples<span class="_ _5"> </span>discussed<span class="_ _b"> </span>t<span class="_ _8"></span>wo<span class="_ _5"> </span>alternative<span class="_ _2"> </span>solutions<span class="_ _2"> </span>to<span class="_ _b"> </span>preserving<span class="_ _2"> </span>the<span class="_ _2"> </span>con-</div><div class="t m0 x15 h7 y1305 ff3 fs4 fc0 sc0 ls0 ws0">ten<span class="_ _1"></span>ts of register<span class="_ _5"> </span><span class="ff5">a2<span class="_ _37"> </span></span>across a<span class="_ _5"> </span>call site:<span class="_ _3"> </span>the<span class="_ _5"> </span>conten<span class="_ _8"></span>ts are sav<span class="_ _8"></span>ed<span class="_ _5"> </span>and restored<span class="_ _5"> </span>b<span class="_ _1"></span>y the caller</div><div class="t m0 x15 h7 y1306 ff3 fs4 fc0 sc0 ls0 ws0">routine<span class="_ _3"> </span>or<span class="_ _3"> </span>the<span class="_ _3"> </span>con<span class="_ _8"></span>tents<span class="_ _b"> </span>are<span class="_ _3"> </span>sav<span class="_ _8"></span>ed<span class="_ _3"> </span>and<span class="_ _3"> </span>restored<span class="_ _3"> </span>by<span class="_ _b"> </span>the<span class="_ _3"> </span>callee<span class="_ _3"> </span>routine.<span class="_ _83"> </span>Even<span class="_ _b"> </span>though</div><div class="t m0 x15 h7 yf0e ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>oth approaches<span class="_ _5"> </span>are<span class="_ _5"> </span>correct,<span class="_ _2"> </span>there<span class="_ _5"> </span>should<span class="_ _2"> </span>b<span class="_ _4"></span>e a<span class="_ _2"> </span>conv<span class="_ _8"></span>ention so<span class="_ _2"> </span>that<span class="_ _5"> </span>programmers<span class="_ _5"> </span>(and</div><div class="t m0 x15 h7 yf0f ff3 fs4 fc0 sc0 ls0 ws0">compilers)<span class="_ _5"> </span>do<span class="_ _5"> </span>not<span class="_ _5"> </span>need<span class="_ _2"> </span>to<span class="_ _5"> </span>insp<span class="_ _4"></span>ect the<span class="_ _2"> </span>co<span class="_ _4"></span>de of<span class="_ _5"> </span>the<span class="_ _5"> </span>callee<span class="_ _2"> </span>routine<span class="_ _5"> </span>to<span class="_ _5"> </span>ﬁgure<span class="_ _5"> </span>out<span class="_ _2"> </span>whether</div><div class="t m0 x15 h7 yf10 ff3 fs4 fc0 sc0 ls0 ws0">or<span class="_ _2"> </span>not<span class="_ _2"> </span>to<span class="_ _2"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>a<span class="_ _2"> </span>register<span class="_ _2"> </span>b<span class="_ _4"></span>efore<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span>callee.</div><div class="t m0 xd h7 y8a8 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _5"> </span>ABI deﬁnes<span class="_ _5"> </span>which registers<span class="_ _5"> </span>must b<span class="_ _4"></span>e sav<span class="_ _8"></span>ed<span class="_ _5"> </span>by the<span class="_ _5"> </span>caller,<span class="_ _5"> </span><span class="ff8">i.e.</span>,<span class="_ _2"> </span>the routine<span class="_ _5"> </span>that</div><div class="t m0 x15 h7 yf11 ff3 fs4 fc0 sc0 ls0 ws0">is<span class="_ _2"> </span>in<span class="_ _1"></span>v<span class="_ _1"></span>oking,<span class="_ _2"> </span>and<span class="_ _2"> </span>which<span class="_ _5"> </span>registers<span class="_ _2"> </span>must<span class="_ _5"> </span>b<span class="_ _4"></span>e<span class="_ _5"> </span>sav<span class="_ _8"></span>ed<span class="_ _2"> </span>by<span class="_ _2"> </span>the<span class="_ _2"> </span>callee<span class="_ _2"> </span>routine,<span class="_ _2"> </span><span class="ff8">i.e.</span>,<span class="_ _2"> </span>the<span class="_ _2"> </span>routine</div><div class="t m0 x15 h7 y8a9 ff3 fs4 fc0 sc0 ls0 ws0">that<span class="_ _5"> </span>is<span class="_ _5"> </span>b<span class="_ _4"></span>eing<span class="_ _5"> </span>in<span class="_ _1"></span>v<span class="_ _1"></span>ok<span class="_ _1"></span>ed.<span class="_ _3"> </span><span class="ff6">Caller-sav<span class="_ _8"></span>ed<span class="_ _b"> </span>registers are<span class="_ _b"> </span>registers<span class="_ _2"> </span>that<span class="_ _b"> </span>m<span class="_ _8"></span>ust<span class="_ _b"> </span>be<span class="_ _b"> </span>sa<span class="_ _8"></span>ved</span></div><div class="t m0 x15 h7 y41 ff6 fs4 fc0 sc0 ls0 ws0">b<span class="_ _8"></span>y<span class="_ _3"> </span>the<span class="_ _a"> </span>caller<span class="_ _3"> </span>routine<span class="_ _b"> </span><span class="ff3">and<span class="_ _2"> </span></span>callee-sav<span class="_ _8"></span>ed<span class="_ _3"> </span>registers<span class="_ _3"> </span>are<span class="_ _3"> </span>registers<span class="_ _3"> </span>that<span class="_ _3"> </span>must<span class="_ _3"> </span>be</div><div class="t m0 x15 h7 y66b ff6 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _8"></span>ved<span class="_ _b"> </span>b<span class="_ _8"></span>y<span class="_ _b"> </span>the<span class="_ _b"> </span>callee<span class="_ _b"> </span>routine<span class="ff3">.</span></div><div class="t m0 xd h7 y66c ff3 fs4 fc0 sc0 ls0 ws0">The RISC-V<span class="_ _2f"> </span><span class="ff5">ilp32<span class="_ _2f"> </span></span>ABI deﬁnes<span class="_ _2f"> </span>that <span class="ff6">registers<span class="_ _2f"> </span><span class="ff5">t0-t6</span>, <span class="ff5">a0-a7</span>, and <span class="ff5">ra<span class="_ _37"> </span></span>are caller-</span></div><div class="t m0 x15 h7 y66d ff6 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _8"></span>ved<span class="ff3">.<span class="_ _3"> </span>Also,<span class="_ _2"> </span>it<span class="_ _2"> </span>deﬁnes<span class="_ _2"> </span>that<span class="_ _2"> </span></span>registers<span class="_ _b"> </span><span class="ff5">s0-s11<span class="_ _b"> </span></span>are<span class="_ _b"> </span>callee-sav<span class="_ _8"></span>ed<span class="ff3">.</span></div><div class="t m0 xd h7 y66e ff3 fs4 fc0 sc0 ls0 ws0">According<span class="_ _2f"> </span>to<span class="_ _2f"> </span>the<span class="_ _30"> </span>RISC-V <span class="ff5">ilp32<span class="_ _30"> </span></span>ABI, the<span class="_ _2f"> </span>con<span class="_ _8"></span>tents<span class="_ _30"> </span>of register<span class="_ _30"> </span><span class="ff5">a2<span class="_ _2f"> </span></span>must<span class="_ _30"> </span>b<span class="_ _4"></span>e<span class="_ _2f"> </span>preserv<span class="_ _1"></span>ed</div><div class="t m0 x15 h7 yd1 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _b"> </span>the<span class="_ _b"> </span>caller<span class="_ _b"> </span>routine,<span class="_ _b"> </span>hence,<span class="_ _b"> </span>in<span class="_ _b"> </span>previous<span class="_ _b"> </span>example,<span class="_ _b"> </span>the<span class="_ _b"> </span><span class="ff5">mix<span class="_ _b"> </span></span>routine<span class="_ _b"> </span>is<span class="_ _b"> </span>resp<span class="_ _4"></span>onsible<span class="_ _b"> </span>for</div><div class="t m0 x15 h7 yd2 ff3 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _1"></span>ving<span class="_ _2"> </span>the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a2<span class="_ _2"> </span></span>b<span class="_ _4"></span>efore<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">exchange<span class="_ _2"> </span></span>routine.</div><div class="t m0 xd h7 yd3 ff3 fs4 fc0 sc0 ls0 ws0">It<span class="_ _5"> </span>is<span class="_ _5"> </span>imp<span class="_ _4"></span>ortan<span class="_ _8"></span>t<span class="_ _5"> </span>to<span class="_ _5"> </span>notice<span class="_ _5"> </span>that<span class="_ _5"> </span>there<span class="_ _5"> </span>is<span class="_ _5"> </span>no<span class="_ _2"> </span>need to<span class="_ _2"> </span>sa<span class="_ _8"></span>ve all<span class="_ _2"> </span>the caller-sav<span class="_ _8"></span>ed<span class="_ _5"> </span>registers</div><div class="t m0 x15 h7 y48 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>efore<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _b"> </span>a<span class="_ _5"> </span>routine.<span class="_ _25"> </span>Only<span class="_ _b"> </span>the<span class="_ _5"> </span>registers<span class="_ _b"> </span>that<span class="_ _5"> </span>contain<span class="_ _2"> </span>v<span class="_ _8"></span>alues<span class="_ _2"> </span>that<span class="_ _2"> </span>might<span class="_ _2"> </span>b<span class="_ _4"></span>e<span class="_ _5"> </span>used</div><div class="t m0 x1f h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>March<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _85"> </span>99</span></div><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,636.39,null]'><div class="d m1" style="border-style:none;position:absolute;left:124.830000px;bottom:199.440000px;width:20.119000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,636.39,null]'><div class="d m1" style="border-style:none;position:absolute;left:190.224000px;bottom:139.387000px;width:20.119000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,636.39,null]'><div class="d m1" style="border-style:none;position:absolute;left:244.329000px;bottom:115.477000px;width:20.120000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:141.766000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

<div id="pf7d" class="pf w0 h0" data-page-no="7d"><div class="pc pc7d w0 h0"><img class="bi x17 y146 w2 he" alt="" src="bg7d.png"/><div class="t m0 x17 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">CHAPTER<span class="_ _2"> </span>9.<span class="_ _19"> </span>ACCESSING<span class="_ _5"> </span>PERIPHERALS</div><div class="t m0 x17 h7 y1e ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>ﬂo<span class="_ _4"></span>or<span class="_ _b"> </span>n<span class="_ _1"></span>um<span class="_ _1"></span>b<span class="_ _4"></span>er<span class="_ _b"> </span>to<span class="_ _b"> </span>a<span class="_ _b"> </span>conﬁguration<span class="_ _b"> </span>byte<span class="_ _b"> </span>that<span class="_ _b"> </span>turns<span class="_ _b"> </span>on<span class="_ _3"> </span>a<span class="_ _b"> </span>subset<span class="_ _b"> </span>of<span class="_ _b"> </span>the<span class="_ _3"> </span>segmen<span class="_ _8"></span>ts<span class="_ _3"> </span>so</div><div class="t m0 x17 h7 yd4 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _a"> </span>pattern<span class="_ _a"> </span>display<span class="_ _8"></span>ed<span class="_ _a"> </span>resembles<span class="_ _a"> </span>the<span class="_ _a"> </span>ﬂo<span class="_ _4"></span>or<span class="_ _3"> </span>num<span class="_ _8"></span>b<span class="_ _4"></span>er.<span class="_ _ba"> </span>F<span class="_ _7"></span>or<span class="_ _a"> </span>example,<span class="_ _9"> </span>if<span class="_ _a"> </span>the<span class="_ _a"> </span>elev<span class="_ _8"></span>ator<span class="_ _a"> </span>is</div><div class="t m0 x17 h7 yd5 ff3 fs4 fc0 sc0 ls0 ws0">lo<span class="_ _4"></span>cated<span class="_ _2"> </span>on<span class="_ _b"> </span>the<span class="_ _b"> </span>fourth<span class="_ _b"> </span>ﬂo<span class="_ _4"></span>or<span class="_ _2"> </span>(ﬂo<span class="_ _4"></span>or<span class="_ _b"> </span>n<span class="_ _8"></span>umber<span class="_ _b"> </span>=<span class="_ _b"> </span>4),<span class="_ _b"> </span>the<span class="_ _b"> </span>co<span class="_ _4"></span>de<span class="_ _b"> </span>m<span class="_ _8"></span>ust<span class="_ _b"> </span>write<span class="_ _b"> </span>the<span class="_ _b"> </span>v<span class="_ _7"></span>alue<span class="_ _b"> </span><span class="ff5">0x33</span></div><div class="t m0 x17 h7 yfd ff3 fs4 fc0 sc0 ls0 ws0">(<span class="ff5">0b00110011</span>)<span class="_ _2"> </span>to<span class="_ _2"> </span>turn<span class="_ _b"> </span>on<span class="_ _5"> </span>segments<span class="_ _2"> </span>b,<span class="_ _2"> </span>c,<span class="_ _b"> </span>f,<span class="_ _2"> </span>and<span class="_ _2"> </span>g,<span class="_ _2"> </span>as<span class="_ _b"> </span>illustrated<span class="_ _5"> </span>in<span class="_ _b"> </span>Figure<span class="_ _5"> </span>9.5.<span class="_ _9"> </span>Notice</div><div class="t m0 x17 h7 y28a ff3 fs4 fc0 sc0 ls0 ws0">that the<span class="_ _5"> </span>co<span class="_ _4"></span>de employs a table<span class="_ _5"> </span>(<span class="ff5">floor<span class="_ _b"> </span>to<span class="_ _b"> </span>pattern<span class="_ _b"> </span>table</span>) that<span class="_ _5"> </span>can<span class="_ _5"> </span>b<span class="_ _4"></span>e indexed<span class="_ _5"> </span>by the</div><div class="t m0 x17 h7 y48a ff3 fs4 fc0 sc0 ls0 ws0">ﬂo<span class="_ _4"></span>or<span class="_ _5"> </span>num<span class="_ _8"></span>b<span class="_ _4"></span>er<span class="_ _5"> </span>to<span class="_ _2"> </span>retrieve<span class="_ _5"> </span>the<span class="_ _2"> </span>prop<span class="_ _4"></span>er<span class="_ _2"> </span>conﬁguration<span class="_ _2"> </span>b<span class="_ _1"></span>yte.</div><div class="t m0 x17 hd y150c ff7 fs3 fc0 sc0 ls0 ws0">9.4<span class="_ _32"> </span>Busy<span class="_ _31"> </span>w<span class="_ _8"></span>aiting</div><div class="t m0 x17 h7 y150d ff6 fs4 fc0 sc0 ls0 ws0">Busy<span class="_ _25"> </span>w<span class="_ _1"></span>aiting<span class="_ _25"> </span>is<span class="_ _25"> </span>a<span class="_ _25"> </span>technique<span class="_ _a"> </span>in<span class="_ _25"> </span>which<span class="_ _a"> </span>the<span class="_ _25"> </span>co<span class="_ _4"></span>de<span class="_ _25"> </span>w<span class="_ _8"></span>aits<span class="_ _9"> </span>for<span class="_ _25"> </span>some<span class="_ _25"> </span>condition</div><div class="t m0 x17 h7 y150e ff6 fs4 fc0 sc0 ls0 ws0">to<span class="_ _b"> </span>b<span class="_ _4"></span>ecome<span class="_ _2"> </span>true<span class="_ _b"> </span>by<span class="_ _b"> </span>repeatedly<span class="_ _b"> </span>chec<span class="_ _8"></span>king<span class="_ _b"> </span>the<span class="_ _b"> </span>condition<span class="_ _b"> </span>on<span class="_ _b"> </span>a<span class="_ _b"> </span>loop.<span class="_ _9"> </span>Once<span class="_ _b"> </span>the</div><div class="t m0 x17 h7 y150f ff6 fs4 fc0 sc0 ls0 ws0">condition<span class="_ _a"> </span>b<span class="_ _4"></span>ecomes<span class="_ _a"> </span>true,<span class="_ _25"> </span>the<span class="_ _a"> </span>co<span class="_ _4"></span>de<span class="_ _a"> </span>lea<span class="_ _1"></span>v<span class="_ _8"></span>es<span class="_ _25"> </span>the<span class="_ _a"> </span>lo<span class="_ _4"></span>op<span class="_ _a"> </span>and<span class="_ _a"> </span>pro<span class="_ _4"></span>ceeds<span class="_ _a"> </span>with<span class="_ _a"> </span>the</div><div class="t m0 x17 h7 y1510 ff6 fs4 fc0 sc0 ls0 ws0">rest<span class="_ _b"> </span>of<span class="_ _b"> </span>the<span class="_ _b"> </span>execution.</div><div class="t m0 x13 h7 y1511 ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _a"> </span>many<span class="_ _a"> </span>situations,<span class="_ _9"> </span>when<span class="_ _25"> </span>interacting<span class="_ _a"> </span>with<span class="_ _25"> </span>p<span class="_ _4"></span>eripherals,<span class="_ _25"> </span>the<span class="_ _25"> </span>program<span class="_ _a"> </span>may<span class="_ _a"> </span>need</div><div class="t m0 x17 h7 y1512 ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _25"> </span>wait<span class="_ _a"> </span>for<span class="_ _25"> </span>some<span class="_ _25"> </span>condition<span class="_ _25"> </span>to<span class="_ _25"> </span>b<span class="_ _4"></span>ecome<span class="_ _25"> </span>true<span class="_ _25"> </span>b<span class="_ _4"></span>efore<span class="_ _a"> </span>p<span class="_ _4"></span>erforming<span class="_ _a"> </span>an<span class="_ _9"> </span>output<span class="_ _25"> </span>or<span class="_ _25"> </span>input</div><div class="t m0 x17 h7 y1513 ff3 fs4 fc0 sc0 ls0 ws0">op<span class="_ _4"></span>eration.<span class="_ _12"> </span>In<span class="_ _b"> </span>these<span class="_ _b"> </span>cases,<span class="_ _b"> </span>the<span class="_ _b"> </span>programmer<span class="_ _b"> </span>may<span class="_ _b"> </span>emplo<span class="_ _1"></span>y<span class="_ _b"> </span>the<span class="_ _b"> </span>busy<span class="_ _b"> </span>waiting<span class="_ _b"> </span>tec<span class="_ _8"></span>hnique</div><div class="t m0 x17 h7 y1514 ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _2"> </span>control<span class="_ _5"> </span>the<span class="_ _2"> </span>execution<span class="_ _2"> </span>ﬂow.<span class="_ _a"> </span>T<span class="_ _7"></span>o<span class="_ _2"> </span>illustrate<span class="_ _2"> </span>this<span class="_ _2"> </span>concept,<span class="_ _2"> </span>let<span class="_ _2"> </span>us<span class="_ _b"> </span>consider<span class="_ _5"> </span>a<span class="_ _2"> </span>computing</div><div class="t m0 x17 h7 y1515 ff3 fs4 fc0 sc0 ls0 ws0">system<span class="_ _b"> </span>that<span class="_ _2"> </span>contains<span class="_ _2"> </span>an<span class="_ _b"> </span>R<span class="_ _23"></span>V32I<span class="_ _b"> </span>CPU,<span class="_ _2"> </span>the<span class="_ _b"> </span>main<span class="_ _b"> </span>memory,<span class="_ _2"> </span>and<span class="_ _b"> </span>a<span class="_ _2"> </span>keypad,<span class="_ _b"> </span>as<span class="_ _2"> </span>shown<span class="_ _2"> </span>in</div><div class="t m0 x17 h7 y1516 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>9.6.</div><div class="c x97 y1517 w26 hce"><div class="t m0 x97 hcf y1518 ffb1 fs4c fc0 sc0 ls0 ws0">electrical </div><div class="t m0 x13e hcf y1519 ffb1 fs4c fc0 sc0 ls0 ws0">wires</div><div class="t m0 x111 hd0 y151a ffb2 fs4d fc0 sc0 ls0 ws0">00110011</div><div class="t m0 xfc hd1 y151b ffb1 fs4e fc0 sc0 ls0 ws0">R<span class="_ _7"></span>V32I</div><div class="t m0 x23 hd1 y151c ffb1 fs4e fc0 sc0 ls0 ws0">CPU</div><div class="t m0 x4a hd1 y151d ffb1 fs4e fc0 sc0 ls0 ws0">Main Memory</div><div class="t m0 x111 hd2 y151e ffb1 fs4f fc0 sc0 ls0 ws0">(<span class="ffb2 fs4d">0x10000000-0xFFFFFFF</span>)</div><div class="t m3 xde hd3 y151f ffb1 fs50 fc0 sc0 ls0 ws0">bus</div><div class="t m0 x25 hd2 y1520 ffb1 fs4f fc0 sc0 ls0 ws0">Data Reg. </div><div class="t m0 x25 hd2 y1521 ffb1 fs4f fc0 sc0 ls0 ws0">(<span class="ffb2 fs4d">0x00000050</span>)</div><div class="t m0 x15 hd1 y1522 ffb1 fs4e fc0 sc0 ls0 ws0">Keypad Controller</div><div class="t m0 x2 hd4 y1523 ffb3 fs4c fc3 sc0 ls0 ws0">1<span class="_ _bd"> </span>2<span class="_ _bd"> </span>3</div><div class="t m0 x2 hd4 y1524 ffb3 fs4c fc3 sc0 ls0 ws0">4<span class="_ _bd"> </span>5<span class="_ _bd"> </span>6</div><div class="t m0 x2 hd4 y1525 ffb3 fs4c fc3 sc0 ls0 ws0">7<span class="_ _bd"> </span>8</div><div class="t m0 x1 hd4 y1526 ffb3 fs4c fc3 sc0 ls0 ws0">9</div><div class="t m0 x2 hd4 y1527 ffb3 fs4c fc3 sc0 ls0 ws0">*<span class="_ _43"> </span>0<span class="_ _1c"> </span>#</div><div class="t m0 x111 hd0 y1528 ffb2 fs4d fc0 sc0 ls0 ws0">00110011</div><div class="t m0 x25 hd2 y1529 ffb1 fs4f fc0 sc0 ls0 ws0">Status Reg. </div><div class="t m0 x25 hd2 y152a ffb1 fs4f fc0 sc0 ls0 ws0">(<span class="ffb2 fs4d">0x00000051</span>)</div></div><div class="t m0 xbd h7 y152b ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>9.6:<span class="_ _3"> </span>R<span class="_ _7"></span>V32I-based<span class="_ _2"> </span>computing<span class="_ _2"> </span>system<span class="_ _2"> </span>with<span class="_ _2"> </span>a<span class="_ _2"> </span>k<span class="_ _8"></span>eypad.</div><div class="t m0 x13 h7 y152c ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _b"> </span>keypad<span class="_ _b"> </span>is<span class="_ _b"> </span>connected<span class="_ _b"> </span>to<span class="_ _b"> </span>a<span class="_ _b"> </span>k<span class="_ _1"></span>eypad<span class="_ _b"> </span>controller,<span class="_ _b"> </span>whic<span class="_ _8"></span>h,<span class="_ _3"> </span>in<span class="_ _b"> </span>turn,<span class="_ _3"> </span>is<span class="_ _b"> </span>connected<span class="_ _b"> </span>to</div><div class="t m0 x17 h7 y152d ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _3"> </span>CPU<span class="_ _b"> </span>through<span class="_ _3"> </span>the<span class="_ _3"> </span>bus.<span class="_ _26"> </span>The<span class="_ _3"> </span>keypad<span class="_ _b"> </span>controller<span class="_ _b"> </span>contains<span class="_ _b"> </span>tw<span class="_ _8"></span>o<span class="_ _3"> </span>8-bit<span class="_ _3"> </span>registers:<span class="_ _12"> </span>the</div><div class="t m0 x17 h7 y152e ff3 fs4 fc0 sc0 ls0 ws0">data<span class="_ _2"> </span>register<span class="_ _b"> </span>and<span class="_ _2"> </span>the<span class="_ _2"> </span>status<span class="_ _b"> </span>register.<span class="_ _25"> </span>The<span class="_ _2"> </span>data<span class="_ _b"> </span>register,<span class="_ _2"> </span>which<span class="_ _2"> </span>is<span class="_ _2"> </span>mapp<span class="_ _4"></span>ed<span class="_ _2"> </span>to<span class="_ _b"> </span>address</div><div class="t m0 x17 h7 y152f ff5 fs4 fc0 sc0 ls0 ws0">0x00000050<span class="ff3">,<span class="_ _3"> </span>stores<span class="_ _3"> </span>a<span class="_ _3"> </span>v<span class="_ _7"></span>alue<span class="_ _3"> </span>that<span class="_ _3"> </span>indicates<span class="_ _3"> </span>the<span class="_ _3"> </span>last<span class="_ _b"> </span>key<span class="_ _b"> </span>pressed<span class="_ _3"> </span>on<span class="_ _3"> </span>the<span class="_ _3"> </span>k<span class="_ _1"></span>eypad.<span class="_ _83"> </span>F<span class="_ _7"></span>or</span></div><div class="t m0 x17 h7 y1530 ff3 fs4 fc0 sc0 ls0 ws0">example,<span class="_ _b"> </span>if<span class="_ _2"> </span>the<span class="_ _b"> </span>k<span class="_ _1"></span>eypad<span class="_ _b"> </span>k<span class="_ _8"></span>ey<span class="_ _b"> </span>‘8’<span class="_ _2"> </span>is<span class="_ _b"> </span>pressed,<span class="_ _b"> </span>then,<span class="_ _2"> </span>the<span class="_ _b"> </span>data<span class="_ _b"> </span>register<span class="_ _2"> </span>is<span class="_ _b"> </span>set<span class="_ _2"> </span>with<span class="_ _b"> </span>n<span class="_ _1"></span>umber</div><div class="t m0 x17 h7 y1531 ff3 fs4 fc0 sc0 ls0 ws0">8</div><div class="t m0 x31 h11 y1532 ffc fs7 fc0 sc0 ls0 ws0">5</div><div class="t m0 x126 h7 y1531 ff3 fs4 fc0 sc0 ls0 ws0">.</div><div class="t m0 x13 h7 y1533 ff3 fs4 fc0 sc0 ls0 ws0">The status<span class="_ _30"> </span>register, which<span class="_ _2f"> </span>is mapped to<span class="_ _2f"> </span>address <span class="ff5">0x00000051</span>,<span class="_ _2f"> </span>con<span class="_ _8"></span>tains a v<span class="_ _7"></span>alue that</div><div class="t m0 x17 h7 y1534 ff3 fs4 fc0 sc0 ls0 ws0">indicates<span class="_ _b"> </span>the<span class="_ _2"> </span>keypad’s<span class="_ _2"> </span>current<span class="_ _2"> </span>status.<span class="_ _31"> </span>The<span class="_ _b"> </span>least<span class="_ _b"> </span>signiﬁcan<span class="_ _8"></span>t<span class="_ _b"> </span>bit<span class="_ _2"> </span>of<span class="_ _b"> </span>the<span class="_ _b"> </span>status<span class="_ _2"> </span>register</div><div class="t m0 x17 h7 y1535 ff3 fs4 fc0 sc0 ls0 ws0">(bit<span class="_ _b"> </span>0),<span class="_ _b"> </span>called<span class="_ _3"> </span>the<span class="_ _b"> </span>READ<span class="_ _1"></span>Y<span class="_ _b"> </span>bit,<span class="_ _b"> </span>indicates<span class="_ _3"> </span>whether<span class="_ _b"> </span>the<span class="_ _b"> </span>keypad<span class="_ _b"> </span>w<span class="_ _8"></span>as<span class="_ _b"> </span>pressed<span class="_ _b"> </span>since<span class="_ _3"> </span>the</div><div class="t m0 x17 h7 y1536 ff3 fs4 fc0 sc0 ls0 ws0">last<span class="_ _3"> </span>time<span class="_ _3"> </span>the<span class="_ _3"> </span>CPU<span class="_ _3"> </span>read<span class="_ _3"> </span>a<span class="_ _3"> </span>v<span class="_ _8"></span>alue<span class="_ _a"> </span>from<span class="_ _3"> </span>the<span class="_ _3"> </span>data<span class="_ _3"> </span>register.<span class="_ _15"> </span>If<span class="_ _a"> </span>it<span class="_ _3"> </span>con<span class="_ _1"></span>tains<span class="_ _3"> </span>the<span class="_ _3"> </span>v<span class="_ _8"></span>alue<span class="_ _3"> </span>0,</div><div class="t m0 x17 h7 y1537 ff3 fs4 fc0 sc0 ls0 ws0">it<span class="_ _3"> </span>means<span class="_ _3"> </span>no<span class="_ _a"> </span>keys<span class="_ _3"> </span>w<span class="_ _8"></span>ere<span class="_ _a"> </span>pressed<span class="_ _3"> </span>since<span class="_ _3"> </span>the<span class="_ _a"> </span>last<span class="_ _3"> </span>time<span class="_ _a"> </span>the<span class="_ _3"> </span>CPU<span class="_ _3"> </span>read<span class="_ _a"> </span>a<span class="_ _3"> </span>v<span class="_ _8"></span>alue<span class="_ _3"> </span>from<span class="_ _a"> </span>the</div><div class="t m0 x17 h7 y1538 ff3 fs4 fc0 sc0 ls0 ws0">data<span class="_ _b"> </span>register.<span class="_ _12"> </span>If<span class="_ _b"> </span>it<span class="_ _3"> </span>con<span class="_ _8"></span>tains<span class="_ _3"> </span>the<span class="_ _b"> </span>v<span class="_ _8"></span>alue<span class="_ _b"> </span>1,<span class="_ _3"> </span>at<span class="_ _b"> </span>least<span class="_ _b"> </span>one<span class="_ _b"> </span>key<span class="_ _b"> </span>w<span class="_ _8"></span>as<span class="_ _3"> </span>pressed<span class="_ _b"> </span>since<span class="_ _b"> </span>the<span class="_ _b"> </span>last</div><div class="t m0 x17 h7 y1539 ff3 fs4 fc0 sc0 ls0 ws0">time<span class="_ _b"> </span>the<span class="_ _b"> </span>CPU<span class="_ _3"> </span>read<span class="_ _b"> </span>a<span class="_ _b"> </span>v<span class="_ _8"></span>alue<span class="_ _b"> </span>from<span class="_ _3"> </span>the<span class="_ _b"> </span>data<span class="_ _b"> </span>register.<span class="_ _12"> </span>The<span class="_ _3"> </span>second<span class="_ _b"> </span>least<span class="_ _b"> </span>signiﬁcant<span class="_ _b"> </span>bit</div><div class="t m0 x17 h7 y153a ff3 fs4 fc0 sc0 ls0 ws0">of<span class="_ _a"> </span>the<span class="_ _a"> </span>status<span class="_ _a"> </span>register<span class="_ _a"> </span>(bit<span class="_ _25"> </span>1),<span class="_ _25"> </span>called<span class="_ _a"> </span>the<span class="_ _25"> </span>O<span class="_ _1"></span>VRN<span class="_ _a"> </span>bit,<span class="_ _25"> </span>indicates<span class="_ _a"> </span>whether<span class="_ _25"> </span>the<span class="_ _a"> </span>keypad</div><div class="t m0 x17 h7 y153b ff3 fs4 fc0 sc0 ls0 ws0">w<span class="_ _1"></span>as<span class="_ _2"> </span>pressed<span class="_ _b"> </span>more<span class="_ _5"> </span>than<span class="_ _b"> </span>once<span class="_ _2"> </span>since<span class="_ _2"> </span>the<span class="_ _2"> </span>last<span class="_ _b"> </span>time<span class="_ _2"> </span>the<span class="_ _2"> </span>CPU<span class="_ _b"> </span>read<span class="_ _5"> </span>a<span class="_ _b"> </span>v<span class="_ _7"></span>alue<span class="_ _b"> </span>from<span class="_ _5"> </span>the<span class="_ _b"> </span>data</div><div class="t m0 x17 h7 y153c ff3 fs4 fc0 sc0 ls0 ws0">register.<span class="_ _25"> </span>If<span class="_ _b"> </span>it<span class="_ _2"> </span>con<span class="_ _1"></span>tains<span class="_ _2"> </span>the<span class="_ _b"> </span>v<span class="_ _7"></span>alue<span class="_ _b"> </span>1,<span class="_ _2"> </span>it<span class="_ _2"> </span>means<span class="_ _b"> </span>the<span class="_ _2"> </span>k<span class="_ _8"></span>eypad<span class="_ _b"> </span>w<span class="_ _8"></span>as<span class="_ _b"> </span>pressed<span class="_ _2"> </span>more<span class="_ _2"> </span>than<span class="_ _b"> </span>once</div><div class="t m0 x17 h7 y153d ff3 fs4 fc0 sc0 ls0 ws0">since the last time<span class="_ _2f"> </span>the CPU read a<span class="_ _2f"> </span>v<span class="_ _7"></span>alue from the data register.<span class="_ _3"> </span>Notice that, since the</div><div class="t m0 x17 h7 y153e ff3 fs4 fc0 sc0 ls0 ws0">k<span class="_ _1"></span>eypad<span class="_ _b"> </span>con<span class="_ _8"></span>troller<span class="_ _b"> </span>con<span class="_ _1"></span>tains<span class="_ _b"> </span>only<span class="_ _2"> </span>one<span class="_ _b"> </span>data<span class="_ _b"> </span>register,<span class="_ _b"> </span>and<span class="_ _2"> </span>it<span class="_ _b"> </span>stores<span class="_ _b"> </span>the<span class="_ _b"> </span>v<span class="_ _7"></span>alue<span class="_ _b"> </span>of<span class="_ _2"> </span>the<span class="_ _b"> </span>last</div><div class="t m0 x17 h7 y153f ff3 fs4 fc0 sc0 ls0 ws0">k<span class="_ _1"></span>ey<span class="_ _5"> </span>pressed,<span class="_ _2"> </span>if<span class="_ _5"> </span>the<span class="_ _2"> </span>keypad is<span class="_ _2"> </span>pressed<span class="_ _5"> </span>more<span class="_ _2"> </span>than<span class="_ _5"> </span>once<span class="_ _2"> </span>b<span class="_ _4"></span>efore<span class="_ _5"> </span>the<span class="_ _5"> </span>CPU<span class="_ _2"> </span>gets<span class="_ _5"> </span>the<span class="_ _2"> </span>chance</div><div class="t m0 x17 h7 y1540 ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _2"> </span>read<span class="_ _b"> </span>the<span class="_ _5"> </span>data<span class="_ _b"> </span>register,<span class="_ _2"> </span>one<span class="_ _2"> </span>or<span class="_ _b"> </span>more<span class="_ _2"> </span>k<span class="_ _1"></span>ey<span class="_ _2"> </span>v<span class="_ _8"></span>alues<span class="_ _b"> </span>will<span class="_ _5"> </span>b<span class="_ _4"></span>e<span class="_ _2"> </span>lost.<span class="_ _9"> </span>This<span class="_ _2"> </span>situation,<span class="_ _b"> </span>kno<span class="_ _8"></span>wn</div><div class="t m0 x17 h7 y1541 ff3 fs4 fc0 sc0 ls0 ws0">as<span class="_ _2"> </span>o<span class="_ _1"></span>v<span class="_ _1"></span>errun<span class="_ _2"> </span>(O<span class="_ _1"></span>VRN),<span class="_ _2"> </span>ma<span class="_ _1"></span>y<span class="_ _2"> </span>b<span class="_ _4"></span>e<span class="_ _5"> </span>detected<span class="_ _2"> </span>by<span class="_ _5"> </span>insp<span class="_ _4"></span>ecting<span class="_ _5"> </span>the<span class="_ _2"> </span>status<span class="_ _2"> </span>register’s<span class="_ _2"> </span>OVRN<span class="_ _5"> </span>bit.</div><div class="t m0 x13 h7 y1542 ff3 fs4 fc0 sc0 ls0 ws0">No<span class="_ _1"></span>w,<span class="_ _2"> </span>let<span class="_ _2"> </span>us<span class="_ _2"> </span>supp<span class="_ _4"></span>ose<span class="_ _2"> </span>the<span class="_ _2"> </span>programmer<span class="_ _2"> </span>needs<span class="_ _2"> </span>to<span class="_ _2"> </span>implement<span class="_ _2"> </span>a<span class="_ _2"> </span>routine<span class="_ _2"> </span>called<span class="_ _2"> </span><span class="ff5">read<span class="_ _b"> </span>-</span></div><div class="t m0 x17 h7 y1543 ff5 fs4 fc0 sc0 ls0 ws0">keypad<span class="_ _2"> </span><span class="ff3">that<span class="_ _b"> </span>w<span class="_ _8"></span>aits<span class="_ _b"> </span>un<span class="_ _8"></span>til<span class="_ _b"> </span>the<span class="_ _2"> </span>keypad<span class="_ _2"> </span>is<span class="_ _b"> </span>pressed<span class="_ _2"> </span>and<span class="_ _2"> </span>then<span class="_ _b"> </span>returns<span class="_ _2"> </span>the<span class="_ _b"> </span>v<span class="_ _7"></span>alue<span class="_ _b"> </span>of<span class="_ _2"> </span>the<span class="_ _b"> </span>last</span></div><div class="t m0 x17 h7 y1544 ff3 fs4 fc0 sc0 ls0 ws0">k<span class="_ _1"></span>ey<span class="_ _5"> </span>pressed.<span class="_ _a"> </span>This<span class="_ _2"> </span>routine<span class="_ _2"> </span>also<span class="_ _2"> </span>needs<span class="_ _5"> </span>to<span class="_ _2"> </span>return<span class="_ _2"> </span>the<span class="_ _2"> </span>v<span class="_ _8"></span>alue<span class="_ _5"> </span>-1<span class="_ _2"> </span>if<span class="_ _2"> </span>the<span class="_ _2"> </span>k<span class="_ _1"></span>eypad<span class="_ _2"> </span>w<span class="_ _8"></span>as<span class="_ _2"> </span>pressed</div><div class="t m0 x17 h7 y1545 ff3 fs4 fc0 sc0 ls0 ws0">more than once since a v<span class="_ _7"></span>alue was read from the k<span class="_ _8"></span>eypad controller’s data register.<span class="_ _3"> </span>The</div><div class="t m0 x41 h1e y180 ff12 fse fc0 sc0 ls0 ws0">5</div><div class="t m0 x13 h1f y48 ff13 fsf fc0 sc0 ls0 ws0">Keys<span class="_ _37"> </span>’#’<span class="_ _37"> </span>and<span class="_ _37"> </span>’*’<span class="_ _37"> </span>pro<span class="_ _4"></span>duces<span class="_ _37"> </span>the<span class="_ _37"> </span>num<span class="_ _8"></span>b<span class="_ _4"></span>ers<span class="_ _2f"> </span>10<span class="_ _5"> </span>and<span class="_ _37"> </span>11.</div><div class="t m0 x42 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>March<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _64"> </span>112</span></div><a class="l" href="#pf7c" data-dest-detail='[124,"XYZ",90.709,646.888,null]'><div class="d m1" style="border-style:none;position:absolute;left:455.372000px;bottom:721.709000px;width:14.723000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:274.666000px;bottom:543.861000px;width:23.439000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",90.709,465.032,null]'><div class="d m1" style="border-style:none;position:absolute;left:319.950000px;bottom:543.861000px;width:62.369000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7d" data-dest-detail='[125,"XYZ",136.063,525.925,null]'><div class="d m1" style="border-style:none;position:absolute;left:166.504000px;bottom:531.906000px;width:14.723000px;height:10.738000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:152.996000px;bottom:363.469000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",136.063,563.789,null]'><div class="d m1" style="border-style:none;position:absolute;left:234.899000px;bottom:363.469000px;width:16.992000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:428.586000px;bottom:363.469000px;width:14.169000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7d" data-dest-detail='[125,"XYZ",151.306,80.331,null]'><div class="d m1" style="border-style:none;position:absolute;left:140.048000px;bottom:317.586000px;width:6.462000px;height:10.102000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:396.695000px;bottom:291.238000px;width:14.169000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:138.941000px;bottom:278.730000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:257.374000px;bottom:278.730000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:196.516000px;bottom:267.328000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:380.324000px;bottom:255.373000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:176.090000px;bottom:231.463000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:491.394000px;bottom:231.463000px;width:14.169000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:237.261000px;bottom:218.954000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:352.506000px;bottom:218.954000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:361.718000px;bottom:207.552000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:232.238000px;bottom:183.642000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,552.703,null]'><div class="d m1" style="border-style:none;position:absolute;left:412.474000px;bottom:159.732000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",90.709,590.644,null]'><div class="d m1" style="border-style:none;position:absolute;left:485.309000px;bottom:135.268000px;width:14.170000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:187.121000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

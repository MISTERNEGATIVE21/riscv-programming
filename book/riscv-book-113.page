<div id="pf71" class="pf w0 h0" data-page-no="71"><div class="pc pc71 w0 h0"><img class="bi x18 y12f7 w2 hac" alt="" src="bg71.png"/><div class="t m0 x18 h7 y15a ff3 fs4 fc0 sc0 ls0 ws0">8.7.<span class="_ _22"> </span>REGISTER<span class="_ _2"> </span>USAGE<span class="_ _5"> </span>POLICIES</div><div class="t m0 x112 h8 yc7b ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _1f"> </span><span class="ff5 fs4">mix:</span></div><div class="t m0 x112 h8 yc7c ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _36"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>(a0)<span class="_ _3f"> </span>#<span class="_ _e"> </span>load<span class="_ _e"> </span>important<span class="_ _e"> </span>information<span class="_ _11"> </span>into<span class="_ _e"> </span>a2</span></div><div class="t m0 x112 h8 yc7d ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _36"> </span><span class="ff5 fs4">addi<span class="_ _11"> </span>sp,<span class="_ _e"> </span>sp,<span class="_ _e"> </span>-4<span class="_ _e"> </span>#<span class="_ _11"> </span>Saves<span class="_ _e"> </span>a2:<span class="_ _e"> </span>Allocate<span class="_ _e"> </span>stack<span class="_ _11"> </span>space</span></div><div class="t m0 x112 h8 yc7e ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _36"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>(sp)<span class="_ _3f"> </span>#<span class="_ _89"> </span>Store<span class="_ _11"> </span>a2<span class="_ _e"> </span>into<span class="_ _e"> </span>the<span class="_ _e"> </span>stack</span></div><div class="t m0 x112 h8 y116f ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _36"> </span><span class="ff5 fs4">la<span class="_ _3f"> </span>a0,<span class="_ _11"> </span>x<span class="_ _5a"> </span>#<span class="_ _11"> </span>Sets<span class="_ _e"> </span>parameter<span class="_ _e"> </span>1<span class="_ _e"> </span>with<span class="_ _11"> </span>address<span class="_ _e"> </span>of<span class="_ _e"> </span>var.<span class="_ _e"> </span>x</span></div><div class="t m0 x112 h8 y12f8 ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _36"> </span><span class="ff5 fs4">la<span class="_ _3f"> </span>a1,<span class="_ _11"> </span>y<span class="_ _5a"> </span>#<span class="_ _11"> </span>Sets<span class="_ _e"> </span>parameter<span class="_ _e"> </span>1<span class="_ _e"> </span>with<span class="_ _11"> </span>address<span class="_ _e"> </span>of<span class="_ _e"> </span>var.<span class="_ _e"> </span>y</span></div><div class="t m0 x112 h8 y12f9 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _36"> </span><span class="ff5 fs4">jal<span class="_ _85"> </span>exchange<span class="_ _3f"> </span>#<span class="_ _11"> </span>Invokes<span class="_ _e"> </span>exchange<span class="_ _e"> </span>to<span class="_ _e"> </span>swap<span class="_ _11"> </span>x<span class="_ _e"> </span>an<span class="_ _e"> </span>y<span class="_ _e"> </span>values</span></div><div class="t m0 x112 h8 y12fa ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _36"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>(sp)<span class="_ _3f"> </span>#<span class="_ _e"> </span>Restores<span class="_ _e"> </span>a2:<span class="_ _e"> </span>Loads<span class="_ _11"> </span>a2<span class="_ _e"> </span>from<span class="_ _e"> </span>the<span class="_ _e"> </span>stack</span></div><div class="t m0 x112 h8 y12fb ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _36"> </span><span class="ff5 fs4">addi<span class="_ _11"> </span>sp,<span class="_ _e"> </span>sp,<span class="_ _85"> </span>4<span class="_ _e"> </span>#<span class="_ _50"> </span>Deallocate<span class="_ _e"> </span>the<span class="_ _e"> </span>stack<span class="_ _e"> </span>space</span></div><div class="t m0 x11e h8 y12fc ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _36"> </span><span class="ff5 fs4">mv<span class="_ _3f"> </span>a0,<span class="_ _11"> </span>a2<span class="_ _88"> </span>#<span class="_ _e"> </span>Move<span class="_ _e"> </span>important<span class="_ _e"> </span>information<span class="_ _11"> </span>into<span class="_ _e"> </span>a0<span class="_ _e"> </span>to<span class="_ _e"> </span>return</span></div><div class="t m0 x11e h8 y12fd ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _36"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 xd h7 y12fe ff3 fs4 fc0 sc0 ls0 ws0">Another<span class="_ _c"> </span>wa<span class="_ _8"></span>y<span class="_ _f"> </span>to<span class="_ _c"> </span>solve<span class="_ _c"> </span>this<span class="_ _c"> </span>problem<span class="_ _f"> </span>is<span class="_ _c"> </span>to<span class="_ _f"> </span>mo<span class="_ _4"></span>dify<span class="_ _c"> </span>the<span class="_ _c"> </span><span class="ff5">exchange<span class="_ _f"> </span></span>routine<span class="_ _c"> </span>to<span class="_ _f"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>e</div><div class="t m0 x18 h7 y12ff ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _f"> </span>restore<span class="_ _f"> </span>all<span class="_ _f"> </span>the<span class="_ _f"> </span>registers<span class="_ _11"> </span>that<span class="_ _f"> </span>it<span class="_ _f"> </span>might<span class="_ _c"> </span>change.<span class="_ _24"> </span>The<span class="_ _11"> </span>follo<span class="_ _1"></span>wing<span class="_ _f"> </span>co<span class="_ _4"></span>de<span class="_ _c"> </span>illustrates</div><div class="t m0 x18 h7 y1300 ff3 fs4 fc0 sc0 ls0 ws0">this<span class="_ _c"> </span>situation.<span class="_ _3b"> </span>Notice<span class="_ _c"> </span>that<span class="_ _c"> </span>the<span class="_ _c"> </span>conten<span class="_ _8"></span>ts<span class="_ _c"> </span>of<span class="_ _c"> </span>registers<span class="_ _c"> </span><span class="ff5">a2<span class="_ _c"> </span></span>and<span class="_ _c"> </span><span class="ff5">a3<span class="_ _c"> </span></span>are<span class="_ _c"> </span>sav<span class="_ _8"></span>ed<span class="_ _c"> </span>into<span class="_ _c"> </span>the</div><div class="t m0 x18 h7 y1301 ff3 fs4 fc0 sc0 ls0 ws0">program<span class="_ _3"> </span>stack<span class="_ _a"> </span>(lines<span class="_ _3"> </span>2-4)<span class="_ _3"> </span>at<span class="_ _3"> </span>the<span class="_ _3"> </span>b<span class="_ _4"></span>eginning<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _3"> </span>routine<span class="_ _3"> </span>and<span class="_ _3"> </span>restored<span class="_ _3"> </span>(lines<span class="_ _3"> </span>9-11)</div><div class="t m0 x18 h7 y1302 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>efore<span class="_ _5"> </span>returning<span class="_ _2"> </span>from<span class="_ _2"> </span>the<span class="_ _2"> </span>routine.</div><div class="t m0 x112 h8 y1303 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _1f"> </span><span class="ff5 fs4">exchange:</span></div><div class="t m0 x112 h8 y1304 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _36"> </span><span class="ff5 fs4">addi<span class="_ _11"> </span>sp,<span class="_ _e"> </span>sp,<span class="_ _e"> </span>-8<span class="_ _e"> </span>#<span class="_ _11"> </span>Allocate<span class="_ _e"> </span>stack<span class="_ _e"> </span>space</span></div><div class="t m0 x112 h8 y1305 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _36"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>4(sp)<span class="_ _85"> </span>#<span class="_ _e"> </span>Save<span class="_ _e"> </span>contents<span class="_ _e"> </span>of<span class="_ _11"> </span>a2</span></div><div class="t m0 x112 h8 y1306 ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _36"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a3,<span class="_ _11"> </span>0(sp)<span class="_ _85"> </span>#<span class="_ _e"> </span>Save<span class="_ _e"> </span>contents<span class="_ _e"> </span>of<span class="_ _11"> </span>a3</span></div><div class="t m0 x112 h8 y1307 ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _36"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>(a1)<span class="_ _3f"> </span>#<span class="_ _e"> </span>tmp<span class="_ _e"> </span>=<span class="_ _e"> </span>*b</span></div><div class="t m0 x112 h8 y1308 ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _36"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a3,<span class="_ _11"> </span>(a0)<span class="_ _3f"> </span>#<span class="_ _e"> </span>a3<span class="_ _e"> </span>=<span class="_ _e"> </span>*a</span></div><div class="t m0 x112 h8 y1309 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _36"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a3,<span class="_ _11"> </span>(a1)<span class="_ _3f"> </span>#<span class="_ _e"> </span>*b<span class="_ _e"> </span>=<span class="_ _e"> </span>a3</span></div><div class="t m0 x112 h8 y130a ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _36"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>(a0)<span class="_ _3f"> </span>#<span class="_ _e"> </span>*a<span class="_ _e"> </span>=<span class="_ _e"> </span>tmp</span></div><div class="t m0 x112 h8 y130b ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _36"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a3,<span class="_ _11"> </span>0(sp)<span class="_ _85"> </span>#<span class="_ _e"> </span>Restore<span class="_ _e"> </span>contents<span class="_ _e"> </span>of<span class="_ _11"> </span>a3</span></div><div class="t m0 x11e h8 y130c ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _36"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a2,<span class="_ _11"> </span>4(sp)<span class="_ _85"> </span>#<span class="_ _e"> </span>Restore<span class="_ _e"> </span>contents<span class="_ _e"> </span>of<span class="_ _11"> </span>a2</span></div><div class="t m0 x11e h8 y130d ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _36"> </span><span class="ff5 fs4">addi<span class="_ _11"> </span>sp,<span class="_ _e"> </span>sp,<span class="_ _e"> </span>8<span class="_ _85"> </span>#<span class="_ _e"> </span>Deallocate<span class="_ _11"> </span>stack<span class="_ _e"> </span>space</span></div><div class="t m0 x11e h8 y130e ff24 fs12 fc0 sc0 ls0 ws0">12<span class="_ _36"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 x18 ha y130f ff6 fs6 fc0 sc0 ls0 ws0">8.7.1<span class="_ _17"> </span>Caller-sa<span class="_ _8"></span>ved<span class="_ _3"> </span>vs<span class="_ _c"> </span>Callee-sa<span class="_ _1"></span>v<span class="_ _8"></span>ed<span class="_ _c"> </span>registers</div><div class="t m0 x18 h7 y1310 ff7 fs4 fc0 sc0 ls0 ws0">A<span class="_ _d"> </span>cal<span class="_ _4"></span>l<span class="_ _d"> </span>site<span class="_ _a"> </span>is<span class="_ _a"> </span>a<span class="_ _d"> </span>place<span class="_ _a"> </span>from<span class="_ _a"> </span>which<span class="_ _d"> </span>a<span class="_ _a"> </span>routine<span class="_ _a"> </span>is<span class="_ _a"> </span>b<span class="_ _4"></span>eing<span class="_ _d"> </span>inv<span class="_ _8"></span>ok<span class="_ _1"></span>ed<span class="ff3">.<span class="_ _c"> </span>In<span class="_ _2"> </span>the<span class="_ _2"> </span>previous</span></div><div class="t m0 x18 h7 y1311 ff3 fs4 fc0 sc0 ls0 ws0">example,<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">jal<span class="_ _11"> </span>exchange<span class="_ _2"> </span></span>instruction<span class="_ _2"> </span>deﬁnes<span class="_ _2"> </span>a<span class="_ _2"> </span>call<span class="_ _2"> </span>site.<span class="_ _c"> </span>F<span class="_ _2c"></span>or<span class="_ _2"> </span>each<span class="_ _5"> </span>call<span class="_ _2"> </span>site,<span class="_ _2"> </span>there<span class="_ _2"> </span>is</div><div class="t m0 x18 h7 y1312 ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _5"> </span>caller<span class="_ _5"> </span>and<span class="_ _2"> </span>a<span class="_ _5"> </span>callee<span class="_ _5"> </span>routine.<span class="_ _c"> </span><span class="ff7">The<span class="_ _d"> </span>caller<span class="_ _d"> </span>routine<span class="_ _d"> </span>is<span class="_ _2"> </span>the<span class="_ _d"> </span>routine<span class="_ _d"> </span>that<span class="_ _d"> </span>is<span class="_ _d"> </span>inv<span class="_ _8"></span>oking</span></div><div class="t m0 x18 h7 y1313 ff7 fs4 fc0 sc0 ls0 ws0">the other<span class="_ _d"> </span>routine<span class="ff3">,<span class="_ _5"> </span><span class="ff8">i.e.</span>,<span class="_ _5"> </span>the<span class="_ _5"> </span>routine<span class="_ _5"> </span>that contains the<span class="_ _5"> </span>call<span class="_ _5"> </span>site.<span class="_ _3"> </span></span>The<span class="_ _d"> </span>callee<span class="_ _2"> </span>routine</div><div class="t m0 x18 h7 y1314 ff7 fs4 fc0 sc0 ls0 ws0">is<span class="_ _d"> </span>the<span class="_ _a"> </span>routine<span class="_ _d"> </span>that<span class="_ _a"> </span>is<span class="_ _d"> </span>b<span class="_ _4"></span>eing<span class="_ _d"> </span>inv<span class="_ _8"></span>oked<span class="_ _2"> </span>by<span class="_ _d"> </span>the<span class="_ _d"> </span>call<span class="_ _a"> </span>site<span class="ff3">.<span class="_ _c"> </span>In<span class="_ _5"> </span>the<span class="_ _2"> </span>previous<span class="_ _2"> </span>example,</span></div><div class="t m0 x18 h7 y1315 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>callee<span class="_ _2"> </span>is<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">exchange<span class="_ _2"> </span></span>routine<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _2"> </span>caller<span class="_ _2"> </span>is<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mix<span class="_ _2"> </span></span>routine.</div><div class="t m0 xd h7 y1316 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>previous<span class="_ _d"> </span>examples<span class="_ _2"> </span>discussed<span class="_ _2"> </span>tw<span class="_ _8"></span>o<span class="_ _d"> </span>alternative<span class="_ _5"> </span>solutions<span class="_ _d"> </span>to<span class="_ _2"> </span>preserving<span class="_ _d"> </span>the<span class="_ _2"> </span>con-</div><div class="t m0 x18 h7 y1317 ff3 fs4 fc0 sc0 ls0 ws0">ten<span class="_ _1"></span>ts of register<span class="_ _5"> </span><span class="ff5">a2<span class="_ _38"> </span></span>across<span class="_ _5"> </span>a call site:<span class="_ _3"> </span>the<span class="_ _5"> </span>conten<span class="_ _8"></span>ts are sav<span class="_ _8"></span>ed<span class="_ _5"> </span>and restored<span class="_ _5"> </span>b<span class="_ _1"></span>y the caller</div><div class="t m0 x18 h7 y1318 ff3 fs4 fc0 sc0 ls0 ws0">routine<span class="_ _3"> </span>or<span class="_ _a"> </span>the<span class="_ _3"> </span>conten<span class="_ _8"></span>ts<span class="_ _3"> </span>are<span class="_ _3"> </span>sav<span class="_ _8"></span>ed<span class="_ _3"> </span>and<span class="_ _3"> </span>restored<span class="_ _3"> </span>b<span class="_ _1"></span>y<span class="_ _a"> </span>the<span class="_ _3"> </span>callee<span class="_ _3"> </span>routine.<span class="_ _b"> </span>Even<span class="_ _a"> </span>though</div><div class="t m0 x18 h7 yf20 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>oth approaches<span class="_ _5"> </span>are<span class="_ _5"> </span>correct,<span class="_ _2"> </span>there<span class="_ _5"> </span>should<span class="_ _2"> </span>b<span class="_ _4"></span>e a<span class="_ _2"> </span>conv<span class="_ _8"></span>ention so<span class="_ _2"> </span>that<span class="_ _5"> </span>programmers<span class="_ _5"> </span>(and</div><div class="t m0 x18 h7 yf21 ff3 fs4 fc0 sc0 ls0 ws0">compilers)<span class="_ _5"> </span>do<span class="_ _5"> </span>not<span class="_ _5"> </span>need<span class="_ _2"> </span>to<span class="_ _5"> </span>insp<span class="_ _4"></span>ect the<span class="_ _2"> </span>co<span class="_ _4"></span>de of<span class="_ _5"> </span>the<span class="_ _5"> </span>callee<span class="_ _2"> </span>routine<span class="_ _5"> </span>to<span class="_ _5"> </span>ﬁgure<span class="_ _5"> </span>out<span class="_ _2"> </span>whether</div><div class="t m0 x18 h7 yf22 ff3 fs4 fc0 sc0 ls0 ws0">or<span class="_ _2"> </span>not<span class="_ _2"> </span>to<span class="_ _2"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>a<span class="_ _2"> </span>register<span class="_ _2"> </span>b<span class="_ _4"></span>efore<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span>callee.</div><div class="t m0 xd h7 y8bd ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _5"> </span>ABI deﬁnes<span class="_ _5"> </span>which registers<span class="_ _5"> </span>must b<span class="_ _4"></span>e sav<span class="_ _8"></span>ed<span class="_ _5"> </span>by the<span class="_ _5"> </span>caller,<span class="_ _5"> </span><span class="ff8">i.e.</span>,<span class="_ _2"> </span>the routine<span class="_ _5"> </span>that</div><div class="t m0 x18 h7 yf23 ff3 fs4 fc0 sc0 ls0 ws0">is<span class="_ _2"> </span>in<span class="_ _1"></span>v<span class="_ _1"></span>oking,<span class="_ _2"> </span>and<span class="_ _2"> </span>which<span class="_ _5"> </span>registers<span class="_ _2"> </span>must<span class="_ _5"> </span>b<span class="_ _4"></span>e<span class="_ _5"> </span>sav<span class="_ _8"></span>ed<span class="_ _2"> </span>by<span class="_ _2"> </span>the<span class="_ _2"> </span>callee<span class="_ _2"> </span>routine,<span class="_ _2"> </span><span class="ff8">i.e.</span>,<span class="_ _2"> </span>the<span class="_ _2"> </span>routine</div><div class="t m0 x18 h7 y8be ff3 fs4 fc0 sc0 ls0 ws0">that<span class="_ _5"> </span>is<span class="_ _5"> </span>b<span class="_ _4"></span>eing<span class="_ _5"> </span>in<span class="_ _1"></span>v<span class="_ _1"></span>ok<span class="_ _1"></span>ed.<span class="_ _3"> </span><span class="ff7">Caller-sav<span class="_ _8"></span>ed<span class="_ _d"> </span>registers<span class="_ _d"> </span>are<span class="_ _2"> </span>registers<span class="_ _d"> </span>that<span class="_ _d"> </span>must b<span class="_ _4"></span>e<span class="_ _d"> </span>sa<span class="_ _8"></span>ved</span></div><div class="t m0 x18 h7 ya33 ff7 fs4 fc0 sc0 ls0 ws0">b<span class="_ _8"></span>y<span class="_ _3"> </span>the<span class="_ _c"> </span>caller<span class="_ _3"> </span>routine<span class="_ _d"> </span><span class="ff3">and<span class="_ _d"> </span></span>callee-sav<span class="_ _8"></span>ed<span class="_ _3"> </span>registers<span class="_ _3"> </span>are<span class="_ _3"> </span>registers<span class="_ _3"> </span>that<span class="_ _3"> </span>must<span class="_ _a"> </span>b<span class="_ _4"></span>e</div><div class="t m0 x18 h7 y680 ff7 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _8"></span>ved<span class="_ _d"> </span>by<span class="_ _d"> </span>the<span class="_ _d"> </span>callee<span class="_ _a"> </span>routine<span class="ff3">.</span></div><div class="t m0 xd h7 y681 ff3 fs4 fc0 sc0 ls0 ws0">The RISC-V<span class="_ _12"> </span><span class="ff5">ilp32<span class="_ _38"> </span></span>ABI deﬁnes<span class="_ _13"> </span>that <span class="ff7">registers<span class="_ _38"> </span><span class="ff5">t0-t6</span>, <span class="ff5">a0-a7</span>, and <span class="ff5">ra<span class="_ _38"> </span></span>are caller-</span></div><div class="t m0 x18 h7 y682 ff7 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _8"></span>ved<span class="ff3">.<span class="_ _3"> </span>Also,<span class="_ _2"> </span>it<span class="_ _2"> </span>deﬁnes<span class="_ _2"> </span>that<span class="_ _2"> </span></span>registers<span class="_ _a"> </span><span class="ff5">s0-s11<span class="_ _a"> </span></span>are<span class="_ _d"> </span>callee-sav<span class="_ _8"></span>ed<span class="ff3">.</span></div><div class="t m0 xd h7 y683 ff3 fs4 fc0 sc0 ls0 ws0">According<span class="_ _13"> </span>to<span class="_ _12"> </span>the RISC-V<span class="_ _12"> </span><span class="ff5">ilp32<span class="_ _13"> </span></span>ABI, the<span class="_ _12"> </span>conten<span class="_ _8"></span>ts of<span class="_ _12"> </span>register <span class="ff5">a2<span class="_ _12"> </span></span>must<span class="_ _12"> </span>b<span class="_ _4"></span>e<span class="_ _12"> </span>preserved</div><div class="t m0 x18 h7 yea ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _d"> </span>the<span class="_ _a"> </span>caller<span class="_ _a"> </span>routine,<span class="_ _a"> </span>hence,<span class="_ _a"> </span>in<span class="_ _d"> </span>previous<span class="_ _a"> </span>example,<span class="_ _a"> </span>the<span class="_ _a"> </span><span class="ff5">mix<span class="_ _a"> </span></span>routine<span class="_ _d"> </span>is<span class="_ _a"> </span>resp<span class="_ _4"></span>onsible<span class="_ _d"> </span>for</div><div class="t m0 x18 h7 yeb ff3 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _1"></span>ving<span class="_ _2"> </span>the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">a2<span class="_ _2"> </span></span>b<span class="_ _4"></span>efore<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">exchange<span class="_ _2"> </span></span>routine.</div><div class="t m0 xd h7 yec ff3 fs4 fc0 sc0 ls0 ws0">It<span class="_ _5"> </span>is<span class="_ _5"> </span>imp<span class="_ _4"></span>ortan<span class="_ _8"></span>t<span class="_ _5"> </span>to<span class="_ _5"> </span>notice<span class="_ _5"> </span>that<span class="_ _5"> </span>there<span class="_ _5"> </span>is<span class="_ _5"> </span>no<span class="_ _2"> </span>need to<span class="_ _2"> </span>sa<span class="_ _8"></span>ve all<span class="_ _2"> </span>the caller-sav<span class="_ _8"></span>ed<span class="_ _5"> </span>registers</div><div class="t m0 x18 h7 y61 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _4"></span>efore<span class="_ _5"> </span>inv<span class="_ _8"></span>oking<span class="_ _d"> </span>a<span class="_ _2"> </span>routine.<span class="_ _f"> </span>Only<span class="_ _2"> </span>the<span class="_ _d"> </span>registers<span class="_ _2"> </span>that<span class="_ _2"> </span>contain<span class="_ _2"> </span>v<span class="_ _8"></span>alues<span class="_ _2"> </span>that<span class="_ _2"> </span>might<span class="_ _2"> </span>b<span class="_ _4"></span>e<span class="_ _5"> </span>used</div><div class="t m0 x32 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>August<span class="_ _2"> </span>21,<span class="_ _d"> </span>2021)<span class="_ _6f"> </span>99</span></div><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,636.39,null]'><div class="d m1" style="border-style:none;position:absolute;left:124.830000px;bottom:199.440000px;width:20.119000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,636.39,null]'><div class="d m1" style="border-style:none;position:absolute;left:190.224000px;bottom:139.387000px;width:20.119000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",136.063,636.39,null]'><div class="d m1" style="border-style:none;position:absolute;left:244.329000px;bottom:115.477000px;width:20.120000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:139.954000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

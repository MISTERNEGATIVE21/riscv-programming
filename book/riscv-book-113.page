<div id="pf71" class="pf w0 h0" data-page-no="71"><div class="pc pc71 w0 h0"><img class="bi x17 y1307 w2 had" alt="" src="bg71.png"/><div class="t m0 x17 h7 y147 ff3 fs4 fc0 sc0 ls0 ws0">CHAPTER<span class="_ _2"> </span>8.<span class="_ _19"> </span>IMPLEMENTING<span class="_ _2"> </span>ROUTINES</div><div class="t m0 x17 h7 y1e ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>caller<span class="_ _b"> </span>routine<span class="_ _2"> </span>after<span class="_ _b"> </span>the<span class="_ _b"> </span>call<span class="_ _b"> </span>site.<span class="_ _31"> </span>In<span class="_ _b"> </span>the<span class="_ _b"> </span>previous<span class="_ _b"> </span>example,<span class="_ _b"> </span>the<span class="_ _2"> </span><span class="ff5">mix<span class="_ _b"> </span></span>routine<span class="_ _b"> </span>m<span class="_ _1"></span>ust</div><div class="t m0 x17 h7 yd4 ff3 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span><span class="ff5">a2<span class="_ _2"> </span></span>b<span class="_ _4"></span>ecause<span class="_ _5"> </span>it<span class="_ _2"> </span>needs<span class="_ _2"> </span>the<span class="_ _2"> </span>v<span class="_ _8"></span>alue<span class="_ _2"> </span>of<span class="_ _2"> </span><span class="ff5">a2<span class="_ _2"> </span></span>after<span class="_ _2"> </span>the<span class="_ _2"> </span>call<span class="_ _2"> </span>site.</div><div class="t m0 x13 h7 y1308 ff3 fs4 fc0 sc0 ls0 ws0">Also,<span class="_ _9"> </span>it<span class="_ _9"> </span>is<span class="_ _25"> </span>imp<span class="_ _4"></span>ortan<span class="_ _8"></span>t<span class="_ _9"> </span>to<span class="_ _25"> </span>notice<span class="_ _25"> </span>that<span class="_ _9"> </span>there<span class="_ _25"> </span>is<span class="_ _25"> </span>no<span class="_ _9"> </span>need<span class="_ _25"> </span>for<span class="_ _9"> </span>the<span class="_ _25"> </span>callee<span class="_ _25"> </span>routine<span class="_ _9"> </span>to</div><div class="t m0 x17 h7 y1309 ff3 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span>and<span class="_ _2"> </span>restore<span class="_ _2"> </span>all<span class="_ _2"> </span>the<span class="_ _2"> </span>callee-sa<span class="_ _1"></span>v<span class="_ _1"></span>ed<span class="_ _2"> </span>registers,<span class="_ _2"> </span>only<span class="_ _2"> </span>the<span class="_ _2"> </span>ones<span class="_ _2"> </span>that<span class="_ _2"> </span>are<span class="_ _2"> </span>mo<span class="_ _4"></span>diﬁed<span class="_ _5"> </span>by<span class="_ _5"> </span>the</div><div class="t m0 x17 h7 y130a ff3 fs4 fc0 sc0 ls0 ws0">routine.<span class="_ _31"> </span>As<span class="_ _b"> </span>an<span class="_ _b"> </span>example,<span class="_ _b"> </span>there<span class="_ _2"> </span>is<span class="_ _b"> </span>no<span class="_ _b"> </span>need<span class="_ _b"> </span>for<span class="_ _2"> </span>the<span class="_ _b"> </span><span class="ff5">exchange<span class="_ _b"> </span></span>routine<span class="_ _2"> </span>to<span class="_ _b"> </span>sav<span class="_ _8"></span>e<span class="_ _b"> </span>registers</div><div class="t m0 x17 h7 y130b ff5 fs4 fc0 sc0 ls0 ws0">s0-s11<span class="_ _2"> </span><span class="ff3">since<span class="_ _2"> </span>it<span class="_ _2"> </span>do<span class="_ _4"></span>es<span class="_ _5"> </span>not<span class="_ _2"> </span>mo<span class="_ _4"></span>dify<span class="_ _5"> </span>these<span class="_ _2"> </span>registers.</span></div><div class="t m0 x17 ha y130c ff7 fs6 fc0 sc0 ls0 ws0">8.7.2<span class="_ _e"> </span>Sa<span class="_ _8"></span>ving<span class="_ _a"> </span>and<span class="_ _a"> </span>restoring<span class="_ _a"> </span>the<span class="_ _a"> </span>return<span class="_ _a"> </span>address</div><div class="t m0 x17 h7 y130d ff3 fs4 fc0 sc0 ls0 ws0">As discussed b<span class="_ _4"></span>efore, whenever a routine is in<span class="_ _8"></span>vok<span class="_ _8"></span>ed,<span class="_ _5"> </span>the return address<span class="_ _5"> </span>is stored at the</div><div class="t m0 x17 h7 y130e ff3 fs4 fc0 sc0 ls0 ws0">return<span class="_ _2f"> </span>address<span class="_ _2f"> </span>register<span class="_ _2f"> </span>(<span class="ff5">ra</span>).<span class="_ _3"> </span>In<span class="_ _2f"> </span>other<span class="_ _2f"> </span>w<span class="_ _8"></span>ords, whenever<span class="_ _30"> </span>a routine<span class="_ _30"> </span>is in<span class="_ _8"></span>vok<span class="_ _8"></span>ed, register <span class="ff5">ra</span></div><div class="t m0 x17 h7 y130f ff3 fs4 fc0 sc0 ls0 ws0">is<span class="_ _2"> </span>up<span class="_ _4"></span>dated<span class="_ _2"> </span>with<span class="_ _2"> </span>a<span class="_ _b"> </span>new<span class="_ _5"> </span>v<span class="_ _8"></span>alue,<span class="_ _b"> </span>and<span class="_ _2"> </span>its<span class="_ _2"> </span>previous<span class="_ _2"> </span>conten<span class="_ _8"></span>ts<span class="_ _b"> </span>are<span class="_ _5"> </span>destroy<span class="_ _8"></span>ed.<span class="_ _9"> </span>Consequently<span class="_ _23"></span>,</div><div class="t m0 x17 h7 y1310 ff3 fs4 fc0 sc0 ls0 ws0">if<span class="_ _b"> </span>the<span class="_ _3"> </span>conten<span class="_ _8"></span>ts<span class="_ _3"> </span>of<span class="_ _b"> </span>register<span class="_ _3"> </span><span class="ff5">ra<span class="_ _3"> </span></span>are<span class="_ _b"> </span>required<span class="_ _3"> </span>after<span class="_ _3"> </span>the<span class="_ _b"> </span>call<span class="_ _3"> </span>site,<span class="_ _3"> </span>then<span class="_ _3"> </span>it<span class="_ _b"> </span>must<span class="_ _b"> </span>b<span class="_ _4"></span>e<span class="_ _b"> </span>sav<span class="_ _8"></span>ed</div><div class="t m0 x17 h7 y1311 ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _3"> </span>restored.<span class="_ _15"> </span>This<span class="_ _3"> </span>is<span class="_ _3"> </span>usually<span class="_ _3"> </span>the<span class="_ _3"> </span>case<span class="_ _3"> </span>b<span class="_ _4"></span>ecause<span class="_ _3"> </span>the<span class="_ _3"> </span>code<span class="_ _3"> </span>that<span class="_ _3"> </span>is<span class="_ _3"> </span>inv<span class="_ _8"></span>oking<span class="_ _3"> </span>a<span class="_ _3"> </span>routine</div><div class="t m0 x17 h7 y1312 ff3 fs4 fc0 sc0 ls0 ws0">usually<span class="_ _5"> </span>b<span class="_ _4"></span>elongs<span class="_ _5"> </span>to<span class="_ _5"> </span>another<span class="_ _2"> </span>routine,<span class="_ _2"> </span>hence,<span class="_ _5"> </span>it<span class="_ _2"> </span>migh<span class="_ _1"></span>t<span class="_ _5"> </span>need<span class="_ _2"> </span>the<span class="_ _5"> </span>return<span class="_ _2"> </span>address<span class="_ _5"> </span>to<span class="_ _2"> </span>return</div><div class="t m0 x17 h7 y1313 ff3 fs4 fc0 sc0 ls0 ws0">its execution to the<span class="_ _5"> </span>caller – Notice<span class="_ _5"> </span>that the <span class="ff5">ret<span class="_ _5"> </span></span>pseudo-instruction reads the conten<span class="_ _8"></span>ts</div><div class="t m0 x17 h7 y1314 ff3 fs4 fc0 sc0 ls0 ws0">of<span class="_ _2"> </span>register<span class="_ _2"> </span><span class="ff5">ra<span class="_ _2"> </span></span>to<span class="_ _2"> </span>return<span class="_ _2"> </span>the<span class="_ _2"> </span>execution<span class="_ _2"> </span>ﬂo<span class="_ _1"></span>w<span class="_ _2"> </span>to<span class="_ _2"> </span>the<span class="_ _2"> </span>correct<span class="_ _2"> </span>place.</div><div class="t m0 x13 h7 y1315 ff3 fs4 fc0 sc0 ls0 ws0">Since<span class="_ _5"> </span>register<span class="_ _5"> </span><span class="ff5">ra<span class="_ _5"> </span></span>is<span class="_ _5"> </span>a<span class="_ _2"> </span>caller-sa<span class="_ _8"></span>ve<span class="_ _5"> </span>register,<span class="_ _5"> </span>the<span class="_ _5"> </span>caller<span class="_ _5"> </span>routine<span class="_ _2"> </span>m<span class="_ _8"></span>ust<span class="_ _2"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _5"> </span>its<span class="_ _5"> </span>conten<span class="_ _8"></span>ts.</div><div class="t m0 x17 h7 y1316 ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _2"> </span>the<span class="_ _2"> </span>previous<span class="_ _b"> </span>example,<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mix<span class="_ _2"> </span></span>routine<span class="_ _b"> </span>m<span class="_ _8"></span>ust<span class="_ _2"> </span>hav<span class="_ _8"></span>e<span class="_ _b"> </span>sa<span class="_ _8"></span>ved<span class="_ _2"> </span>and<span class="_ _2"> </span>restored<span class="_ _2"> </span>the<span class="_ _b"> </span>con<span class="_ _8"></span>tents</div><div class="t m0 x17 h7 y1317 ff3 fs4 fc0 sc0 ls0 ws0">of<span class="_ _b"> </span><span class="ff5">ra<span class="_ _b"> </span></span>to<span class="_ _b"> </span>prev<span class="_ _8"></span>ent<span class="_ _b"> </span>it<span class="_ _b"> </span>from<span class="_ _b"> </span>being<span class="_ _b"> </span>destroy<span class="_ _8"></span>ed<span class="_ _b"> </span>when<span class="_ _b"> </span>in<span class="_ _8"></span>voking<span class="_ _b"> </span>the<span class="_ _b"> </span><span class="ff5">exchange<span class="_ _b"> </span></span>routine.<span class="_ _16"> </span>The</div><div class="t m0 x17 h7 y1318 ff3 fs4 fc0 sc0 ls0 ws0">follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _5"> </span>shows<span class="_ _5"> </span>the<span class="_ _2"> </span>correct<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _5"> </span>for<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mix<span class="_ _2"> </span></span>routine.</div><div class="t m0 xd5 h8 y1319 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _16"> </span><span class="ff5 fs4">mix:</span></div><div class="t m0 xd5 h8 y131a ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _31"> </span>-4<span class="_ _31"> </span>#<span class="_ _31"> </span>Saves<span class="_ _31"> </span>ra:<span class="_ _9"> </span>Allocate<span class="_ _31"> </span>stack<span class="_ _31"> </span>space</span></div><div class="t m0 xd5 h8 y131b ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _32"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>ra,<span class="_ _31"> </span>(sp)<span class="_ _3b"> </span>#<span class="_ _c1"> </span>Store<span class="_ _31"> </span>ra<span class="_ _9"> </span>into<span class="_ _31"> </span>the<span class="_ _31"> </span>stack</span></div><div class="t m0 xd5 h8 y131c ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(a0)<span class="_ _3b"> </span>#<span class="_ _9"> </span>load<span class="_ _31"> </span>important<span class="_ _31"> </span>information<span class="_ _31"> </span>into<span class="_ _31"> </span>a2</span></div><div class="t m0 xd5 h8 y131d ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _31"> </span>-4<span class="_ _31"> </span>#<span class="_ _31"> </span>Saves<span class="_ _31"> </span>a2:<span class="_ _9"> </span>Allocate<span class="_ _31"> </span>stack<span class="_ _31"> </span>space</span></div><div class="t m0 xd5 h8 y131e ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _32"> </span><span class="ff5 fs4">sw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(sp)<span class="_ _3b"> </span>#<span class="_ _c1"> </span>Store<span class="_ _31"> </span>a2<span class="_ _9"> </span>into<span class="_ _31"> </span>the<span class="_ _31"> </span>stack</span></div><div class="t m0 xd5 h8 y131f ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _32"> </span><span class="ff5 fs4">la<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>x<span class="_ _56"> </span>#<span class="_ _9"> </span>Sets<span class="_ _31"> </span>parameter<span class="_ _9"> </span>1<span class="_ _31"> </span>with<span class="_ _31"> </span>address<span class="_ _31"> </span>of<span class="_ _31"> </span>var.<span class="_ _9"> </span>x</span></div><div class="t m0 xd5 h8 y1320 ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _32"> </span><span class="ff5 fs4">la<span class="_ _3b"> </span>a1,<span class="_ _31"> </span>y<span class="_ _56"> </span>#<span class="_ _9"> </span>Sets<span class="_ _31"> </span>parameter<span class="_ _9"> </span>1<span class="_ _31"> </span>with<span class="_ _31"> </span>address<span class="_ _31"> </span>of<span class="_ _31"> </span>var.<span class="_ _9"> </span>y</span></div><div class="t m0 xd5 h8 y1321 ff24 fs12 fc0 sc0 ls0 ws0">9<span class="_ _32"> </span><span class="ff5 fs4">jal<span class="_ _82"> </span>exchange<span class="_ _3b"> </span>#<span class="_ _9"> </span>Invokes<span class="_ _31"> </span>exchange<span class="_ _31"> </span>to<span class="_ _31"> </span>swap<span class="_ _31"> </span>x<span class="_ _9"> </span>an<span class="_ _31"> </span>y<span class="_ _31"> </span>values</span></div><div class="t m0 x7b h8 y1322 ff24 fs12 fc0 sc0 ls0 ws0">10<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>a2,<span class="_ _31"> </span>(sp)<span class="_ _3b"> </span>#<span class="_ _9"> </span>Restores<span class="_ _31"> </span>a2:<span class="_ _31"> </span>Loads<span class="_ _31"> </span>a2<span class="_ _31"> </span>from<span class="_ _9"> </span>the<span class="_ _31"> </span>stack</span></div><div class="t m0 x7b h8 y1323 ff24 fs12 fc0 sc0 ls0 ws0">11<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _82"> </span>4<span class="_ _31"> </span>#<span class="_ _4c"> </span>Deallocate<span class="_ _31"> </span>the<span class="_ _31"> </span>stack<span class="_ _31"> </span>space</span></div><div class="t m0 x7b h8 y1324 ff24 fs12 fc0 sc0 ls0 ws0">12<span class="_ _32"> </span><span class="ff5 fs4">mv<span class="_ _3b"> </span>a0,<span class="_ _31"> </span>a2<span class="_ _86"> </span>#<span class="_ _9"> </span>Move<span class="_ _31"> </span>important<span class="_ _31"> </span>information<span class="_ _31"> </span>into<span class="_ _31"> </span>a0<span class="_ _9"> </span>to<span class="_ _31"> </span>return</span></div><div class="t m0 x7b h8 y1325 ff24 fs12 fc0 sc0 ls0 ws0">13<span class="_ _32"> </span><span class="ff5 fs4">lw<span class="_ _3b"> </span>ra,<span class="_ _31"> </span>(sp)<span class="_ _3b"> </span>#<span class="_ _9"> </span>Restores<span class="_ _31"> </span>ra:<span class="_ _31"> </span>Loads<span class="_ _31"> </span>ra<span class="_ _31"> </span>from<span class="_ _9"> </span>the<span class="_ _31"> </span>stack</span></div><div class="t m0 x7b h8 y1326 ff24 fs12 fc0 sc0 ls0 ws0">14<span class="_ _32"> </span><span class="ff5 fs4">addi<span class="_ _9"> </span>sp,<span class="_ _31"> </span>sp,<span class="_ _82"> </span>4<span class="_ _31"> </span>#<span class="_ _4c"> </span>Deallocate<span class="_ _31"> </span>the<span class="_ _31"> </span>stack<span class="_ _31"> </span>space</span></div><div class="t m0 x7b h8 y1327 ff24 fs12 fc0 sc0 ls0 ws0">15<span class="_ _32"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 x13 h7 y1328 ff6 fs4 fc0 sc0 ls0 ws0">Leaf<span class="_ _b"> </span>routines<span class="_ _b"> </span>are<span class="_ _3"> </span>routines<span class="_ _b"> </span>that<span class="_ _b"> </span>do<span class="_ _3"> </span>not<span class="_ _b"> </span>call<span class="_ _b"> </span>other<span class="_ _3"> </span>routines<span class="ff3">.<span class="_ _a"> </span>Since<span class="_ _b"> </span>they<span class="_ _5"> </span>do</span></div><div class="t m0 x17 h7 y1329 ff3 fs4 fc0 sc0 ls0 ws0">not<span class="_ _b"> </span>call<span class="_ _2"> </span>other<span class="_ _b"> </span>routines,<span class="_ _b"> </span>the<span class="_ _2"> </span>conten<span class="_ _8"></span>ts<span class="_ _b"> </span>of<span class="_ _2"> </span>register<span class="_ _b"> </span><span class="ff5">ra<span class="_ _2"> </span></span>are<span class="_ _b"> </span>not<span class="_ _b"> </span>modiﬁed.<span class="_ _31"> </span>Hence,<span class="_ _b"> </span>there<span class="_ _b"> </span>is</div><div class="t m0 x17 h7 y132a ff3 fs4 fc0 sc0 ls0 ws0">no<span class="_ _2"> </span>need<span class="_ _2"> </span>to<span class="_ _2"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>return<span class="_ _2"> </span>address<span class="_ _2"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>stack<span class="_ _5"> </span>when<span class="_ _2"> </span>implementing<span class="_ _5"> </span>leaf<span class="_ _2"> </span>routines.<span class="_ _a"> </span>In</div><div class="t m0 x17 h7 y132b ff3 fs4 fc0 sc0 ls0 ws0">the previous<span class="_ _5"> </span>examples,<span class="_ _5"> </span>the<span class="_ _5"> </span><span class="ff5">exchange<span class="_ _5"> </span></span>routine<span class="_ _5"> </span>is<span class="_ _5"> </span>a<span class="_ _5"> </span>leaf<span class="_ _5"> </span>routine,<span class="_ _5"> </span>hence,<span class="_ _5"> </span>there<span class="_ _5"> </span>is<span class="_ _5"> </span>no<span class="_ _5"> </span>need</div><div class="t m0 x17 h7 y132c ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _2"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span>and<span class="_ _2"> </span>restore<span class="_ _2"> </span>the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>return<span class="_ _2"> </span>address.</div><div class="t m0 x13 h7 y132d ff3 fs4 fc0 sc0 ls0 ws0">Finally<span class="_ _7"></span>,<span class="_ _3"> </span>the<span class="_ _3"> </span>standard<span class="_ _3"> </span>ABI<span class="_ _3"> </span>sp<span class="_ _4"></span>eciﬁes<span class="_ _b"> </span>that<span class="_ _3"> </span>routines<span class="_ _3"> </span>should<span class="_ _3"> </span>not<span class="_ _3"> </span>mo<span class="_ _4"></span>dify<span class="_ _3"> </span>the<span class="_ _3"> </span>in<span class="_ _8"></span>teger</div><div class="t m0 x17 h7 y132e ff3 fs4 fc0 sc0 ls0 ws0">registers<span class="_ _2"> </span><span class="ff5">tp<span class="_ _2"> </span></span>and<span class="_ _2"> </span><span class="ff5">gp</span>,<span class="_ _2"> </span>b<span class="_ _4"></span>ecause<span class="_ _5"> </span>signal<span class="_ _2"> </span>handlers<span class="_ _2"> </span>may<span class="_ _5"> </span>rely<span class="_ _2"> </span>up<span class="_ _4"></span>on<span class="_ _5"> </span>their<span class="_ _2"> </span>v<span class="_ _8"></span>alues.</div><div class="t m0 x17 hd y132f ff7 fs3 fc0 sc0 ls0 ws0">8.8<span class="_ _32"> </span>Stac<span class="_ _8"></span>k<span class="_ _31"> </span>F<span class="_ _23"></span>rames<span class="_ _31"> </span>and<span class="_ _16"> </span>the<span class="_ _31"> </span>F<span class="_ _23"></span>rame<span class="_ _31"> </span>P<span class="_ _8"></span>ointer</div><div class="t m0 x17 ha yd79 ff7 fs6 fc0 sc0 ls0 ws0">8.8.1<span class="_ _e"> </span>Stac<span class="_ _8"></span>k<span class="_ _a"> </span>F<span class="_ _7"></span>rames</div><div class="t m0 x17 h7 y66c ff3 fs4 fc0 sc0 ls0 ws0">All active routines ma<span class="_ _1"></span>y contain information in the program stack.<span class="_ _3"> </span>Also, this<span class="_ _5"> </span>informa-</div><div class="t m0 x17 h7 y66d ff3 fs4 fc0 sc0 ls0 ws0">tion<span class="_ _2"> </span>is<span class="_ _b"> </span>naturally<span class="_ _5"> </span>group<span class="_ _4"></span>ed<span class="_ _2"> </span>and<span class="_ _b"> </span>sorted<span class="_ _2"> </span>accordingly<span class="_ _2"> </span>to<span class="_ _2"> </span>the<span class="_ _b"> </span>call<span class="_ _2"> </span>order.<span class="_ _25"> </span>F<span class="_ _7"></span>or<span class="_ _b"> </span>example,<span class="_ _2"> </span>lets</div><div class="t m0 x17 h7 y66e ff3 fs4 fc0 sc0 ls0 ws0">assume that<span class="_ _5"> </span>routine <span class="ff5">A<span class="_ _5"> </span></span>inv<span class="_ _8"></span>oked routine <span class="ff5">B</span>, routine<span class="_ _5"> </span><span class="ff5">B<span class="_ _5"> </span></span>inv<span class="_ _8"></span>oked routine <span class="ff5">C</span>, and<span class="_ _5"> </span>routine <span class="ff5">C<span class="_ _5"> </span></span>is</div><div class="t m0 x17 h7 yd1 ff3 fs4 fc0 sc0 ls0 ws0">curren<span class="_ _1"></span>tly<span class="_ _2"> </span>b<span class="_ _4"></span>eing<span class="_ _5"> </span>executed.<span class="_ _25"> </span>Notice<span class="_ _2"> </span>that<span class="_ _2"> </span>routines<span class="_ _b"> </span><span class="ff5">A<span class="_ _5"> </span></span>and<span class="_ _2"> </span><span class="ff5">B<span class="_ _b"> </span></span>are<span class="_ _5"> </span>still<span class="_ _2"> </span>active.<span class="_ _a"> </span>The<span class="_ _2"> </span>conten<span class="_ _8"></span>ts</div><div class="t m0 x17 h7 yd2 ff3 fs4 fc0 sc0 ls0 ws0">added<span class="_ _5"> </span>by routine<span class="_ _5"> </span><span class="ff5">A<span class="_ _5"> </span></span>on<span class="_ _5"> </span>the<span class="_ _5"> </span>stack are<span class="_ _5"> </span>placed<span class="_ _2"> </span>before<span class="_ _2"> </span>the conten<span class="_ _1"></span>ts<span class="_ _5"> </span>of<span class="_ _5"> </span>routine<span class="_ _5"> </span><span class="ff5">B</span>.<span class="_ _5"> </span>Also,<span class="_ _5"> </span>the</div><div class="t m0 x17 h7 yd3 ff3 fs4 fc0 sc0 ls0 ws0">con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _5"> </span>added<span class="_ _2"> </span>by<span class="_ _5"> </span>routine<span class="_ _2"> </span><span class="ff5">B<span class="_ _5"> </span></span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>stack<span class="_ _5"> </span>are<span class="_ _5"> </span>placed<span class="_ _2"> </span>b<span class="_ _4"></span>efore<span class="_ _5"> </span>the<span class="_ _2"> </span>conten<span class="_ _8"></span>ts<span class="_ _2"> </span>of<span class="_ _5"> </span>routine<span class="_ _2"> </span><span class="ff5">C</span>.</div><div class="t m0 x17 h7 y48 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>8.3<span class="_ _2"> </span>illustrates<span class="_ _2"> </span>the<span class="_ _2"> </span>state<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>program<span class="_ _2"> </span>stac<span class="_ _1"></span>k<span class="_ _2"> </span>when<span class="_ _2"> </span>routine<span class="_ _2"> </span><span class="ff5">C<span class="_ _2"> </span></span>is<span class="_ _2"> </span>executing.</div><div class="t m0 x42 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>March<span class="_ _2"> </span>29,<span class="_ _2"> </span>2021)<span class="_ _64"> </span>100</span></div><a class="l" href="#pf72" data-dest-detail='[114,"XYZ",90.709,777.001,null]'><div class="d m1" style="border-style:none;position:absolute;left:166.504000px;bottom:67.933000px;width:14.723000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:187.121000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

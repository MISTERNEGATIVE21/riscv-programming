<div id="pf87" class="pf w0 h0" data-page-no="87"><div class="pc pc87 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg87.png"/><div class="t m0 xf h8 y10c ff3 fs4 fc0 sc0 ls0 ws0">9.2.<span class="_ _1f"> </span>EXTERNAL<span class="_ _2"> </span>INTERRUPTS</div><div class="t m0 x3f h8 y1309 ff7 fs4 fc0 sc0 ls0 ws0">Algorithm<span class="_ _3"> </span>5:<span class="_ _2"> </span><span class="ff3">Adapting<span class="_ _2"> </span>the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>instructions<span class="_ _2"> </span>execution<span class="_ _2"> </span>cycle<span class="_ _2"> </span>to<span class="_ _2"> </span>handle<span class="_ _2"> </span>interrupts.</span></div><div class="t m0 x1b h8 y130a ff15 fs7 fc0 sc0 ls0 ws0">1<span class="_ _18"> </span><span class="ff7 fs4">while<span class="_"> </span><span class="ff8">T<span class="_ _9"></span>rue<span class="_ _34"> </span><span class="ff7">do</span></span></span></div><div class="t m0 x40 h9 y130b ff5 fs4 fc0 sc0 ls0 ws0">/*<span class="_ _18"> </span>Check<span class="_ _4"> </span>for<span class="_ _4"> </span>interrupts<span class="_ _4"> </span>*/</div><div class="t m0 x1b h8 y130c ff15 fs7 fc0 sc0 ls0 ws0">2<span class="_ _3a"> </span><span class="ff7 fs4">if<span class="_ _34"> </span><span class="ff8">(<span class="ff5">interrupt<span class="_ _b"> </span>pin<span class="_ _3"> </span></span>=<span class="_ _3"> </span>‘1’)<span class="_ _2"> </span></span>and<span class="_ _3"> </span><span class="ff8">(<span class="ff5">interrupts<span class="_ _b"> </span>enabled<span class="_ _3"> </span></span>=<span class="_ _2"> </span>‘1’)<span class="_ _b"> </span></span>then</span></div><div class="t m0 x44 h9 y130d ff5 fs4 fc0 sc0 ls0 ws0">/*<span class="_ _18"> </span>Invoke<span class="_ _4"> </span>the<span class="_ _4"> </span>ISR<span class="_ _4"> </span>*/</div><div class="t m0 x3e h8 y130e ff15 fs7 fc0 sc0 ls0 ws0">3<span class="_ _c2"> </span><span class="ff5 fs4">SAVED<span class="_ _3"> </span>PC<span class="_ _2"> </span><span class="ff16">←<span class="_ _2"> </span></span>PC<span class="_ _2"> </span><span class="ff3">;</span></span></div><div class="t m0 x3e h8 y130f ff15 fs7 fc0 sc0 ls0 ws0">4<span class="_ _c2"> </span><span class="ff5 fs4">PC<span class="_ _2"> </span><span class="ff16">←<span class="_ _2"> </span></span>ISR<span class="_ _3"> </span>ADDRESS<span class="ff3">;</span></span></div><div class="t m0 x3e h8 y1310 ff15 fs7 fc0 sc0 ls0 ws0">5<span class="_ _c2"> </span><span class="ff5 fs4">interrupts<span class="_ _3"> </span>enabled<span class="_ _2"> </span><span class="ff16">←<span class="_ _2"> </span><span class="ff3">‘0’;</span></span></span></div><div class="t m0 x1b h8 y1311 ff15 fs7 fc0 sc0 ls0 ws0">6<span class="_ _3a"> </span><span class="ff7 fs4">end</span></div><div class="t m0 x40 h9 y1312 ff5 fs4 fc0 sc0 ls0 ws0">/*<span class="_ _18"> </span>Fetch<span class="_ _4"> </span>instruction<span class="_ _4"> </span>and<span class="_ _4"> </span>update<span class="_ _4"> </span>PC<span class="_ _18"> </span>*/</div><div class="t m0 x1b h8 y1313 ff15 fs7 fc0 sc0 ls0 ws0">7<span class="_ _3a"> </span><span class="ff5 fs4">IR<span class="_ _2"> </span><span class="ff16">←<span class="_ _2"> </span><span class="ff3">MainMemory[</span></span>PC<span class="ff3">]<span class="_ _6"> </span>;</span></span></div><div class="t m0 x1b h8 y1314 ff15 fs7 fc0 sc0 ls0 ws0">8<span class="_ _3a"> </span><span class="ff5 fs4">PC<span class="_ _2"> </span><span class="ff16">←<span class="_ _2"> </span></span>PC<span class="ff3">+4;</span></span></div><div class="t m0 x1b h8 y1315 ff15 fs7 fc0 sc0 ls0 ws0">9<span class="_ _3a"> </span><span class="ff3 fs4">ExecuteInstruction(<span class="ff5">IR</span>);</span></div><div class="t m0 xf h8 y1316 ff15 fs7 fc0 sc0 ls0 ws0">10<span class="_ _18"> </span><span class="ff7 fs4">end</span></div><div class="t m0 xc h8 y1317 ff3 fs4 fc0 sc0 ls0 ws0">Notice<span class="_ _3"> </span>that<span class="_ _3"> </span>the<span class="_ _3"> </span>pseudo-co<span class="_ _5"></span>de<span class="_ _3"> </span>in<span class="_ _3"> </span>Algorithm<span class="_ _3"> </span>5<span class="_ _3"> </span>disables<span class="_ _b"> </span>in<span class="_ _27"></span>terruptions<span class="_ _b"> </span>whenev<span class="_ _27"></span>er<span class="_ _b"> </span>it<span class="_ _3"> </span>in<span class="_ _1"></span>v<span class="_ _1"></span>ok<span class="_ _1"></span>es<span class="_ _3"> </span>an<span class="_ _3"> </span>interrupt</div><div class="t m0 xf h8 y1318 ff3 fs4 fc0 sc0 ls0 ws0">service<span class="_"> </span>routine.<span class="_ _7"> </span>This<span class="_ _6"> </span>is<span class="_ _6"> </span>p<span class="_ _5"></span>erformed<span class="_"> </span>so<span class="_ _6"> </span>the<span class="_ _6"> </span>interrupt<span class="_"> </span>service<span class="_ _6"> </span>routine<span class="_ _38"> </span>has<span class="_ _6"> </span>a<span class="_ _6"> </span>chance<span class="_"> </span>to<span class="_ _6"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_"> </span>all<span class="_ _6"> </span>the<span class="_ _6"> </span>imp<span class="_ _5"></span>ortant</div><div class="t m0 xf h8 y1319 ff3 fs4 fc0 sc0 ls0 ws0">con<span class="_ _1"></span>text<span class="_ _2"> </span>(including<span class="_ _2"> </span>the<span class="_ _2"> </span>conten<span class="_ _27"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">SAVED<span class="_ _b"> </span>PC</span>)<span class="_ _2"> </span>b<span class="_ _5"></span>efore<span class="_ _2"> </span>the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>redirects<span class="_ _2"> </span>the<span class="_ _2"> </span>execution<span class="_ _2"> </span>ﬂow<span class="_ _6"> </span>to<span class="_ _2"> </span>handle</div><div class="t m0 xf h8 y131a ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _2"> </span>new<span class="_ _3"> </span>interrupt.<span class="_ _24"> </span>Moreov<span class="_ _27"></span>er,<span class="_ _3"> </span>in<span class="_ _3"> </span>some<span class="_ _3"> </span>systems,<span class="_ _3"> </span>the<span class="_ _3"> </span>in<span class="_ _1"></span>terrupt<span class="_ _2"> </span>service<span class="_ _3"> </span>routine<span class="_ _3"> </span>is<span class="_ _3"> </span>resp<span class="_ _5"></span>onsible<span class="_ _2"> </span>for<span class="_ _3"> </span>interacting</div><div class="t m0 xf h8 y131b ff3 fs4 fc0 sc0 ls0 ws0">with<span class="_ _34"> </span>the<span class="_ _34"> </span>p<span class="_ _5"></span>eripheral<span class="_ _34"> </span>so<span class="_ _7"> </span>it<span class="_ _34"> </span>stops<span class="_ _34"> </span>signaling<span class="_ _7"> </span>the<span class="_ _34"> </span>interrupt<span class="_ _b"> </span>pin.<span class="_ _0"> </span>In<span class="_ _34"> </span>these<span class="_ _34"> </span>cases,<span class="_ _24"> </span>the<span class="_ _34"> </span>CPU<span class="_ _34"> </span>must<span class="_ _b"> </span>ignore<span class="_ _7"> </span>the</div><div class="t m0 xf h8 y131c ff5 fs4 fc0 sc0 ls0 ws0">interrupt<span class="_ _3"> </span>pin<span class="_ _b"> </span><span class="ff3">until<span class="_ _3"> </span>the<span class="_ _b"> </span>p<span class="_ _5"></span>eripheral<span class="_ _b"> </span>stops<span class="_ _3"> </span>signaling<span class="_ _b"> </span>the<span class="_ _b"> </span></span>interrupt<span class="_ _b"> </span>pin<span class="ff3">.<span class="_ _1c"> </span>Once<span class="_ _b"> </span>it<span class="_ _b"> </span>is<span class="_ _b"> </span>safe<span class="_ _3"> </span>to<span class="_ _b"> </span>handle<span class="_ _b"> </span>new</span></div><div class="t m0 xf h8 y131d ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terrupts,<span class="_ _18"> </span>the<span class="_ _7"> </span>interrupt<span class="_ _7"> </span>service<span class="_ _24"> </span>routine<span class="_ _24"> </span>ma<span class="_ _1"></span>y<span class="_ _7"> </span>set<span class="_ _24"> </span>the<span class="_ _24"> </span><span class="ff5">interrupts<span class="_ _3"> </span>enabled<span class="_ _24"> </span></span>register<span class="_ _24"> </span>so<span class="_ _24"> </span>the<span class="_ _7"> </span>CPU<span class="_ _24"> </span>may</div><div class="t m0 xf h8 y131e ff3 fs4 fc0 sc0 ls0 ws0">handle<span class="_ _2"> </span>new<span class="_ _2"> </span>in<span class="_ _1"></span>terrupts.</div><div class="t m0 xc h8 y131f ff7 fs4 fc0 sc0 ls0 ws0">NOTE:<span class="_ _20"> </span><span class="ff3">CPUs<span class="_ _3"> </span>usually<span class="_ _b"> </span>disable<span class="_ _3"> </span>interrupts<span class="_ _3"> </span>on<span class="_ _b"> </span>pow<span class="_ _27"></span>er-up<span class="_ _b"> </span>to<span class="_ _3"> </span>allow<span class="_ _3"> </span>the<span class="_ _3"> </span>b<span class="_ _5"></span>o<span class="_ _5"></span>ot<span class="_ _b"> </span>softw<span class="_ _27"></span>are<span class="_ _3"> </span>to<span class="_ _b"> </span>conﬁgure</span></div><div class="t m0 xc h8 y1320 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>hardw<span class="_ _1"></span>are<span class="_ _2"> </span>and<span class="_ _6"> </span>register<span class="_ _2"> </span>the<span class="_ _2"> </span>prop<span class="_ _5"></span>er<span class="_ _2"> </span>ISRs<span class="_ _2"> </span>b<span class="_ _5"></span>efore<span class="_ _2"> </span>the<span class="_ _2"> </span>system<span class="_ _2"> </span>tries<span class="_ _2"> </span>to<span class="_ _2"> </span>handle<span class="_ _2"> </span>interruptions.</div><div class="t m0 xf hb y1321 ff6 fs6 fc0 sc0 ls0 ws0">9.2.2<span class="_ _11"> </span>In<span class="_ _27"></span>voking<span class="_ _34"> </span>the<span class="_ _7"> </span>prop<span class="_ _22"></span>er<span class="_ _34"> </span>interrupt<span class="_ _34"> </span>service<span class="_ _7"> </span>routine</div><div class="t m0 xf h8 y1322 ff3 fs4 fc0 sc0 ls0 ws0">A<span class="_"> </span>computing<span class="_ _6"> </span>system<span class="_ _6"> </span>may<span class="_"> </span>con<span class="_ _1"></span>tain<span class="_"> </span>several<span class="_"> </span>p<span class="_ _5"></span>eripherals<span class="_ _6"> </span>that<span class="_ _6"> </span>ma<span class="_ _1"></span>y<span class="_"> </span>interrupt<span class="_"> </span>the<span class="_ _6"> </span>CPU.<span class="_ _6"> </span>Also,<span class="_ _6"> </span>each<span class="_"> </span>p<span class="_ _5"></span>eripheral</div><div class="t m0 xf h8 y1323 ff3 fs4 fc0 sc0 ls0 ws0">usually<span class="_ _34"> </span>requires<span class="_ _34"> </span>a<span class="_ _34"> </span>sp<span class="_ _5"></span>ecialized<span class="_ _34"> </span>routine<span class="_ _34"> </span>to<span class="_ _34"> </span>handle<span class="_ _34"> </span>its<span class="_ _34"> </span>interrupts.<span class="_ _39"> </span>F<span class="_ _9"></span>or<span class="_ _34"> </span>example,<span class="_ _7"> </span>a<span class="_ _34"> </span>keypad<span class="_ _b"> </span>controller<span class="_ _b"> </span>may</div><div class="t m0 xf h8 y1324 ff3 fs4 fc0 sc0 ls0 ws0">require<span class="_ _3"> </span>a<span class="_ _3"> </span>routine<span class="_ _3"> </span>that<span class="_ _3"> </span>adds<span class="_ _3"> </span>the<span class="_ _3"> </span>v<span class="_ _27"></span>alue<span class="_ _3"> </span>from<span class="_ _3"> </span>the<span class="_ _b"> </span>data<span class="_ _3"> </span>register<span class="_ _3"> </span>in<span class="_ _1"></span>to<span class="_ _3"> </span>a<span class="_ _3"> </span>queue<span class="_ _3"> </span>on<span class="_ _3"> </span>the<span class="_ _3"> </span>main<span class="_ _3"> </span>memory<span class="_ _3"> </span>while<span class="_ _3"> </span>a</div><div class="t m0 xf h8 y1325 ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _5"></span>oin<span class="_ _1"></span>ting<span class="_ _3"> </span>device<span class="_ _3"> </span>(mouse)<span class="_ _3"> </span>controller<span class="_ _2"> </span>may<span class="_ _2"> </span>need<span class="_ _b"> </span>another<span class="_ _3"> </span>action.<span class="_ _4"> </span>As<span class="_ _3"> </span>a<span class="_ _b"> </span>consequence,<span class="_ _3"> </span>whenever<span class="_ _2"> </span>an<span class="_ _3"> </span>interrupt</div><div class="t m0 xf h8 y1326 ff3 fs4 fc0 sc0 ls0 ws0">o<span class="_ _5"></span>ccurs,<span class="_ _6"> </span>the<span class="_ _6"> </span>system<span class="_ _6"> </span>has<span class="_ _6"> </span>to<span class="_ _6"> </span>p<span class="_ _5"></span>erform<span class="_ _6"> </span>tw<span class="_ _27"></span>o<span class="_ _6"> </span>tasks:<span class="_ _34"> </span>(i)<span class="_ _6"> </span>identify<span class="_"> </span>which<span class="_ _38"> </span>p<span class="_ _5"></span>eripheral<span class="_ _6"> </span>interrupted<span class="_"> </span>the<span class="_ _2"> </span>CPU,<span class="_ _6"> </span>and<span class="_ _6"> </span>(ii)</div><div class="t m0 xf h8 y1327 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>v<span class="_ _1"></span>ok<span class="_ _1"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>prop<span class="_ _5"></span>er<span class="_ _6"> </span>routine<span class="_ _2"> </span>to<span class="_ _2"> </span>handle<span class="_ _2"> </span>the<span class="_ _2"> </span>interrupt.</div><div class="t m0 xc h8 y1328 ff3 fs4 fc0 sc0 ls0 ws0">Dep<span class="_ _5"></span>ending<span class="_ _6"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>system<span class="_ _2"> </span>architecture,<span class="_ _6"> </span>these<span class="_ _2"> </span>t<span class="_ _1"></span>w<span class="_ _1"></span>o<span class="_ _6"> </span>tasks<span class="_ _2"> </span>may<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>p<span class="_ _5"></span>erformed<span class="_ _2"> </span>by<span class="_ _38"> </span>hardware,<span class="_ _6"> </span>by<span class="_ _6"> </span>softw<span class="_ _27"></span>are,</div><div class="t m0 xf h8 y1329 ff3 fs4 fc0 sc0 ls0 ws0">or<span class="_ _2"> </span>by<span class="_ _6"> </span>a<span class="_ _3"> </span>com<span class="_ _1"></span>bination<span class="_ _2"> </span>of<span class="_ _2"> </span>b<span class="_ _5"></span>oth.<span class="_ _24"> </span>In<span class="_ _2"> </span>fact,<span class="_ _3"> </span>there<span class="_ _2"> </span>are<span class="_ _3"> </span>sev<span class="_ _1"></span>eral<span class="_ _2"> </span>wa<span class="_ _27"></span>ys<span class="_ _2"> </span>of<span class="_ _3"> </span>iden<span class="_ _1"></span>tifying<span class="_ _2"> </span>which<span class="_ _6"> </span>p<span class="_ _5"></span>eripheral<span class="_ _3"> </span>in<span class="_ _27"></span>terrupted</div><div class="t m0 xf h8 y132a ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>CPU<span class="_ _b"> </span>and<span class="_ _b"> </span>in<span class="_ _27"></span>voking<span class="_ _b"> </span>the<span class="_ _b"> </span>proper<span class="_ _b"> </span>routine<span class="_ _b"> </span>to<span class="_ _b"> </span>handle<span class="_ _b"> </span>the<span class="_ _b"> </span>interrupt.<span class="_ _1c"> </span>T<span class="_ _9"></span>o<span class="_ _b"> </span>discuss<span class="_ _b"> </span>the<span class="_ _b"> </span>main<span class="_ _b"> </span>trade-oﬀs,<span class="_ _b"> </span>we</div><div class="t m0 xf h8 y132b ff3 fs4 fc0 sc0 ls0 ws0">will<span class="_ _2"> </span>consider<span class="_ _2"> </span>three<span class="_ _6"> </span>distinct<span class="_ _2"> </span>designs<span class="_ _2"> </span>that<span class="_ _2"> </span>we<span class="_ _6"> </span>will<span class="_ _2"> </span>call:<span class="_ _7"> </span>SW-only<span class="_ _9"></span>,<span class="_ _2"> </span>SW/HW,<span class="_ _2"> </span>and<span class="_ _2"> </span>HW-only<span class="_ _9"></span>.</div><div class="t m0 xf h8 y132c ff7 fs4 fc0 sc0 ls0 ws0">SW-only<span class="_ _3"> </span>design</div><div class="t m0 xf h8 y132d ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _34"> </span>the<span class="_ _7"> </span>SW-only<span class="_ _7"> </span>design,<span class="_ _7"> </span>the<span class="_ _7"> </span>ISR<span class="_ _7"> </span>is<span class="_ _7"> </span>resp<span class="_ _5"></span>onsible<span class="_ _34"> </span>for<span class="_ _7"> </span>identifying<span class="_ _34"> </span>which<span class="_ _b"> </span>p<span class="_ _5"></span>eripheral<span class="_ _7"> </span>interrupted<span class="_ _34"> </span>the<span class="_ _34"> </span>CPU,</div><div class="t m0 xf h8 y132e ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _2"> </span>inv<span class="_ _27"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span>prop<span class="_ _5"></span>er<span class="_ _2"> </span>routine<span class="_ _2"> </span>to<span class="_ _2"> </span>handle<span class="_ _2"> </span>the<span class="_ _2"> </span>interrupt.<span class="_ _7"> </span>In<span class="_ _2"> </span>this<span class="_ _2"> </span>approach,<span class="_ _6"> </span>up<span class="_ _5"></span>on<span class="_ _2"> </span>an<span class="_ _2"> </span>interrupt,<span class="_ _6"> </span>the<span class="_ _2"> </span>CPU</div><div class="t m0 xf h8 y132f ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>v<span class="_ _1"></span>ok<span class="_ _1"></span>es<span class="_"> </span>a<span class="_ _a"> </span>generic<span class="_"> </span>ISR<span class="_"> </span>that<span class="_"> </span>m<span class="_ _27"></span>ust<span class="_"> </span>perform<span class="_"> </span>b<span class="_ _5"></span>oth<span class="_"> </span>tasks.<span class="_ _b"> </span>Since<span class="_"> </span>there<span class="_"> </span>is<span class="_"> </span>no<span class="_ _a"> </span>hardware<span class="_ _a"> </span>supp<span class="_ _5"></span>ort<span class="_"> </span>to<span class="_"> </span>iden<span class="_ _27"></span>tify<span class="_"> </span>whic<span class="_ _1"></span>h</div><div class="t m0 xf h8 y1330 ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _5"></span>eripheral<span class="_ _38"> </span>interrupted<span class="_"> </span>the<span class="_ _6"> </span>CPU,<span class="_ _6"> </span>the<span class="_ _6"> </span>ISR<span class="_ _6"> </span>may<span class="_"> </span>hav<span class="_ _27"></span>e<span class="_ _6"> </span>to<span class="_ _6"> </span>interact<span class="_"> </span>with<span class="_ _6"> </span>all<span class="_ _6"> </span>p<span class="_ _5"></span>eripherals<span class="_ _38"> </span>to<span class="_ _6"> </span>ﬁnd<span class="_ _6"> </span>out<span class="_ _6"> </span>which<span class="_"> </span>one</div><div class="t m0 xf h8 y1331 ff3 fs4 fc0 sc0 ls0 ws0">is<span class="_ _3"> </span>requiring<span class="_ _b"> </span>the<span class="_ _3"> </span>CPU<span class="_ _b"> </span>attention.<span class="_ _2a"> </span>Once<span class="_ _3"> </span>the<span class="_ _b"> </span>ISR<span class="_ _3"> </span>ﬁnds<span class="_ _b"> </span>out<span class="_ _3"> </span>which<span class="_ _3"> </span>p<span class="_ _5"></span>eripheral<span class="_ _b"> </span>in<span class="_ _1"></span>terrupted<span class="_ _3"> </span>the<span class="_ _b"> </span>CPU,<span class="_ _3"> </span>it<span class="_ _b"> </span>can</div><div class="t m0 xf h8 y1332 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>v<span class="_ _1"></span>ok<span class="_ _1"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>prop<span class="_ _5"></span>er<span class="_ _6"> </span>interrupt<span class="_ _6"> </span>service<span class="_ _2"> </span>routine<span class="_ _2"> </span>to<span class="_ _2"> </span>handle<span class="_ _2"> </span>the<span class="_ _2"> </span>p<span class="_ _5"></span>eripheral<span class="_ _2"> </span>interrupt.</div><div class="t m0 xc h8 y1333 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _6"> </span>main<span class="_ _6"> </span>adv<span class="_ _27"></span>antage<span class="_ _38"> </span>of<span class="_ _2"> </span>this<span class="_ _6"> </span>approach<span class="_ _38"> </span>is<span class="_ _2"> </span>that<span class="_ _6"> </span>it<span class="_ _6"> </span>simpliﬁes<span class="_ _2"> </span>the<span class="_ _6"> </span>CPU<span class="_ _6"> </span>hardware<span class="_ _6"> </span>design,<span class="_ _6"> </span>which<span class="_ _38"> </span>is<span class="_ _2"> </span>usually</div><div class="t m0 xf h8 y1334 ff3 fs4 fc0 sc0 ls0 ws0">an<span class="_ _6"> </span>imp<span class="_ _5"></span>ortan<span class="_ _1"></span>t<span class="_ _6"> </span>goal<span class="_ _6"> </span>since<span class="_ _6"> </span>hardware<span class="_"> </span>bugs<span class="_ _6"> </span>are<span class="_ _6"> </span>hard<span class="_ _6"> </span>to<span class="_ _6"> </span>ﬁnd<span class="_ _6"> </span>and<span class="_ _6"> </span>do<span class="_ _2"> </span>not<span class="_ _6"> </span>allo<span class="_ _1"></span>w<span class="_ _6"> </span>easy<span class="_ _6"> </span>patching<span class="_"> </span>once<span class="_ _6"> </span>the<span class="_ _6"> </span>CPU<span class="_ _6"> </span>is</div><div class="t m0 xf h8 y1335 ff3 fs4 fc0 sc0 ls0 ws0">man<span class="_ _1"></span>ufactured<span class="_"> </span>and<span class="_ _a"> </span>sold.<span class="_ _34"> </span>Nonetheless,<span class="_"> </span>in<span class="_"> </span>case<span class="_ _a"> </span>there<span class="_"> </span>are<span class="_"> </span>sev<span class="_ _27"></span>eral<span class="_"> </span>peripherals<span class="_"> </span>or<span class="_ _a"> </span>p<span class="_ _5"></span>eripherals<span class="_"> </span>are<span class="_"> </span>slo<span class="_ _27"></span>w,<span class="_"> </span>the<span class="_"> </span>ISR</div><div class="t m0 xf h8 y1336 ff3 fs4 fc0 sc0 ls0 ws0">ma<span class="_ _1"></span>y<span class="_ _6"> </span>tak<span class="_ _1"></span>e<span class="_ _6"> </span>a<span class="_ _6"> </span>long<span class="_ _6"> </span>time<span class="_ _6"> </span>trying<span class="_ _6"> </span>to<span class="_ _6"> </span>ﬁgure<span class="_ _6"> </span>out<span class="_ _6"> </span>whic<span class="_ _1"></span>h<span class="_ _6"> </span>p<span class="_ _5"></span>eripheral<span class="_ _38"> </span>interrupted<span class="_ _38"> </span>the<span class="_ _6"> </span>CPU.<span class="_ _6"> </span>This<span class="_ _6"> </span>may<span class="_"> </span>aﬀect<span class="_ _6"> </span>ov<span class="_ _27"></span>erall</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y142 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x11e h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Ma<span class="_ _1"></span>y<span class="_ _6"> </span>31,<span class="_ _2"> </span>202<span class="_ _5"></span>4)</div><div class="t m0 x9b h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">122</div><a class="l" href="#pf87" data-dest-detail='[135,"XYZ",86.944,556.202,null]'><div class="d m1" style="border-style:none;position:absolute;left:273.650000px;bottom:539.576000px;width:6.974000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.578,null]'><div class="d m1" style="border-style:none;position:absolute;left:483.204000px;bottom:539.576000px;width:41.068000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.578,null]'><div class="d m1" style="border-style:none;position:absolute;left:71.004000px;bottom:527.620000px;width:65.161000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.578,null]'><div class="d m1" style="border-style:none;position:absolute;left:249.496000px;bottom:527.620000px;width:107.242000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:333.396000px;bottom:515.112000px;width:23.440000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.578,null]'><div class="d m1" style="border-style:none;position:absolute;left:288.373000px;bottom:503.710000px;width:108.308000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:426.266000px;bottom:491.755000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.578,null]'><div class="d m1" style="border-style:none;position:absolute;left:140.238000px;bottom:467.568000px;width:110.525000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:477.920000px;bottom:467.568000px;width:23.440000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:132.810000px;bottom:429.486000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,436.999,null]'><div class="d m1" style="border-style:none;position:absolute;left:251.199000px;bottom:417.530000px;width:18.459000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:403.959000px;bottom:362.981000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,499.142,null]'><div class="d m1" style="border-style:none;position:absolute;left:426.940000px;bottom:339.070000px;width:62.387000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:462.585000px;bottom:314.607000px;width:23.439000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:88.750000px;bottom:267.339000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,436.999,null]'><div class="d m1" style="border-style:none;position:absolute;left:197.427000px;bottom:211.099000px;width:18.459000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:498.065000px;bottom:211.099000px;width:23.439000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:500.832000px;bottom:199.144000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,436.999,null]'><div class="d m1" style="border-style:none;position:absolute;left:145.674000px;bottom:187.189000px;width:18.459000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:187.058000px;bottom:175.233000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,436.999,null]'><div class="d m1" style="border-style:none;position:absolute;left:231.191000px;bottom:175.233000px;width:18.459000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:141.968000px;bottom:163.278000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,436.999,null]'><div class="d m1" style="border-style:none;position:absolute;left:258.908000px;bottom:163.278000px;width:18.459000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:468.909000px;bottom:163.278000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:352.248000px;bottom:139.368000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:491.049000px;bottom:127.413000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,436.999,null]'><div class="d m1" style="border-style:none;position:absolute;left:505.813000px;bottom:115.458000px;width:18.459000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:396.058000px;bottom:103.502000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

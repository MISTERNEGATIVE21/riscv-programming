<div id="pf36" class="pf w0 h0" data-page-no="36"><div class="pc pc36 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg36.png"/><div class="t m0 xf h8 y10c ff3 fs4 fc0 sc0 ls0 ws0">4.1.<span class="_ _1f"> </span>COMMENTS</div><div class="t m0 xf he y57 ff6 fs3 fc0 sc0 ls0 ws0">4.1<span class="_ _37"> </span>Commen<span class="_ _27"></span>ts</div><div class="t m0 xf h8 y862 ff3 fs4 fc0 sc0 ls0 ws0">R<span class="_ _12"></span>V32I<span class="_"> </span>assembly<span class="_"> </span>programs<span class="_"> </span>ma<span class="_ _27"></span>y<span class="_ _6"> </span>con<span class="_ _1"></span>tain<span class="_"> </span>line<span class="_"> </span>or<span class="_"> </span>multi-line<span class="_"> </span>comments.<span class="_ _b"> </span>On<span class="_"> </span>GNU<span class="_"> </span>ass<span class="_ _5"></span>em<span class="_ _27"></span>blers,<span class="_ _6"> </span>line<span class="_"> </span>comments</div><div class="t m0 xf h8 y863 ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _3"> </span>delimited<span class="_ _b"> </span>b<span class="_ _27"></span>y<span class="_ _b"> </span>a<span class="_ _3"> </span>line<span class="_ _b"> </span>commen<span class="_ _1"></span>t<span class="_ _3"> </span>character,<span class="_ _3"> </span>which<span class="_ _2"> </span>is<span class="_ _b"> </span>target<span class="_ _3"> </span>sp<span class="_ _5"></span>eciﬁc,<span class="_ _b"> </span><span class="ff8">i.e.</span>,<span class="_ _b"> </span>it<span class="_ _3"> </span>dep<span class="_ _5"></span>ends<span class="_ _b"> </span>on<span class="_ _3"> </span>the<span class="_ _3"> </span>target<span class="_ _b"> </span>ISA.</div><div class="t m0 xf h8 y864 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>R<span class="_ _12"></span>V32I<span class="_ _3"> </span>GNU<span class="_ _3"> </span>assembler<span class="_ _2"> </span>uses<span class="_ _3"> </span>the<span class="_ _3"> </span><span class="ff5">#<span class="_ _3"> </span></span>character<span class="_ _2"> </span>as<span class="_ _3"> </span>the<span class="_ _3"> </span>line<span class="_ _3"> </span>comment<span class="_ _2"> </span>character.<span class="_ _18"> </span>All<span class="_ _3"> </span>characters<span class="_ _2"> </span>lo<span class="_ _5"></span>cated</div><div class="t m0 xf h8 y865 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>et<span class="_ _1"></span>w<span class="_ _1"></span>een<span class="_ _6"> </span>the<span class="_ _2"> </span>ﬁrst<span class="_ _2"> </span>o<span class="_ _5"></span>ccurrence<span class="_ _6"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>line<span class="_ _2"> </span>comment<span class="_"> </span>character<span class="_ _6"> </span>(<span class="ff8">e.g.</span>,<span class="_ _2"> </span><span class="ff5">#</span>)<span class="_ _2"> </span>on<span class="_ _6"> </span>the<span class="_ _2"> </span>line<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _6"> </span>end<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>same</div><div class="t m0 xf h8 y866 ff3 fs4 fc0 sc0 ls0 ws0">line<span class="_"> </span>are<span class="_ _6"> </span>considered<span class="_"> </span>part<span class="_ _6"> </span>of<span class="_"> </span>the<span class="_ _6"> </span>comment.<span class="_ _b"> </span>The<span class="_ _6"> </span>following<span class="_"> </span>assem<span class="_ _1"></span>bly<span class="_"> </span>co<span class="_ _5"></span>de<span class="_ _38"> </span>shows<span class="_"> </span>examples<span class="_ _6"> </span>of<span class="_"> </span>line<span class="_ _6"> </span>comments.</div><div class="t m0 x114 h9 y867 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">x:<span class="_ _4"> </span>.word<span class="_ _18"> </span>10<span class="_ _8a"> </span>#<span class="_ _4"> </span>this<span class="_ _4"> </span>is<span class="_ _4"> </span>a<span class="_ _18"> </span>comment</span></div><div class="t m0 x114 h9 y868 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">foo:<span class="_ _96"> </span>#<span class="_ _18"> </span>my<span class="_ _4"> </span>special<span class="_ _4"> </span>function</span></div><div class="t m0 x114 h9 y869 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _7a"> </span><span class="ff5 fs4">addi<span class="_ _4"> </span>a0,<span class="_ _4"> </span>a1,<span class="_ _4"> </span>1<span class="_ _18"> </span>#<span class="_ _4"> </span>add<span class="_ _4"> </span>one<span class="_ _4"> </span>to<span class="_ _4"> </span>a1<span class="_ _18"> </span>and<span class="_ _4"> </span>store<span class="_ _4"> </span>on<span class="_ _4"> </span>a0<span class="_ _18"> </span>#</span></div><div class="t m0 x114 h9 y86a ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _2a"> </span><span class="ff5 fs4">#<span class="_ _4"> </span>this<span class="_ _18"> </span>is<span class="_ _4"> </span>#<span class="_ _4"> </span>another<span class="_ _4"> </span>#<span class="_ _18"> </span>comment<span class="_ _4"> </span>##<span class="_ _4"> </span>#</span></div><div class="t m0 xc h8 y86b ff3 fs4 fc0 sc0 ls0 ws0">As<span class="_ _35"> </span>comments<span class="_ _35"> </span>are<span class="_ _a"> </span>discarded<span class="_ _a"> </span>by<span class="_ _35"> </span>the<span class="_ _a"> </span>assem<span class="_ _1"></span>bler<span class="_ _35"> </span>prepro<span class="_ _5"></span>cessor,<span class="_"> </span>the<span class="_ _35"> </span>previous<span class="_ _a"> </span>co<span class="_ _5"></span>de<span class="_ _a"> </span>is<span class="_ _a"> </span>seman<span class="_ _1"></span>tically<span class="_ _a"> </span>equiv<span class="_ _27"></span>alen<span class="_ _1"></span>t</div><div class="t m0 xf h8 y86c ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _2"> </span>the<span class="_ _2"> </span>follo<span class="_ _1"></span>wing<span class="_ _6"> </span>co<span class="_ _5"></span>de.</div><div class="t m0 x114 h9 y86d ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">x:<span class="_ _4"> </span>.word<span class="_ _18"> </span>10</span></div><div class="t m0 x114 h9 y86e ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">foo:</span></div><div class="t m0 x114 h9 y86f ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _7a"> </span><span class="ff5 fs4">addi<span class="_ _4"> </span>a0,<span class="_ _4"> </span>a1,<span class="_ _4"> </span>1</span></div><div class="t m0 xc h8 y870 ff3 fs4 fc0 sc0 ls0 ws0">A<span class="_ _a"> </span>multi-line<span class="_ _a"> </span>comment<span class="_ _35"> </span>is<span class="_"> </span>a<span class="_ _a"> </span>commen<span class="_ _1"></span>t<span class="_ _a"> </span>that<span class="_"> </span>spans<span class="_ _a"> </span>m<span class="_ _1"></span>ultiple<span class="_ _a"> </span>lines.<span class="_ _34"> </span>On<span class="_"> </span>GNU<span class="_ _35"> </span>assemblers,<span class="_"> </span>they<span class="_ _35"> </span>are<span class="_"> </span>delimited</div><div class="t m0 xf h8 y871 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _2"> </span>the<span class="_ _2"> </span>pair<span class="_ _6"> </span><span class="ff5">/*<span class="_ _2"> </span></span>and<span class="_ _2"> </span><span class="ff5">*/</span>.</div><div class="t m0 x114 h9 y872 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">sum1:</span></div><div class="t m0 x114 h9 y873 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">/*<span class="_ _4"> </span>This</span></div><div class="t m0 x114 h9 y874 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _7a"> </span><span class="ff5 fs4">is</span></div><div class="t m0 x114 h9 y875 ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _80"> </span><span class="ff5 fs4">a</span></div><div class="t m0 x114 h9 y876 ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _69"> </span><span class="ff5 fs4">multi-line</span></div><div class="t m0 x114 h9 y877 ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _97"> </span><span class="ff5 fs4">comment.</span></div><div class="t m0 x114 h9 y878 ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _2a"> </span><span class="ff5 fs4">*/</span></div><div class="t m0 x114 h9 y879 ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _37"> </span><span class="ff5 fs4">addi<span class="_ _18"> </span>a0,<span class="_ _4"> </span>a1,<span class="_ _4"> </span>1</span></div><div class="t m0 x114 h9 y87a ff22 fs11 fc0 sc0 ls0 ws0">9<span class="_ _37"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 xc h8 y87b ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>previous<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _6"> </span>is<span class="_ _2"> </span>semantically<span class="_ _6"> </span>equiv<span class="_ _27"></span>alent<span class="_ _6"> </span>to<span class="_ _2"> </span>the<span class="_ _2"> </span>following<span class="_ _6"> </span>co<span class="_ _5"></span>de:</div><div class="t m0 x114 h9 y87c ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">sum1:<span class="_ _4"> </span>addi<span class="_ _18"> </span>a0,<span class="_ _4"> </span>a1,<span class="_ _4"> </span>1</span></div><div class="t m0 x114 h9 y87d ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _69"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 xf he y87e ff6 fs3 fc0 sc0 ls0 ws0">4.2<span class="_ _37"> </span>Assem<span class="_ _27"></span>bly<span class="_ _4"> </span>instructions</div><div class="t m0 xf h8 y87f ff3 fs4 fc0 sc0 ls0 ws0">Assem<span class="_ _1"></span>bly<span class="_ _b"> </span>instructions<span class="_ _b"> </span>are<span class="_ _34"> </span>instructions<span class="_ _b"> </span>that<span class="_ _34"> </span>are<span class="_ _b"> </span>conv<span class="_ _27"></span>erted<span class="_ _34"> </span>by<span class="_ _3"> </span>the<span class="_ _34"> </span>assembler<span class="_ _3"> </span>into<span class="_ _b"> </span>machine<span class="_ _3"> </span>instructions.</div><div class="t m0 xf h8 y880 ff3 fs4 fc0 sc0 ls0 ws0">They<span class="_ _6"> </span>are<span class="_ _6"> </span>usually<span class="_ _6"> </span>enco<span class="_ _5"></span>ded<span class="_ _6"> </span>as<span class="_ _6"> </span>a<span class="_ _6"> </span>string<span class="_ _6"> </span>that<span class="_ _6"> </span>contains<span class="_"> </span>a<span class="_ _6"> </span>mnemonic<span class="_ _6"> </span>and<span class="_ _6"> </span>a<span class="_ _6"> </span>sequence<span class="_ _6"> </span>of<span class="_ _6"> </span>parameters,<span class="_ _6"> </span>known<span class="_"> </span>as</div><div class="t m0 xf h8 y881 ff3 fs4 fc0 sc0 ls0 ws0">op<span class="_ _5"></span>erands.<span class="_ _34"> </span>F<span class="_ _9"></span>or<span class="_ _2"> </span>example,<span class="_ _2"> </span>the<span class="_ _6"> </span>assembly<span class="_ _6"> </span>instruction<span class="_ _2"> </span>“<span class="ff5">add<span class="_ _18"> </span>x10,<span class="_ _4"> </span>x11,<span class="_ _4"> </span>x12</span>”,<span class="_ _2"> </span>whic<span class="_ _1"></span>h<span class="_ _6"> </span>is<span class="_ _2"> </span>enco<span class="_ _5"></span>ded<span class="_ _6"> </span>as<span class="_ _2"> </span>plain<span class="_ _2"> </span>text</div><div class="t m0 xf h8 y882 ff3 fs4 fc0 sc0 ls0 ws0">using<span class="_ _b"> </span>17<span class="_ _b"> </span>bytes<span class="_ _b"> </span>(one<span class="_ _b"> </span>for<span class="_ _b"> </span>each<span class="_ _b"> </span>character),<span class="_ _b"> </span>is<span class="_ _b"> </span>conv<span class="_ _27"></span>erted<span class="_ _34"> </span>b<span class="_ _1"></span>y<span class="_ _b"> </span>the<span class="_ _b"> </span>assembler<span class="_ _b"> </span>into<span class="_ _3"> </span>its<span class="_ _34"> </span>corresp<span class="_ _5"></span>onding<span class="_ _b"> </span>machine</div><div class="t m0 xf h8 y883 ff3 fs4 fc0 sc0 ls0 ws0">instruction,<span class="_ _2"> </span>whic<span class="_ _1"></span>h<span class="_ _2"> </span>is<span class="_ _6"> </span>enco<span class="_ _5"></span>ded<span class="_ _2"> </span>in<span class="_ _2"> </span>four<span class="_ _2"> </span>bytes<span class="_ _6"> </span>as<span class="_ _2"> </span>“<span class="ff5">0x00c58533</span>”.</div><div class="t m0 xc h8 y884 ff3 fs4 fc0 sc0 ls0 ws0">A<span class="_ _3"> </span><span class="ff7">pseudo-instruction<span class="_ _3"> </span></span>is<span class="_ _b"> </span>an<span class="_ _3"> </span>assembly<span class="_ _3"> </span>instruction<span class="_ _3"> </span>that<span class="_ _3"> </span>do<span class="_ _5"></span>es<span class="_ _b"> </span>not<span class="_ _3"> </span>hav<span class="_ _27"></span>e<span class="_ _3"> </span>a<span class="_ _b"> </span>corresp<span class="_ _5"></span>onding<span class="_ _3"> </span>machine<span class="_ _2"> </span>in-</div><div class="t m0 xf h8 y885 ff3 fs4 fc0 sc0 ls0 ws0">struction<span class="_ _6"> </span>on<span class="_ _6"> </span>the<span class="_ _6"> </span>ISA,<span class="_ _2"> </span>but<span class="_ _6"> </span>can<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _6"> </span>translated<span class="_ _2"> </span>automatically<span class="_ _6"> </span>by<span class="_"> </span>the<span class="_ _2"> </span>assem<span class="_ _1"></span>bler<span class="_ _6"> </span>into<span class="_"> </span>one<span class="_ _6"> </span>or<span class="_ _2"> </span>more<span class="_ _6"> </span>alternative</div><div class="t m0 xf h8 y886 ff3 fs4 fc0 sc0 ls0 ws0">mac<span class="_ _1"></span>hine<span class="_"> </span>instructions<span class="_ _a"> </span>to<span class="_"> </span>ac<span class="_ _27"></span>hieve<span class="_ _a"> </span>the<span class="_"> </span>same<span class="_"> </span>eﬀect.<span class="_ _b"> </span>As<span class="_"> </span>an<span class="_ _a"> </span>example,<span class="_"> </span>the<span class="_"> </span>no<span class="_ _a"> </span>op<span class="_ _5"></span>eration<span class="_"> </span>instruction,<span class="_"> </span>or<span class="_ _a"> </span>“<span class="ff5">nop</span>”,<span class="_"> </span>is</div><div class="t m0 xf h8 y887 ff3 fs4 fc0 sc0 ls0 ws0">a<span class="_ _6"> </span>R<span class="_ _12"></span>V32I<span class="_ _6"> </span>pseudo-instruction<span class="_ _6"> </span>that<span class="_ _6"> </span>is<span class="_ _6"> </span>conv<span class="_ _27"></span>erted<span class="_ _2"> </span>b<span class="_ _1"></span>y<span class="_ _6"> </span>the<span class="_ _6"> </span>assembler<span class="_"> </span>into<span class="_"> </span>the<span class="_ _2"> </span>“<span class="ff5">addi<span class="_ _4"> </span>x0,<span class="_ _18"> </span>x0,<span class="_ _4"> </span>0</span>”<span class="_ _6"> </span>instruction</div><div class="t m0 x41 h11 y888 ffc fs7 fc0 sc0 ls0 ws0">2</div><div class="t m0 x42 h8 y887 ff3 fs4 fc0 sc0 ls0 ws0">.</div><div class="t m0 x2b h1d y141 fff fsd fc0 sc0 ls0 ws0">2</div><div class="t m0 xc h1e ye2 ff10 fse fc0 sc0 ls0 ws0">This<span class="_ _38"> </span>instruction<span class="_ _38"> </span>adds<span class="_ _38"> </span>zero<span class="_ _38"> </span>to<span class="_ _38"> </span>zero<span class="_ _38"> </span>and<span class="_ _38"> </span>discards<span class="_ _38"> </span>the<span class="_ _38"> </span>results<span class="_ _38"> </span>by<span class="_ _89"> </span>storing<span class="_ _38"> </span>it<span class="_ _38"> </span>on<span class="_ _38"> </span>register<span class="_ _38"> </span>x0,<span class="_ _38"> </span>which<span class="_ _38"> </span>is<span class="_ _38"> </span>hard-wired<span class="_ _38"> </span>to<span class="_ _38"> </span>zero.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y142 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x11e h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Ma<span class="_ _1"></span>y<span class="_ _6"> </span>31,<span class="_ _2"> </span>2024<span class="_ _5"></span>)</div><div class="t m0 xb7 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">41</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,468.88,null]'><div class="d m1" style="border-style:none;position:absolute;left:502.907000px;bottom:686.356000px;width:18.597000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,132.717,null]'><div class="d m1" style="border-style:none;position:absolute;left:97.138000px;bottom:151.698000px;width:94.834000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,468.88,null]'><div class="d m1" style="border-style:none;position:absolute;left:143.590000px;bottom:139.743000px;width:18.597000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,132.717,null]'><div class="d m1" style="border-style:none;position:absolute;left:109.463000px;bottom:115.833000px;width:82.385000px;height:12.039000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",87.243,111.352,null]'><div class="d m1" style="border-style:none;position:absolute;left:515.043000px;bottom:115.833000px;width:6.461000px;height:12.039000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>

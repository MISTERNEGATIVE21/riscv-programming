<div id="pf5e" class="pf w0 h0" data-page-no="5e"><div class="pc pc5e w0 h0"><img class="bi x13 y2d8 w2 h2b" alt="" src="bg5e.png"/><div class="t m0 x13 h7 y15a ff3 fs4 fc0 sc0 ls0 ws0">CHAPTER<span class="_ _2"> </span>7.<span class="_ _22"> </span>CONTROLLING<span class="_ _5"> </span>THE<span class="_ _2"> </span>EXECUTION<span class="_ _2"> </span>FLOW</div><div class="t m0 x13 h7 y38 ff3 fs4 fc0 sc0 ls0 ws0">lab<span class="_ _4"></span>el.<span class="_ _11"> </span>Otherwise,<span class="_ _d"> </span>it<span class="_ _d"> </span>executes<span class="_ _d"> </span>the<span class="_ _d"> </span>next<span class="_ _d"> </span>instruction<span class="_ _d"> </span>(line<span class="_ _d"> </span>5),<span class="_ _d"> </span>which<span class="_ _2"> </span>corresp<span class="_ _4"></span>onds<span class="_ _d"> </span>to<span class="_ _d"> </span>the</div><div class="t m0 x13 h7 yed ff3 fs4 fc0 sc0 ls0 ws0">ﬁrst<span class="_ _2"> </span>instruction<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>“then<span class="_ _2"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”.</div><div class="t m0 xd5 h8 yfe1 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _7d"> </span><span class="ff5 fs4">li<span class="_ _40"> </span>t1,<span class="_ _e"> </span>10</span></div><div class="t m0 xd5 h8 yfe2 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _7d"> </span><span class="ff5 fs4">bge<span class="_ _86"> </span>a1,<span class="_ _e"> </span>t1,<span class="_ _e"> </span>then<span class="_ _11"> </span>#<span class="_ _e"> </span>jumps<span class="_ _e"> </span>to<span class="_ _e"> </span>then<span class="_ _11"> </span>if<span class="_ _e"> </span>x<span class="_ _e"> </span>&gt;=<span class="_ _e"> </span>10</span></div><div class="t m0 xd5 h8 yfe3 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _7d"> </span><span class="ff5 fs4">li<span class="_ _40"> </span>t1,<span class="_ _e"> </span>20</span></div><div class="t m0 xd5 h8 yfe4 ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _7d"> </span><span class="ff5 fs4">bge<span class="_ _86"> </span>a2,<span class="_ _e"> </span>t1,<span class="_ _e"> </span>skip<span class="_ _11"> </span>#<span class="_ _e"> </span>jumps<span class="_ _e"> </span>to<span class="_ _e"> </span>skip<span class="_ _11"> </span>if<span class="_ _e"> </span>y<span class="_ _e"> </span>&gt;=<span class="_ _e"> </span>20</span></div><div class="t m0 xd5 h8 yfe5 ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _1f"> </span><span class="ff5 fs4">then:</span></div><div class="t m0 xd5 h8 yfe6 ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _7d"> </span><span class="ff5 fs4">mv<span class="_ _40"> </span>a1,<span class="_ _e"> </span>a2<span class="_ _c6"> </span>#<span class="_ _e"> </span>x<span class="_ _11"> </span>=<span class="_ _e"> </span>y</span></div><div class="t m0 xd5 h8 yfe7 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _1f"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x13 ha yfe8 ff6 fs6 fc0 sc0 ls0 ws0">7.1.5<span class="_ _17"> </span>Nested<span class="_ _c"> </span>if<span class="_ _c"> </span>statemen<span class="_ _8"></span>ts</div><div class="t m0 x13 h7 yfe9 ff3 fs4 fc0 sc0 ls0 ws0">Nested<span class="_ _a"> </span><span class="ff5">if-then<span class="_ _3"> </span></span>and<span class="_ _3"> </span><span class="ff5">if-then-else<span class="_ _a"> </span></span>are<span class="_ _3"> </span>if<span class="_ _a"> </span>statements<span class="_ _a"> </span>in<span class="_ _3"> </span>which<span class="_ _d"> </span>the<span class="_ _3"> </span>“then<span class="_ _3"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”<span class="_ _a"> </span>or</div><div class="t m0 x13 h7 yfea ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _a"> </span>“else<span class="_ _a"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”<span class="_ _a"> </span>contain<span class="_ _d"> </span>other<span class="_ _a"> </span>if<span class="_ _a"> </span>statements.<span class="_ _1b"> </span>The<span class="_ _a"> </span>following<span class="_ _d"> </span>co<span class="_ _4"></span>de<span class="_ _d"> </span>shows<span class="_ _d"> </span>an<span class="_ _a"> </span>example</div><div class="t m0 x13 h7 yfeb ff3 fs4 fc0 sc0 ls0 ws0">of<span class="_ _a"> </span>a<span class="_ _a"> </span>nested<span class="_ _a"> </span><span class="ff5">if-then<span class="_ _a"> </span></span>statement.<span class="_ _1b"> </span>Notice<span class="_ _3"> </span>that<span class="_ _a"> </span>there<span class="_ _a"> </span>are<span class="_ _a"> </span>tw<span class="_ _8"></span>o<span class="_ _a"> </span><span class="ff5">if-then<span class="_ _3"> </span></span>statemen<span class="_ _8"></span>ts:<span class="_ _1b"> </span>an</div><div class="t m0 x13 h7 yfec ff3 fs4 fc0 sc0 ls0 ws0">outer<span class="_ _3"> </span>one<span class="_ _c"> </span>(lines<span class="_ _c"> </span>1-8)<span class="_ _c"> </span>and<span class="_ _3"> </span>an<span class="_ _c"> </span>inner<span class="_ _c"> </span>one<span class="_ _c"> </span>(lines<span class="_ _3"> </span>4-7).<span class="_ _22"> </span>The<span class="_ _c"> </span>“then<span class="_ _c"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”<span class="_ _c"> </span>of<span class="_ _3"> </span>the<span class="_ _c"> </span>outer</div><div class="t m0 x13 h7 yfed ff5 fs4 fc0 sc0 ls0 ws0">if-then<span class="_ _d"> </span><span class="ff3">statement<span class="_ _d"> </span>contains<span class="_ _2"> </span>tw<span class="_ _8"></span>o<span class="_ _a"> </span>statements:<span class="_ _11"> </span>a<span class="_ _d"> </span>v<span class="_ _8"></span>ariable<span class="_ _a"> </span>assignment<span class="_ _2"> </span>(line<span class="_ _a"> </span>3)<span class="_ _a"> </span>and<span class="_ _d"> </span>the</span></div><div class="t m0 x13 h7 yfee ff3 fs4 fc0 sc0 ls0 ws0">inner<span class="_ _2"> </span><span class="ff5">if-then<span class="_ _2"> </span></span>statemen<span class="_ _1"></span>t<span class="_ _2"> </span>(lines<span class="_ _2"> </span>4-7).</div><div class="t m0 xd5 h8 yfef ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _1f"> </span><span class="ff5 fs4">if<span class="_ _e"> </span>(x<span class="_ _11"> </span>==<span class="_ _e"> </span>10)</span></div><div class="t m0 xd5 h8 yff0 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _1f"> </span><span class="ff5 fs4">{</span></div><div class="t m0 xd5 h8 yff1 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _36"> </span><span class="ff5 fs4">x<span class="_ _11"> </span>=<span class="_ _e"> </span>5;</span></div><div class="t m0 xd5 h8 yff2 ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _36"> </span><span class="ff5 fs4">if<span class="_ _11"> </span>(y<span class="_ _e"> </span>==<span class="_ _e"> </span>20)</span></div><div class="t m0 xd5 h8 yff3 ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _36"> </span><span class="ff5 fs4">{</span></div><div class="t m0 xd5 h8 yff4 ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _7f"> </span><span class="ff5 fs4">x<span class="_ _e"> </span>=<span class="_ _11"> </span>0;</span></div><div class="t m0 xd5 h8 yff5 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _36"> </span><span class="ff5 fs4">}</span></div><div class="t m0 xd5 h8 yff6 ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _1f"> </span><span class="ff5 fs4">}</span></div><div class="t m0 x14 h7 yff7 ff3 fs4 fc0 sc0 ls0 ws0">T<span class="_ _7"></span>ranslating the<span class="_ _12"> </span>previous code to assem<span class="_ _8"></span>bly code can<span class="_ _13"> </span>be easily done<span class="_ _12"> </span>by<span class="_ _13"> </span>starting<span class="_ _13"> </span>with</div><div class="t m0 x13 h7 yff8 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _a"> </span>outer<span class="_ _a"> </span><span class="ff5">if-then<span class="_ _a"> </span></span>statement.<span class="_ _1b"> </span>Assuming<span class="_ _a"> </span><span class="ff5">x<span class="_ _3"> </span></span>and<span class="_ _a"> </span><span class="ff5">y<span class="_ _a"> </span></span>are<span class="_ _a"> </span>v<span class="_ _8"></span>ariables<span class="_ _a"> </span>mapp<span class="_ _4"></span>ed<span class="_ _a"> </span>to<span class="_ _a"> </span>registers</div><div class="t m0 x13 h7 yff9 ff5 fs4 fc0 sc0 ls0 ws0">a1<span class="_ _2"> </span><span class="ff3">and<span class="_ _2"> </span></span>a2<span class="ff3">,<span class="_ _d"> </span>resp<span class="_ _4"></span>ectiv<span class="_ _8"></span>ely<span class="_ _7"></span>,<span class="_ _2"> </span>the<span class="_ _d"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _2"> </span>sho<span class="_ _1"></span>ws<span class="_ _2"> </span>the<span class="_ _2"> </span>skeleton<span class="_ _2"> </span>for<span class="_ _2"> </span>the<span class="_ _2"> </span>outer<span class="_ _d"> </span><span class="ff5">if-then</span></span></div><div class="t m0 x13 h7 yffa ff3 fs4 fc0 sc0 ls0 ws0">statemen<span class="_ _1"></span>t.</div><div class="t m0 xd5 h8 yffb ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _7d"> </span><span class="ff5 fs4">li<span class="_ _40"> </span>t1,<span class="_ _e"> </span>10</span></div><div class="t m0 xd5 h8 yffc ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _7d"> </span><span class="ff5 fs4">bne<span class="_ _86"> </span>a1,<span class="_ _e"> </span>t1,<span class="_ _e"> </span>skip<span class="_ _11"> </span>#<span class="_ _e"> </span>jumps<span class="_ _e"> </span>to<span class="_ _e"> </span>skip<span class="_ _11"> </span>if<span class="_ _e"> </span>x<span class="_ _e"> </span>!=<span class="_ _e"> </span>10</span></div><div class="t m0 xd5 h8 yffd ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _c8"> </span><span class="ff5 fs4">#<span class="_ _11"> </span>&lt;=<span class="_ _e"> </span>Insert<span class="_ _e"> </span>the<span class="_ _e"> </span>code<span class="_ _11"> </span>for<span class="_ _e"> </span>the<span class="_ _e"> </span>then<span class="_ _e"> </span>block<span class="_ _11"> </span>here</span></div><div class="t m0 xd5 h8 yffe ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _1f"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x14 h7 yfff ff3 fs4 fc0 sc0 ls0 ws0">Once<span class="_ _2"> </span>the<span class="_ _5"> </span>skeleton<span class="_ _5"> </span>co<span class="_ _4"></span>de<span class="_ _2"> </span>is<span class="_ _2"> </span>generated,<span class="_ _2"> </span>the<span class="_ _5"> </span>next<span class="_ _2"> </span>step<span class="_ _2"> </span>is<span class="_ _2"> </span>to<span class="_ _2"> </span>generate<span class="_ _2"> </span>the<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _5"> </span>for<span class="_ _2"> </span>the</div><div class="t m0 x13 h7 y1000 ff3 fs4 fc0 sc0 ls0 ws0">“then<span class="_ _2"> </span>blo<span class="_ _4"></span>c<span class="_ _8"></span>k”.<span class="_ _c"> </span>The<span class="_ _2"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _4"></span>de<span class="_ _5"> </span>shows<span class="_ _5"> </span>the<span class="_ _2"> </span>ﬁnal<span class="_ _2"> </span>co<span class="_ _4"></span>de.</div><div class="t m0 xd5 h8 y1001 ff24 fs12 fc0 sc0 ls0 ws0">1<span class="_ _7d"> </span><span class="ff5 fs4">li<span class="_ _40"> </span>t1,<span class="_ _e"> </span>10</span></div><div class="t m0 xd5 h8 y1002 ff24 fs12 fc0 sc0 ls0 ws0">2<span class="_ _7d"> </span><span class="ff5 fs4">bne<span class="_ _86"> </span>a1,<span class="_ _e"> </span>t1,<span class="_ _e"> </span>skip<span class="_ _64"> </span>#<span class="_ _e"> </span>jumps<span class="_ _e"> </span>to<span class="_ _e"> </span>skip<span class="_ _e"> </span>if<span class="_ _11"> </span>x<span class="_ _e"> </span>!=<span class="_ _e"> </span>10</span></div><div class="t m0 xd5 h8 y1003 ff24 fs12 fc0 sc0 ls0 ws0">3<span class="_ _7d"> </span><span class="ff5 fs4">li<span class="_ _40"> </span>a1,<span class="_ _e"> </span>5<span class="_ _50"> </span>#<span class="_ _e"> </span>x<span class="_ _e"> </span>=<span class="_ _e"> </span>5</span></div><div class="t m0 xd5 h8 y1004 ff24 fs12 fc0 sc0 ls0 ws0">4<span class="_ _7d"> </span><span class="ff5 fs4">li<span class="_ _40"> </span>t1,<span class="_ _e"> </span>20</span></div><div class="t m0 xd5 h8 y1005 ff24 fs12 fc0 sc0 ls0 ws0">5<span class="_ _7d"> </span><span class="ff5 fs4">bne<span class="_ _86"> </span>a2,<span class="_ _e"> </span>20,<span class="_ _e"> </span>skip_inner<span class="_ _11"> </span>#<span class="_ _e"> </span>jumps<span class="_ _e"> </span>to<span class="_ _e"> </span>skip_inner<span class="_ _11"> </span>if<span class="_ _e"> </span>y<span class="_ _e"> </span>!=<span class="_ _e"> </span>20</span></div><div class="t m0 xd5 h8 y1006 ff24 fs12 fc0 sc0 ls0 ws0">6<span class="_ _7d"> </span><span class="ff5 fs4">li<span class="_ _40"> </span>a1,<span class="_ _e"> </span>0<span class="_ _50"> </span>#<span class="_ _e"> </span>x<span class="_ _e"> </span>=<span class="_ _e"> </span>0</span></div><div class="t m0 xd5 h8 y1007 ff24 fs12 fc0 sc0 ls0 ws0">7<span class="_ _1f"> </span><span class="ff5 fs4">skip_inner:</span></div><div class="t m0 xd5 h8 y1008 ff24 fs12 fc0 sc0 ls0 ws0">8<span class="_ _1f"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x14 h7 yea ff3 fs4 fc0 sc0 ls0 ws0">In the<span class="_ _5"> </span>previous<span class="_ _5"> </span>example,<span class="_ _5"> </span>we used tw<span class="_ _8"></span>o<span class="_ _5"> </span>diﬀerent lab<span class="_ _4"></span>els, one<span class="_ _5"> </span>to<span class="_ _5"> </span>skip the<span class="_ _5"> </span>execution<span class="_ _5"> </span>of</div><div class="t m0 x13 h7 yeb ff3 fs4 fc0 sc0 ls0 ws0">the “then blo<span class="_ _4"></span>c<span class="_ _8"></span>k” of the outer if statement (<span class="ff5">skip</span>) and another to skip the execution of</div><div class="t m0 x13 h7 yec ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _13"> </span>“then<span class="_ _12"> </span>blo<span class="_ _4"></span>ck”<span class="_ _12"> </span>of<span class="_ _13"> </span>the<span class="_ _13"> </span>inner<span class="_ _12"> </span>if statemen<span class="_ _8"></span>t (<span class="ff5">skip<span class="_ _d"> </span>inner</span>).<span class="_ _3"> </span>In this<span class="_ _12"> </span>case, since<span class="_ _12"> </span>b<span class="_ _4"></span>oth<span class="_ _13"> </span>labels</div><div class="t m0 x13 h7 y61 ff3 fs4 fc0 sc0 ls0 ws0">represen<span class="_ _1"></span>t<span class="_ _13"> </span>the<span class="_ _13"> </span>same<span class="_ _12"> </span>address (notice<span class="_ _12"> </span>that there<span class="_ _13"> </span>are<span class="_ _12"> </span>no instructions<span class="_ _12"> </span>or data<span class="_ _12"> </span>b<span class="_ _4"></span>etw<span class="_ _8"></span>een<span class="_ _13"> </span>b<span class="_ _4"></span>oth</div><div class="t m0 x44 h7 yc ff5 fs4 fc0 sc0 ls0 ws0">http://riscv-<span class="_ _4"></span>programming.org<span class="_ _2"> </span><span class="ff3">(V<span class="_ _7"></span>ersion:<span class="_ _3"> </span>May<span class="_ _2"> </span>9,<span class="_ _2"> </span>2022)<span class="_ _6a"> </span>80</span></div><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:193.915000px;bottom:36.395000px;width:148.940000px;height:13.948000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
